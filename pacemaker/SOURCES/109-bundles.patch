From f3593e410643dcafa81e28da27c3a623e306fa61 Mon Sep 17 00:00:00 2001
From: Andrew Beekhof <andrew@beekhof.net>
Date: Wed, 6 Dec 2017 14:48:57 +1100
Subject: [PATCH 1/5] Fix: PE: Ordering bundle child stops/demotes after
 container fencing causes graph loops

---
 include/crm/pengine/status.h            |  6 ++++++
 lib/pengine/utils.c                     |  2 +-
 pengine/allocate.c                      |  4 +++-
 pengine/native.c                        |  9 +++++++--
 pengine/test10/bundle-order-fencing.dot |  5 -----
 pengine/test10/bundle-order-fencing.exp | 15 ---------------
 6 files changed, 17 insertions(+), 24 deletions(-)

diff --git a/include/crm/pengine/status.h b/include/crm/pengine/status.h
index f2a8910..fca7f12 100644
--- a/include/crm/pengine/status.h
+++ b/include/crm/pengine/status.h
@@ -517,4 +517,10 @@ pe_rsc_is_anon_clone(resource_t *rsc)
     return pe_rsc_is_clone(rsc) && is_not_set(rsc->flags, pe_rsc_unique);
 }
 
+static inline bool
+pe_rsc_is_bundled(resource_t *rsc)
+{
+    return uber_parent(rsc)->parent != NULL;
+}
+
 #endif
diff --git a/lib/pengine/utils.c b/lib/pengine/utils.c
index 0ce0e30..a875226 100644
--- a/lib/pengine/utils.c
+++ b/lib/pengine/utils.c
@@ -1015,7 +1015,7 @@ unpack_operation(action_t * action, xmlNode * xml_obj, resource_t * container,
         value = "nothing (resource)";
     }
 
-    pe_rsc_trace(action->rsc, "\tAction %s requires: %s", action->task, value);
+    pe_rsc_trace(action->rsc, "\tAction %s requires: %s", action->uuid, value);
 
     value = unpack_operation_on_fail(action);
 
diff --git a/pengine/allocate.c b/pengine/allocate.c
index 98464a9..2ae491c 100644
--- a/pengine/allocate.c
+++ b/pengine/allocate.c
@@ -1470,7 +1470,9 @@ fence_guest(pe_node_t *node, pe_action_t *done, pe_working_set_t *data_set)
 
     /* Order/imply other actions relative to pseudo-fence as with real fence */
     stonith_constraints(node, stonith_op, data_set);
-    order_actions(stonith_op, done, pe_order_implies_then);
+    if(done) {
+        order_actions(stonith_op, done, pe_order_implies_then);
+    }
 }
 
 /*
diff --git a/pengine/native.c b/pengine/native.c
index 0013e33..96c9a26 100644
--- a/pengine/native.c
+++ b/pengine/native.c
@@ -3164,7 +3164,9 @@ native_stop_constraints(resource_t * rsc, action_t * stonith_op, pe_working_set_
                  */
                 flags |= pe_order_preserve;
             }
-            order_actions(stonith_op, action, flags);
+            if (pe_rsc_is_bundled(rsc) == FALSE) {
+                order_actions(stonith_op, action, flags);
+            }
             order_actions(stonith_op, parent_stop, flags);
         }
 
@@ -3252,7 +3254,10 @@ native_stop_constraints(resource_t * rsc, action_t * stonith_op, pe_working_set_
             update_action_flags(action, pe_action_pseudo, __FUNCTION__, __LINE__);
             update_action_flags(action, pe_action_runnable, __FUNCTION__, __LINE__);
 
-            if (start == NULL || start->needs > rsc_req_quorum) {
+            if (pe_rsc_is_bundled(rsc)) {
+                /* Do nothing, let the recovery be ordered after the parent's implied stop */
+
+            } else if (start == NULL || start->needs > rsc_req_quorum) {
                 order_actions(stonith_op, action, pe_order_preserve|pe_order_optional);
             }
         }
diff --git a/pengine/test10/bundle-order-fencing.dot b/pengine/test10/bundle-order-fencing.dot
index a7e5805..64b6326 100644
--- a/pengine/test10/bundle-order-fencing.dot
+++ b/pengine/test10/bundle-order-fencing.dot
@@ -403,19 +403,14 @@ digraph "g" {
 "redis_stop_0 redis-bundle-0" -> "redis_start_0 redis-bundle-0" [ style = dashed]
 "redis_stop_0 redis-bundle-0" [ style=bold color="green" fontcolor="orange"]
 "stonith 'off' galera-bundle-0" -> "galera-bundle-master_stop_0" [ style = bold]
-"stonith 'off' galera-bundle-0" -> "galera_demote_0 galera-bundle-0" [ style = bold]
-"stonith 'off' galera-bundle-0" -> "galera_stop_0 galera-bundle-0" [ style = bold]
 "stonith 'off' galera-bundle-0" -> "stonith_complete" [ style = bold]
 "stonith 'off' galera-bundle-0" [ style=bold color="green" fontcolor="orange"]
 "stonith 'off' rabbitmq-bundle-0" -> "rabbitmq-bundle-clone_stop_0" [ style = bold]
 "stonith 'off' rabbitmq-bundle-0" -> "rabbitmq_post_notify_stonith_0" [ style = bold]
-"stonith 'off' rabbitmq-bundle-0" -> "rabbitmq_stop_0 rabbitmq-bundle-0" [ style = bold]
 "stonith 'off' rabbitmq-bundle-0" -> "stonith_complete" [ style = bold]
 "stonith 'off' rabbitmq-bundle-0" [ style=bold color="green" fontcolor="orange"]
 "stonith 'off' redis-bundle-0" -> "redis-bundle-master_stop_0" [ style = bold]
-"stonith 'off' redis-bundle-0" -> "redis_demote_0 redis-bundle-0" [ style = bold]
 "stonith 'off' redis-bundle-0" -> "redis_post_notify_stonith_0" [ style = bold]
-"stonith 'off' redis-bundle-0" -> "redis_stop_0 redis-bundle-0" [ style = bold]
 "stonith 'off' redis-bundle-0" -> "stonith_complete" [ style = bold]
 "stonith 'off' redis-bundle-0" [ style=bold color="green" fontcolor="orange"]
 "stonith 'reboot' controller-0" -> "galera-bundle-0_stop_0 controller-0" [ style = bold]
diff --git a/pengine/test10/bundle-order-fencing.exp b/pengine/test10/bundle-order-fencing.exp
index 8e35f32..78ce675 100644
--- a/pengine/test10/bundle-order-fencing.exp
+++ b/pengine/test10/bundle-order-fencing.exp
@@ -55,9 +55,6 @@
       <trigger>
         <pseudo_event id="71" operation="stop" operation_key="rabbitmq-bundle-clone_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="209" operation="stonith" operation_key="stonith-rabbitmq-bundle-0-off" on_node="rabbitmq-bundle-0" on_node_uuid="rabbitmq-bundle-0"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="4">
@@ -440,9 +437,6 @@
       <trigger>
         <pseudo_event id="108" operation="stop" operation_key="galera-bundle-master_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="208" operation="stonith" operation_key="stonith-galera-bundle-0-off" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="31">
@@ -455,9 +449,6 @@
       <trigger>
         <pseudo_event id="112" operation="demote" operation_key="galera-bundle-master_demote_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="208" operation="stonith" operation_key="stonith-galera-bundle-0-off" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="32" priority="1000000">
@@ -701,9 +692,6 @@
       <trigger>
         <pseudo_event id="151" operation="stop" operation_key="redis-bundle-master_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="214" operation="stonith" operation_key="stonith-redis-bundle-0-off" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="50">
@@ -716,9 +704,6 @@
       <trigger>
         <pseudo_event id="163" operation="demote" operation_key="redis-bundle-master_demote_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="214" operation="stonith" operation_key="stonith-redis-bundle-0-off" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="51" priority="1000000">
-- 
1.8.3.1


From 906cd4a9e6b871eefb6d113354f9045c1826711a Mon Sep 17 00:00:00 2001
From: Andrew Beekhof <andrew@beekhof.net>
Date: Wed, 6 Dec 2017 15:04:21 +1100
Subject: [PATCH 2/5] Fix: PE: Only allowed nodes need to be considered when
 ordering resource startup after _all_ recovery

---
 pengine/native.c                            | 1 +
 pengine/test10/bundle-order-fencing.dot     | 2 --
 pengine/test10/bundle-order-fencing.exp     | 6 ------
 pengine/test10/bundle-order-fencing.summary | 8 ++++----
 4 files changed, 5 insertions(+), 12 deletions(-)

diff --git a/pengine/native.c b/pengine/native.c
index 96c9a26..d4f1ff7 100644
--- a/pengine/native.c
+++ b/pengine/native.c
@@ -3088,6 +3088,7 @@ native_start_constraints(resource_t * rsc, action_t * stonith_op, pe_working_set
             order_actions(stonith_done, action, pe_order_optional);
 
         } else if (safe_str_eq(action->task, RSC_START)
+                   && NULL != pe_hash_table_lookup(rsc->allowed_nodes, target->details->id)
                    && NULL == pe_hash_table_lookup(rsc->known_on, target->details->id)) {
             /* if known == NULL, then we don't know if
              *   the resource is active on the node
diff --git a/pengine/test10/bundle-order-fencing.dot b/pengine/test10/bundle-order-fencing.dot
index 64b6326..d653250 100644
--- a/pengine/test10/bundle-order-fencing.dot
+++ b/pengine/test10/bundle-order-fencing.dot
@@ -3,8 +3,6 @@ digraph "g" {
 "Cancel redis_monitor_45000 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
 "Cancel redis_monitor_60000 redis-bundle-1" -> "redis_promote_0 redis-bundle-1" [ style = bold]
 "Cancel redis_monitor_60000 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
-"all_stopped" -> "stonith-fence_ipmilan-5254000dcb3f_start_0 controller-2" [ style = bold]
-"all_stopped" -> "stonith-fence_ipmilan-5254003e8e97_start_0 controller-1" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "galera-bundle-0_monitor_0 controller-1" -> "galera-bundle-0_start_0 controller-2" [ style = dashed]
 "galera-bundle-0_monitor_0 controller-1" [ style=bold color="green" fontcolor="black"]
diff --git a/pengine/test10/bundle-order-fencing.exp b/pengine/test10/bundle-order-fencing.exp
index 78ce675..708815f 100644
--- a/pengine/test10/bundle-order-fencing.exp
+++ b/pengine/test10/bundle-order-fencing.exp
@@ -1624,9 +1624,6 @@
     </action_set>
     <inputs>
       <trigger>
-        <pseudo_event id="29" operation="all_stopped" operation_key="all_stopped"/>
-      </trigger>
-      <trigger>
         <pseudo_event id="201" operation="stop" operation_key="stonith-fence_ipmilan-5254003e8e97_stop_0"/>
       </trigger>
     </inputs>
@@ -1661,9 +1658,6 @@
     </action_set>
     <inputs>
       <trigger>
-        <pseudo_event id="29" operation="all_stopped" operation_key="all_stopped"/>
-      </trigger>
-      <trigger>
         <pseudo_event id="204" operation="stop" operation_key="stonith-fence_ipmilan-5254000dcb3f_stop_0"/>
       </trigger>
     </inputs>
diff --git a/pengine/test10/bundle-order-fencing.summary b/pengine/test10/bundle-order-fencing.summary
index e78c531..ee2c361 100644
--- a/pengine/test10/bundle-order-fencing.summary
+++ b/pengine/test10/bundle-order-fencing.summary
@@ -91,6 +91,8 @@ Executing cluster transition:
  * Pseudo action:   redis-bundle-master_demote_0
  * Pseudo action:   redis-bundle-0_stop_0
  * Pseudo action:   haproxy-bundle-docker-0_stop_0
+ * Resource action: stonith-fence_ipmilan-5254003e8e97 start on controller-1
+ * Resource action: stonith-fence_ipmilan-5254000dcb3f start on controller-2
  * Pseudo action:   stonith-redis-bundle-0-off on redis-bundle-0
  * Pseudo action:   stonith-rabbitmq-bundle-0-off on rabbitmq-bundle-0
  * Pseudo action:   stonith-galera-bundle-0-off on galera-bundle-0
@@ -107,6 +109,8 @@ Executing cluster transition:
  * Pseudo action:   ip-192.168.24.7_stop_0
  * Pseudo action:   ip-10.0.0.109_stop_0
  * Pseudo action:   ip-172.17.4.11_stop_0
+ * Resource action: stonith-fence_ipmilan-5254003e8e97 monitor=60000 on controller-1
+ * Resource action: stonith-fence_ipmilan-5254000dcb3f monitor=60000 on controller-2
  * Pseudo action:   galera-bundle_demoted_0
  * Pseudo action:   galera-bundle_stop_0
  * Pseudo action:   rabbitmq_stop_0
@@ -172,11 +176,7 @@ Executing cluster transition:
  * Pseudo action:   rabbitmq-bundle_running_0
  * Pseudo action:   all_stopped
  * Pseudo action:   redis-bundle-master_running_0
- * Resource action: stonith-fence_ipmilan-5254003e8e97 start on controller-1
- * Resource action: stonith-fence_ipmilan-5254000dcb3f start on controller-2
  * Pseudo action:   redis-bundle-master_post_notify_running_0
- * Resource action: stonith-fence_ipmilan-5254003e8e97 monitor=60000 on controller-1
- * Resource action: stonith-fence_ipmilan-5254000dcb3f monitor=60000 on controller-2
  * Resource action: redis           notify on redis-bundle-0
  * Resource action: redis           notify on redis-bundle-1
  * Resource action: redis           notify on redis-bundle-2
-- 
1.8.3.1


From c6d208dfbda95d8610519de50075087e56a4f8c0 Mon Sep 17 00:00:00 2001
From: Andrew Beekhof <andrew@beekhof.net>
Date: Wed, 6 Dec 2017 23:50:12 +1100
Subject: [PATCH 3/5] Fix: PE: Remote connection resources are safe to to
 require only quorum

---
 lib/pengine/complex.c                              |  6 ++++
 pengine/test10/bug-rh-1097457.dot                  |  2 +-
 pengine/test10/bug-rh-1097457.exp                  |  6 ++--
 pengine/test10/bug-rh-1097457.summary              | 14 ++++----
 pengine/test10/bundle-order-fencing.dot            |  6 ----
 pengine/test10/bundle-order-fencing.exp            | 18 ++--------
 pengine/test10/bundle-order-fencing.summary        |  8 ++---
 pengine/test10/guest-node-host-dies.dot            |  6 ++--
 pengine/test10/guest-node-host-dies.exp            | 24 +++++---------
 pengine/test10/guest-node-host-dies.summary        | 12 +++----
 pengine/test10/remote-fence-unclean.dot            |  2 +-
 pengine/test10/remote-fence-unclean.exp            |  2 +-
 pengine/test10/remote-partial-migrate2.dot         |  6 +---
 pengine/test10/remote-partial-migrate2.exp         | 27 ++++-----------
 pengine/test10/remote-partial-migrate2.summary     | 38 +++++++++++-----------
 pengine/test10/remote-recover-all.dot              |  3 +-
 pengine/test10/remote-recover-all.exp              | 10 ++----
 pengine/test10/remote-recover-all.summary          |  8 ++---
 pengine/test10/remote-recover-connection.dot       |  6 ----
 pengine/test10/remote-recover-connection.exp       | 27 ++-------------
 pengine/test10/remote-recover-connection.summary   | 24 +++++++-------
 pengine/test10/remote-recover-fail.dot             |  2 +-
 pengine/test10/remote-recover-fail.exp             |  2 +-
 pengine/test10/remote-recover-no-resources.dot     |  3 +-
 pengine/test10/remote-recover-no-resources.exp     | 10 ++----
 pengine/test10/remote-recover-no-resources.summary |  8 ++---
 pengine/test10/remote-recover-unknown.dot          |  3 +-
 pengine/test10/remote-recover-unknown.exp          | 10 ++----
 pengine/test10/remote-recover-unknown.summary      |  8 ++---
 pengine/test10/remote-recovery.dot                 |  6 ----
 pengine/test10/remote-recovery.exp                 | 27 ++-------------
 pengine/test10/remote-recovery.summary             | 24 +++++++-------
 pengine/test10/remote-unclean2.dot                 |  2 +-
 pengine/test10/remote-unclean2.exp                 |  2 +-
 pengine/test10/whitebox-fail1.dot                  |  2 +-
 pengine/test10/whitebox-fail1.exp                  |  6 ++--
 pengine/test10/whitebox-fail1.summary              |  8 ++---
 pengine/test10/whitebox-fail2.dot                  |  2 +-
 pengine/test10/whitebox-fail2.exp                  |  6 ++--
 pengine/test10/whitebox-fail2.summary              |  8 ++---
 pengine/test10/whitebox-imply-stop-on-fence.dot    |  6 ++--
 pengine/test10/whitebox-imply-stop-on-fence.exp    | 24 +++++---------
 .../test10/whitebox-imply-stop-on-fence.summary    | 20 ++++++------
 pengine/test10/whitebox-ms-ordering.dot            |  4 +--
 pengine/test10/whitebox-ms-ordering.exp            | 12 +++----
 pengine/test10/whitebox-ms-ordering.summary        |  8 ++---
 pengine/test10/whitebox-unexpectedly-running.dot   |  2 ++
 pengine/test10/whitebox-unexpectedly-running.exp   |  6 ++++
 48 files changed, 182 insertions(+), 294 deletions(-)

diff --git a/lib/pengine/complex.c b/lib/pengine/complex.c
index 3e0abed..d58d6be 100644
--- a/lib/pengine/complex.c
+++ b/lib/pengine/complex.c
@@ -784,6 +784,12 @@ common_unpack(xmlNode * xml_obj, resource_t ** rsc,
         if(is_set((*rsc)->flags, pe_rsc_fence_device)) {
             value = "quorum";
 
+        } else if (safe_str_eq(crm_element_value((*rsc)->xml, XML_AGENT_ATTR_CLASS), "ocf")
+                   && safe_str_eq(crm_element_value((*rsc)->xml, XML_AGENT_ATTR_PROVIDER), "pacemaker")
+                   && safe_str_eq(crm_element_value((*rsc)->xml, XML_ATTR_TYPE), "remote")
+            ) {
+            value = "quorum";
+
         } else if (is_set(data_set->flags, pe_flag_enable_unfencing)) {
             value = "unfencing";
 
diff --git a/pengine/test10/bug-rh-1097457.dot b/pengine/test10/bug-rh-1097457.dot
index 5984811..94ffe13 100644
--- a/pengine/test10/bug-rh-1097457.dot
+++ b/pengine/test10/bug-rh-1097457.dot
@@ -80,6 +80,7 @@ digraph "g" {
 "VM2_stop_0 lama3" -> "all_stopped" [ style = bold]
 "VM2_stop_0 lama3" -> "stonith 'reboot' lamaVM2" [ style = bold]
 "VM2_stop_0 lama3" [ style=bold color="green" fontcolor="black"]
+"all_stopped" -> "lamaVM2_start_0 lama3" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "lamaVM2-G4_running_0" [ style=bold color="green" fontcolor="orange"]
 "lamaVM2-G4_start_0" -> "FAKE4-IP_start_0 lamaVM2" [ style = bold]
@@ -121,6 +122,5 @@ digraph "g" {
 "stonith_complete" -> "FSlun3_start_0 lama2" [ style = bold]
 "stonith_complete" -> "VM2_start_0 lama3" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "lamaVM2_start_0 lama3" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/bug-rh-1097457.exp b/pengine/test10/bug-rh-1097457.exp
index 4eedd91..f1451b5 100644
--- a/pengine/test10/bug-rh-1097457.exp
+++ b/pengine/test10/bug-rh-1097457.exp
@@ -599,13 +599,13 @@
     </action_set>
     <inputs>
       <trigger>
-        <rsc_op id="57" operation="start" operation_key="VM2_start_0" on_node="lama3" on_node_uuid="2"/>
+        <pseudo_event id="25" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <rsc_op id="111" operation="stop" operation_key="lamaVM2_stop_0" on_node="lama3" on_node_uuid="2"/>
+        <rsc_op id="57" operation="start" operation_key="VM2_start_0" on_node="lama3" on_node_uuid="2"/>
       </trigger>
       <trigger>
-        <pseudo_event id="115" operation="stonith_complete" operation_key="stonith_complete"/>
+        <rsc_op id="111" operation="stop" operation_key="lamaVM2_stop_0" on_node="lama3" on_node_uuid="2"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/bug-rh-1097457.summary b/pengine/test10/bug-rh-1097457.summary
index e23c6ad..0e7d2e0 100644
--- a/pengine/test10/bug-rh-1097457.summary
+++ b/pengine/test10/bug-rh-1097457.summary
@@ -70,26 +70,26 @@ Executing cluster transition:
  * Pseudo action:   lamaVM2-G4_stop_0
  * Pseudo action:   FAKE4-IP_stop_0
  * Pseudo action:   FAKE6-clone_stop_0
- * Resource action: lamaVM2         start on lama3
- * Resource action: lamaVM2         monitor=30000 on lama3
- * Resource action: FSlun3          monitor=10000 on lamaVM2
  * Pseudo action:   FAKE4_stop_0
  * Pseudo action:   FAKE6_stop_0
  * Pseudo action:   FAKE6-clone_stopped_0
  * Pseudo action:   FAKE6-clone_start_0
  * Pseudo action:   lamaVM2-G4_stopped_0
- * Resource action: FAKE6           start on lamaVM2
- * Resource action: FAKE6           monitor=30000 on lamaVM2
- * Pseudo action:   FAKE6-clone_running_0
  * Pseudo action:   FSlun3_stop_0
  * Pseudo action:   all_stopped
  * Resource action: FSlun3          start on lama2
  * Pseudo action:   lamaVM2-G4_start_0
+ * Resource action: lamaVM2         start on lama3
+ * Resource action: lamaVM2         monitor=30000 on lama3
+ * Resource action: FSlun3          monitor=10000 on lama2
+ * Resource action: FSlun3          monitor=10000 on lamaVM2
  * Resource action: FAKE4           start on lamaVM2
  * Resource action: FAKE4           monitor=30000 on lamaVM2
  * Resource action: FAKE4-IP        start on lamaVM2
  * Resource action: FAKE4-IP        monitor=30000 on lamaVM2
- * Resource action: FSlun3          monitor=10000 on lama2
+ * Resource action: FAKE6           start on lamaVM2
+ * Resource action: FAKE6           monitor=30000 on lamaVM2
+ * Pseudo action:   FAKE6-clone_running_0
  * Pseudo action:   lamaVM2-G4_running_0
 
 Revised cluster status:
diff --git a/pengine/test10/bundle-order-fencing.dot b/pengine/test10/bundle-order-fencing.dot
index d653250..980bab4 100644
--- a/pengine/test10/bundle-order-fencing.dot
+++ b/pengine/test10/bundle-order-fencing.dot
@@ -411,15 +411,12 @@ digraph "g" {
 "stonith 'off' redis-bundle-0" -> "redis_post_notify_stonith_0" [ style = bold]
 "stonith 'off' redis-bundle-0" -> "stonith_complete" [ style = bold]
 "stonith 'off' redis-bundle-0" [ style=bold color="green" fontcolor="orange"]
-"stonith 'reboot' controller-0" -> "galera-bundle-0_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "galera-bundle-docker-0_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "haproxy-bundle-docker-0_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "ip-10.0.0.109_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "ip-172.17.4.11_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "ip-192.168.24.7_stop_0 controller-0" [ style = bold]
-"stonith 'reboot' controller-0" -> "rabbitmq-bundle-0_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "rabbitmq-bundle-docker-0_stop_0 controller-0" [ style = bold]
-"stonith 'reboot' controller-0" -> "redis-bundle-0_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "redis-bundle-docker-0_stop_0 controller-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "stonith 'off' galera-bundle-0" [ style = bold]
 "stonith 'reboot' controller-0" -> "stonith 'off' rabbitmq-bundle-0" [ style = bold]
@@ -439,14 +436,11 @@ digraph "g" {
 "stonith-fence_ipmilan-5254003e8e97_stop_0 controller-0" -> "stonith-fence_ipmilan-5254003e8e97_start_0 controller-1" [ style = bold]
 "stonith-fence_ipmilan-5254003e8e97_stop_0 controller-0" [ style=bold color="green" fontcolor="orange"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "galera-bundle-0_start_0 controller-2" [ style = dashed]
 "stonith_complete" -> "galera_start_0 galera-bundle-0" [ style = dashed]
 "stonith_complete" -> "ip-10.0.0.109_start_0 controller-1" [ style = bold]
 "stonith_complete" -> "ip-172.17.4.11_start_0 controller-1" [ style = bold]
 "stonith_complete" -> "ip-192.168.24.7_start_0 controller-2" [ style = bold]
-"stonith_complete" -> "rabbitmq-bundle-0_start_0 controller-1" [ style = dashed]
 "stonith_complete" -> "rabbitmq_start_0 rabbitmq-bundle-0" [ style = dashed]
-"stonith_complete" -> "redis-bundle-0_start_0 controller-1" [ style = dashed]
 "stonith_complete" -> "redis_promote_0 redis-bundle-1" [ style = bold]
 "stonith_complete" -> "redis_start_0 redis-bundle-0" [ style = dashed]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
diff --git a/pengine/test10/bundle-order-fencing.exp b/pengine/test10/bundle-order-fencing.exp
index 708815f..dc4c5c9 100644
--- a/pengine/test10/bundle-order-fencing.exp
+++ b/pengine/test10/bundle-order-fencing.exp
@@ -379,11 +379,7 @@
         <attributes CRM_meta_container="rabbitmq-bundle-docker-0" CRM_meta_timeout="20000" addr="controller-0"  port="3122"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-0-reboot" on_node="controller-0" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="26">
     <action_set>
@@ -565,11 +561,7 @@
         <attributes CRM_meta_container="galera-bundle-docker-0" CRM_meta_timeout="20000" addr="controller-0"  port="3123"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-0-reboot" on_node="controller-0" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="40">
     <action_set>
@@ -1413,11 +1405,7 @@
         <attributes CRM_meta_container="redis-bundle-docker-0" CRM_meta_timeout="20000" addr="controller-0"  port="3124"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-0-reboot" on_node="controller-0" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="97">
     <action_set>
diff --git a/pengine/test10/bundle-order-fencing.summary b/pengine/test10/bundle-order-fencing.summary
index ee2c361..0457f83 100644
--- a/pengine/test10/bundle-order-fencing.summary
+++ b/pengine/test10/bundle-order-fencing.summary
@@ -56,10 +56,12 @@ Transition Summary:
 
 Executing cluster transition:
  * Pseudo action:   rabbitmq-bundle-clone_pre_notify_stop_0
+ * Pseudo action:   rabbitmq-bundle-0_stop_0
  * Resource action: rabbitmq-bundle-0 monitor on controller-2
  * Resource action: rabbitmq-bundle-0 monitor on controller-1
  * Resource action: rabbitmq-bundle-1 monitor on controller-2
  * Resource action: rabbitmq-bundle-2 monitor on controller-1
+ * Pseudo action:   galera-bundle-0_stop_0
  * Resource action: galera-bundle-0 monitor on controller-2
  * Resource action: galera-bundle-0 monitor on controller-1
  * Resource action: galera-bundle-1 monitor on controller-2
@@ -67,6 +69,7 @@ Executing cluster transition:
  * Resource action: redis           cancel=45000 on redis-bundle-1
  * Resource action: redis           cancel=60000 on redis-bundle-1
  * Pseudo action:   redis-bundle-master_pre_notify_demote_0
+ * Pseudo action:   redis-bundle-0_stop_0
  * Resource action: redis-bundle-0  monitor on controller-2
  * Resource action: redis-bundle-0  monitor on controller-1
  * Resource action: redis-bundle-1  monitor on controller-2
@@ -82,14 +85,12 @@ Executing cluster transition:
  * Resource action: rabbitmq        notify on rabbitmq-bundle-1
  * Resource action: rabbitmq        notify on rabbitmq-bundle-2
  * Pseudo action:   rabbitmq-bundle-clone_confirmed-pre_notify_stop_0
- * Pseudo action:   rabbitmq-bundle-0_stop_0
+ * Pseudo action:   rabbitmq-bundle-docker-0_stop_0
  * Pseudo action:   galera-bundle-master_demote_0
- * Pseudo action:   galera-bundle-0_stop_0
  * Resource action: redis           notify on redis-bundle-1
  * Resource action: redis           notify on redis-bundle-2
  * Pseudo action:   redis-bundle-master_confirmed-pre_notify_demote_0
  * Pseudo action:   redis-bundle-master_demote_0
- * Pseudo action:   redis-bundle-0_stop_0
  * Pseudo action:   haproxy-bundle-docker-0_stop_0
  * Resource action: stonith-fence_ipmilan-5254003e8e97 start on controller-1
  * Resource action: stonith-fence_ipmilan-5254000dcb3f start on controller-2
@@ -100,7 +101,6 @@ Executing cluster transition:
  * Pseudo action:   haproxy-bundle_stopped_0
  * Pseudo action:   rabbitmq_post_notify_stop_0
  * Pseudo action:   rabbitmq-bundle-clone_stop_0
- * Pseudo action:   rabbitmq-bundle-docker-0_stop_0
  * Pseudo action:   galera_demote_0
  * Pseudo action:   galera-bundle-master_demoted_0
  * Pseudo action:   redis_post_notify_stop_0
diff --git a/pengine/test10/guest-node-host-dies.dot b/pengine/test10/guest-node-host-dies.dot
index a85250d..c50e071 100644
--- a/pengine/test10/guest-node-host-dies.dot
+++ b/pengine/test10/guest-node-host-dies.dot
@@ -6,6 +6,8 @@ digraph "g" {
 "Fencing_stop_0 rhel7-4" -> "all_stopped" [ style = bold]
 "Fencing_stop_0 rhel7-4" [ style=bold color="green" fontcolor="black"]
 "all_stopped" -> "Fencing_start_0 rhel7-4" [ style = bold]
+"all_stopped" -> "lxc1_start_0 rhel7-2" [ style = bold]
+"all_stopped" -> "lxc2_start_0 rhel7-3" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "container1_start_0 rhel7-2" -> "lxc-ms_promote_0 lxc1" [ style = bold]
 "container1_start_0 rhel7-2" -> "lxc-ms_start_0 lxc1" [ style = bold]
@@ -115,8 +117,6 @@ digraph "g" {
 "stonith 'reboot' lxc2" [ style=bold color="green" fontcolor="orange"]
 "stonith 'reboot' rhel7-1" -> "container1_stop_0 rhel7-1" [ style = bold]
 "stonith 'reboot' rhel7-1" -> "container2_stop_0 rhel7-1" [ style = bold]
-"stonith 'reboot' rhel7-1" -> "lxc1_stop_0 rhel7-1" [ style = bold]
-"stonith 'reboot' rhel7-1" -> "lxc2_stop_0 rhel7-1" [ style = bold]
 "stonith 'reboot' rhel7-1" -> "rsc_rhel7-1_stop_0 rhel7-1" [ style = bold]
 "stonith 'reboot' rhel7-1" -> "stonith_complete" [ style = bold]
 "stonith 'reboot' rhel7-1" [ style=bold color="green" fontcolor="black"]
@@ -126,8 +126,6 @@ digraph "g" {
 "stonith_complete" -> "lxc-ms_promote_0 lxc1" [ style = bold]
 "stonith_complete" -> "lxc-ms_start_0 lxc1" [ style = bold]
 "stonith_complete" -> "lxc-ms_start_0 lxc2" [ style = bold]
-"stonith_complete" -> "lxc1_start_0 rhel7-2" [ style = bold]
-"stonith_complete" -> "lxc2_start_0 rhel7-3" [ style = bold]
 "stonith_complete" -> "rsc_rhel7-1_start_0 rhel7-5" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/guest-node-host-dies.exp b/pengine/test10/guest-node-host-dies.exp
index 8dbadde..b5a34ea 100644
--- a/pengine/test10/guest-node-host-dies.exp
+++ b/pengine/test10/guest-node-host-dies.exp
@@ -432,6 +432,9 @@
     </action_set>
     <inputs>
       <trigger>
+        <pseudo_event id="3" operation="all_stopped" operation_key="all_stopped"/>
+      </trigger>
+      <trigger>
         <rsc_op id="6" operation="monitor" operation_key="lxc1_monitor_0" on_node="rhel7-3" on_node_uuid="4"/>
       </trigger>
       <trigger>
@@ -446,9 +449,6 @@
       <trigger>
         <pseudo_event id="34" operation="stop" operation_key="lxc1_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="40" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="27">
@@ -457,11 +457,7 @@
         <attributes CRM_meta_container="container1" CRM_meta_timeout="20000" />
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-rhel7-1-reboot" on_node="rhel7-1" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="28">
     <action_set>
@@ -512,6 +508,9 @@
     </action_set>
     <inputs>
       <trigger>
+        <pseudo_event id="3" operation="all_stopped" operation_key="all_stopped"/>
+      </trigger>
+      <trigger>
         <rsc_op id="5" operation="monitor" operation_key="lxc2_monitor_0" on_node="rhel7-2" on_node_uuid="2"/>
       </trigger>
       <trigger>
@@ -526,9 +525,6 @@
       <trigger>
         <pseudo_event id="37" operation="stop" operation_key="lxc2_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="40" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="33">
@@ -537,11 +533,7 @@
         <attributes CRM_meta_container="container2" CRM_meta_timeout="20000" />
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-rhel7-1-reboot" on_node="rhel7-1" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="34">
     <action_set>
diff --git a/pengine/test10/guest-node-host-dies.summary b/pengine/test10/guest-node-host-dies.summary
index 4feee88..9813d2b 100644
--- a/pengine/test10/guest-node-host-dies.summary
+++ b/pengine/test10/guest-node-host-dies.summary
@@ -26,16 +26,16 @@ Transition Summary:
 Executing cluster transition:
  * Resource action: Fencing         stop on rhel7-4
  * Pseudo action:   lxc-ms-master_demote_0
+ * Pseudo action:   lxc1_stop_0
  * Resource action: lxc1            monitor on rhel7-5
  * Resource action: lxc1            monitor on rhel7-4
  * Resource action: lxc1            monitor on rhel7-3
+ * Pseudo action:   lxc2_stop_0
  * Resource action: lxc2            monitor on rhel7-5
  * Resource action: lxc2            monitor on rhel7-4
  * Resource action: lxc2            monitor on rhel7-2
  * Fencing rhel7-1 (reboot)
  * Pseudo action:   rsc_rhel7-1_stop_0
- * Pseudo action:   lxc1_stop_0
- * Pseudo action:   lxc2_stop_0
  * Pseudo action:   container1_stop_0
  * Pseudo action:   container2_stop_0
  * Pseudo action:   stonith-lxc2-reboot on lxc2
@@ -47,21 +47,21 @@ Executing cluster transition:
  * Pseudo action:   lxc-ms_demote_0
  * Pseudo action:   lxc-ms-master_demoted_0
  * Pseudo action:   lxc-ms-master_stop_0
- * Resource action: lxc1            start on rhel7-2
- * Resource action: lxc2            start on rhel7-3
  * Resource action: rsc_rhel7-1     monitor=5000 on rhel7-5
  * Pseudo action:   lxc-ms_stop_0
  * Pseudo action:   lxc-ms_stop_0
  * Pseudo action:   lxc-ms-master_stopped_0
  * Pseudo action:   lxc-ms-master_start_0
- * Resource action: lxc1            monitor=30000 on rhel7-2
- * Resource action: lxc2            monitor=30000 on rhel7-3
  * Pseudo action:   all_stopped
  * Resource action: Fencing         start on rhel7-4
  * Resource action: Fencing         monitor=120000 on rhel7-4
+ * Resource action: lxc1            start on rhel7-2
+ * Resource action: lxc2            start on rhel7-3
  * Resource action: lxc-ms          start on lxc1
  * Resource action: lxc-ms          start on lxc2
  * Pseudo action:   lxc-ms-master_running_0
+ * Resource action: lxc1            monitor=30000 on rhel7-2
+ * Resource action: lxc2            monitor=30000 on rhel7-3
  * Resource action: lxc-ms          monitor=10000 on lxc2
  * Pseudo action:   lxc-ms-master_promote_0
  * Resource action: lxc-ms          promote on lxc1
diff --git a/pengine/test10/remote-fence-unclean.dot b/pengine/test10/remote-fence-unclean.dot
index b2829a7..76a676d 100644
--- a/pengine/test10/remote-fence-unclean.dot
+++ b/pengine/test10/remote-fence-unclean.dot
@@ -18,6 +18,7 @@
 "FAKE4_stop_0 18node1" -> "FAKE4_start_0 18node2" [ style = bold]
 "FAKE4_stop_0 18node1" -> "all_stopped" [ style = bold]
 "FAKE4_stop_0 18node1" [ style=bold color="green" fontcolor="black"]
+"all_stopped" -> "remote1_start_0 18node1" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "remote1_monitor_60000 18node1" [ style=bold color="green" fontcolor="black"]
 "remote1_start_0 18node1" -> "remote1_monitor_60000 18node1" [ style = bold]
@@ -32,6 +33,5 @@
 "stonith_complete" -> "FAKE3_start_0 18node1" [ style = bold]
 "stonith_complete" -> "FAKE4_start_0 18node2" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "remote1_start_0 18node1" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/remote-fence-unclean.exp b/pengine/test10/remote-fence-unclean.exp
index 3a07384..f77d7f6 100644
--- a/pengine/test10/remote-fence-unclean.exp
+++ b/pengine/test10/remote-fence-unclean.exp
@@ -11,7 +11,7 @@
         <rsc_op id="6" operation="stop" operation_key="remote1_stop_0" on_node="18node1" on_node_uuid="1"/>
       </trigger>
       <trigger>
-        <pseudo_event id="23" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="8" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/remote-partial-migrate2.dot b/pengine/test10/remote-partial-migrate2.dot
index a8bf29b..17c8bf3 100644
--- a/pengine/test10/remote-partial-migrate2.dot
+++ b/pengine/test10/remote-partial-migrate2.dot
@@ -89,6 +89,7 @@
 "FAKE9_stop_0 pcmk2" -> "FAKE9_start_0 pcmk_remote4" [ style = bold]
 "FAKE9_stop_0 pcmk2" -> "all_stopped" [ style = bold]
 "FAKE9_stop_0 pcmk2" [ style=bold color="green" fontcolor="black"]
+"all_stopped" -> "pcmk_remote5_start_0 pcmk2" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "pcmk_remote2_migrate_from_0 pcmk1" -> "pcmk_remote2_start_0 pcmk1" [ style = bold]
 "pcmk_remote2_migrate_from_0 pcmk1" -> "pcmk_remote2_stop_0 pcmk3" [ style = bold]
@@ -150,10 +151,5 @@
 "stonith_complete" -> "FAKE5_start_0 pcmk_remote4" [ style = bold]
 "stonith_complete" -> "FAKE9_start_0 pcmk_remote4" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "pcmk_remote2_migrate_from_0 pcmk1" [ style = bold]
-"stonith_complete" -> "pcmk_remote2_start_0 pcmk1" [ style = bold]
-"stonith_complete" -> "pcmk_remote4_start_0 pcmk2" [ style = bold]
-"stonith_complete" -> "pcmk_remote5_migrate_to_0 pcmk1" [ style = bold]
-"stonith_complete" -> "pcmk_remote5_start_0 pcmk2" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/remote-partial-migrate2.exp b/pengine/test10/remote-partial-migrate2.exp
index abf281f..bae190c 100644
--- a/pengine/test10/remote-partial-migrate2.exp
+++ b/pengine/test10/remote-partial-migrate2.exp
@@ -6,11 +6,7 @@
         <attributes CRM_meta_migrate_source="pcmk3" CRM_meta_migrate_target="pcmk1" CRM_meta_on_node="pcmk1" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000"  server="172.17.201.2"/>
       </rsc_op>
     </action_set>
-    <inputs>
-      <trigger>
-        <pseudo_event id="189" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="1">
     <action_set>
@@ -38,9 +34,6 @@
       <trigger>
         <rsc_op id="64" operation="migrate_from" operation_key="pcmk_remote2_migrate_from_0" on_node="pcmk1" on_node_uuid="1"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="189" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="3">
@@ -76,11 +69,7 @@
         <attributes CRM_meta_name="start" CRM_meta_on_node="pcmk2" CRM_meta_on_node_uuid="2" CRM_meta_timeout="10000"  server="172.17.201.4"/>
       </rsc_op>
     </action_set>
-    <inputs>
-      <trigger>
-        <pseudo_event id="189" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="6">
     <action_set>
@@ -102,11 +91,7 @@
         <attributes CRM_meta_migrate_source="pcmk1" CRM_meta_migrate_target="pcmk2" CRM_meta_on_node="pcmk1" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000"  server="172.17.201.5"/>
       </rsc_op>
     </action_set>
-    <inputs>
-      <trigger>
-        <pseudo_event id="189" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="8">
     <action_set>
@@ -129,13 +114,13 @@
     </action_set>
     <inputs>
       <trigger>
-        <rsc_op id="69" operation="stop" operation_key="pcmk_remote5_stop_0" on_node="pcmk1" on_node_uuid="1"/>
+        <pseudo_event id="56" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <rsc_op id="73" operation="migrate_from" operation_key="pcmk_remote5_migrate_from_0" on_node="pcmk2" on_node_uuid="2"/>
+        <rsc_op id="69" operation="stop" operation_key="pcmk_remote5_stop_0" on_node="pcmk1" on_node_uuid="1"/>
       </trigger>
       <trigger>
-        <pseudo_event id="189" operation="stonith_complete" operation_key="stonith_complete"/>
+        <rsc_op id="73" operation="migrate_from" operation_key="pcmk_remote5_migrate_from_0" on_node="pcmk2" on_node_uuid="2"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/remote-partial-migrate2.summary b/pengine/test10/remote-partial-migrate2.summary
index 2a242bd..6b6428d 100644
--- a/pengine/test10/remote-partial-migrate2.summary
+++ b/pengine/test10/remote-partial-migrate2.summary
@@ -84,6 +84,10 @@ Transition Summary:
  * Move       FAKE49           ( pcmk_remote3 -> pcmk_remote4 )  
 
 Executing cluster transition:
+ * Resource action: pcmk_remote2    migrate_from on pcmk1
+ * Resource action: pcmk_remote2    stop on pcmk3
+ * Resource action: pcmk_remote4    start on pcmk2
+ * Resource action: pcmk_remote5    migrate_to on pcmk1
  * Resource action: FAKE5           stop on pcmk1
  * Resource action: FAKE9           stop on pcmk2
  * Resource action: FAKE12          stop on pcmk1
@@ -99,11 +103,15 @@ Executing cluster transition:
  * Resource action: FAKE48          stop on pcmk1
  * Resource action: FAKE49          stop on pcmk_remote3
  * Fencing pcmk4 (reboot)
+ * Pseudo action:   pcmk_remote2_start_0
+ * Resource action: pcmk_remote4    monitor=60000 on pcmk2
+ * Resource action: pcmk_remote5    migrate_from on pcmk2
+ * Resource action: pcmk_remote5    stop on pcmk1
+ * Resource action: FAKE41          stop on pcmk_remote2
  * Pseudo action:   stonith_complete
- * Resource action: pcmk_remote2    migrate_from on pcmk1
- * Resource action: pcmk_remote2    stop on pcmk3
- * Resource action: pcmk_remote4    start on pcmk2
- * Resource action: pcmk_remote5    migrate_to on pcmk1
+ * Pseudo action:   all_stopped
+ * Resource action: pcmk_remote2    monitor=60000 on pcmk1
+ * Pseudo action:   pcmk_remote5_start_0
  * Resource action: FAKE5           start on pcmk_remote4
  * Resource action: FAKE9           start on pcmk_remote4
  * Resource action: FAKE12          start on pcmk2
@@ -114,12 +122,12 @@ Executing cluster transition:
  * Resource action: FAKE30          start on pcmk_remote1
  * Resource action: FAKE33          start on pcmk_remote4
  * Resource action: FAKE38          start on pcmk_remote1
+ * Resource action: FAKE39          start on pcmk_remote2
+ * Resource action: FAKE41          start on pcmk_remote4
+ * Resource action: FAKE47          start on pcmk_remote2
  * Resource action: FAKE48          start on pcmk_remote3
  * Resource action: FAKE49          start on pcmk_remote4
- * Pseudo action:   pcmk_remote2_start_0
- * Resource action: pcmk_remote4    monitor=60000 on pcmk2
- * Resource action: pcmk_remote5    migrate_from on pcmk2
- * Resource action: pcmk_remote5    stop on pcmk1
+ * Resource action: pcmk_remote5    monitor=60000 on pcmk2
  * Resource action: FAKE5           monitor=10000 on pcmk_remote4
  * Resource action: FAKE9           monitor=10000 on pcmk_remote4
  * Resource action: FAKE12          monitor=10000 on pcmk2
@@ -130,19 +138,11 @@ Executing cluster transition:
  * Resource action: FAKE30          monitor=10000 on pcmk_remote1
  * Resource action: FAKE33          monitor=10000 on pcmk_remote4
  * Resource action: FAKE38          monitor=10000 on pcmk_remote1
- * Resource action: FAKE39          start on pcmk_remote2
- * Resource action: FAKE41          stop on pcmk_remote2
- * Resource action: FAKE47          start on pcmk_remote2
- * Resource action: FAKE48          monitor=10000 on pcmk_remote3
- * Resource action: FAKE49          monitor=10000 on pcmk_remote4
- * Pseudo action:   all_stopped
- * Resource action: pcmk_remote2    monitor=60000 on pcmk1
- * Pseudo action:   pcmk_remote5_start_0
  * Resource action: FAKE39          monitor=10000 on pcmk_remote2
- * Resource action: FAKE41          start on pcmk_remote4
- * Resource action: FAKE47          monitor=10000 on pcmk_remote2
- * Resource action: pcmk_remote5    monitor=60000 on pcmk2
  * Resource action: FAKE41          monitor=10000 on pcmk_remote4
+ * Resource action: FAKE47          monitor=10000 on pcmk_remote2
+ * Resource action: FAKE48          monitor=10000 on pcmk_remote3
+ * Resource action: FAKE49          monitor=10000 on pcmk_remote4
 
 Revised cluster status:
 Online: [ pcmk1 pcmk2 pcmk3 ]
diff --git a/pengine/test10/remote-recover-all.dot b/pengine/test10/remote-recover-all.dot
index ad421e6..5b79602 100644
--- a/pengine/test10/remote-recover-all.dot
+++ b/pengine/test10/remote-recover-all.dot
@@ -1,4 +1,5 @@
 digraph "g" {
+"all_stopped" -> "galera-0_start_0 controller-2" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-5254005bdbb5_start_0 controller-2" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-525400b4f6bd_start_0 controller-0" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
@@ -114,7 +115,6 @@ digraph "g" {
 "redis_stop_0 controller-1" -> "all_stopped" [ style = bold]
 "redis_stop_0 controller-1" -> "redis-master_stopped_0" [ style = bold]
 "redis_stop_0 controller-1" [ style=bold color="green" fontcolor="orange"]
-"stonith 'reboot' controller-1" -> "galera-0_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "galera-2_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy-clone_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy_stop_0 controller-1" [ style = bold]
@@ -156,7 +156,6 @@ digraph "g" {
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" [ style=bold color="green" fontcolor="black"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "galera-0_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.14_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.17_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.4.11_start_0 controller-2" [ style = bold]
diff --git a/pengine/test10/remote-recover-all.exp b/pengine/test10/remote-recover-all.exp
index b0af5c4..556ccfd 100644
--- a/pengine/test10/remote-recover-all.exp
+++ b/pengine/test10/remote-recover-all.exp
@@ -36,10 +36,10 @@
     </action_set>
     <inputs>
       <trigger>
-        <pseudo_event id="30" operation="stop" operation_key="galera-0_stop_0"/>
+        <pseudo_event id="22" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <pseudo_event id="125" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="30" operation="stop" operation_key="galera-0_stop_0"/>
       </trigger>
     </inputs>
   </synapse>
@@ -49,11 +49,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="4">
     <action_set>
diff --git a/pengine/test10/remote-recover-all.summary b/pengine/test10/remote-recover-all.summary
index 6c9f058..ba074e5 100644
--- a/pengine/test10/remote-recover-all.summary
+++ b/pengine/test10/remote-recover-all.summary
@@ -56,13 +56,13 @@ Transition Summary:
  * Move       stonith-fence_ipmilan-5254005bdbb5     ( controller-1 -> controller-2 )  
 
 Executing cluster transition:
+ * Pseudo action:   galera-0_stop_0
  * Pseudo action:   galera-master_demote_0
  * Pseudo action:   redis-master_pre_notify_stop_0
  * Resource action: stonith-fence_ipmilan-525400bbf613 stop on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd stop on controller-0
  * Pseudo action:   stonith-fence_ipmilan-5254005bdbb5_stop_0
  * Fencing controller-1 (reboot)
- * Pseudo action:   galera-0_stop_0
  * Pseudo action:   redis_post_notify_stop_0
  * Resource action: redis           notify on controller-0
  * Resource action: redis           notify on controller-2
@@ -79,17 +79,14 @@ Executing cluster transition:
  * Pseudo action:   haproxy-clone_stopped_0
  * Fencing messaging-1 (reboot)
  * Pseudo action:   stonith_complete
- * Resource action: galera-0        start on controller-2
  * Pseudo action:   rabbitmq_post_notify_stop_0
  * Pseudo action:   rabbitmq-clone_stop_0
  * Pseudo action:   galera_stop_0
- * Resource action: galera          monitor=10000 on galera-0
  * Pseudo action:   galera-master_stopped_0
  * Pseudo action:   redis-master_post_notify_stopped_0
  * Pseudo action:   ip-172.17.1.14_stop_0
  * Pseudo action:   ip-172.17.1.17_stop_0
  * Pseudo action:   ip-172.17.4.11_stop_0
- * Resource action: galera-0        monitor=20000 on controller-2
  * Pseudo action:   galera-2_stop_0
  * Resource action: rabbitmq        notify on messaging-2
  * Resource action: rabbitmq        notify on messaging-0
@@ -108,11 +105,14 @@ Executing cluster transition:
  * Resource action: ip-172.17.1.17  monitor=10000 on controller-2
  * Resource action: ip-172.17.4.11  monitor=10000 on controller-2
  * Pseudo action:   all_stopped
+ * Resource action: galera-0        start on controller-2
+ * Resource action: galera          monitor=10000 on galera-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 start on controller-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 monitor=60000 on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd start on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd monitor=60000 on controller-0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 start on controller-2
+ * Resource action: galera-0        monitor=20000 on controller-2
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 monitor=60000 on controller-2
 Using the original execution date of: 2017-05-03 13:33:24Z
 
diff --git a/pengine/test10/remote-recover-connection.dot b/pengine/test10/remote-recover-connection.dot
index d6fdefe..6cd342f 100644
--- a/pengine/test10/remote-recover-connection.dot
+++ b/pengine/test10/remote-recover-connection.dot
@@ -89,14 +89,11 @@ digraph "g" {
 "redis_stop_0 controller-1" -> "all_stopped" [ style = bold]
 "redis_stop_0 controller-1" -> "redis-master_stopped_0" [ style = bold]
 "redis_stop_0 controller-1" [ style=bold color="green" fontcolor="orange"]
-"stonith 'reboot' controller-1" -> "galera-0_stop_0 controller-1" [ style = bold]
-"stonith 'reboot' controller-1" -> "galera-2_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy-clone_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "ip-172.17.1.14_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "ip-172.17.1.17_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "ip-172.17.4.11_stop_0 controller-1" [ style = bold]
-"stonith 'reboot' controller-1" -> "messaging-1_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "redis-master_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "redis_post_notify_stonith_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "redis_stop_0 controller-1" [ style = bold]
@@ -121,11 +118,8 @@ digraph "g" {
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" [ style=bold color="green" fontcolor="black"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "galera-0_start_0 controller-2" [ style = bold]
-"stonith_complete" -> "galera-2_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.14_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.17_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.4.11_start_0 controller-2" [ style = bold]
-"stonith_complete" -> "messaging-1_start_0 controller-2" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/remote-recover-connection.exp b/pengine/test10/remote-recover-connection.exp
index cf74efb..40338b4 100644
--- a/pengine/test10/remote-recover-connection.exp
+++ b/pengine/test10/remote-recover-connection.exp
@@ -23,9 +23,6 @@
       <trigger>
         <pseudo_event id="27" operation="stop" operation_key="messaging-1_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="132" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="2">
@@ -34,11 +31,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="3">
     <action_set>
@@ -64,9 +57,6 @@
       <trigger>
         <pseudo_event id="32" operation="stop" operation_key="galera-0_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="132" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="5">
@@ -75,11 +65,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="6">
     <action_set>
@@ -105,9 +91,6 @@
       <trigger>
         <pseudo_event id="37" operation="stop" operation_key="galera-2_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="132" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="8">
@@ -116,11 +99,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="9">
     <action_set>
diff --git a/pengine/test10/remote-recover-connection.summary b/pengine/test10/remote-recover-connection.summary
index b0433fe..8246cd9 100644
--- a/pengine/test10/remote-recover-connection.summary
+++ b/pengine/test10/remote-recover-connection.summary
@@ -52,6 +52,9 @@ Transition Summary:
  * Move       stonith-fence_ipmilan-5254005bdbb5     ( controller-1 -> controller-2 )  
 
 Executing cluster transition:
+ * Pseudo action:   messaging-1_stop_0
+ * Pseudo action:   galera-0_stop_0
+ * Pseudo action:   galera-2_stop_0
  * Pseudo action:   redis-master_pre_notify_stop_0
  * Resource action: stonith-fence_ipmilan-525400bbf613 stop on controller-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 start on controller-0
@@ -61,9 +64,12 @@ Executing cluster transition:
  * Resource action: stonith-fence_ipmilan-525400b4f6bd monitor=60000 on controller-0
  * Pseudo action:   stonith-fence_ipmilan-5254005bdbb5_stop_0
  * Fencing controller-1 (reboot)
- * Pseudo action:   messaging-1_stop_0
- * Pseudo action:   galera-0_stop_0
- * Pseudo action:   galera-2_stop_0
+ * Resource action: messaging-1     start on controller-2
+ * Resource action: galera-0        start on controller-2
+ * Resource action: galera-2        start on controller-2
+ * Resource action: rabbitmq        monitor=10000 on messaging-1
+ * Resource action: galera          monitor=10000 on galera-2
+ * Resource action: galera          monitor=10000 on galera-0
  * Pseudo action:   redis_post_notify_stop_0
  * Resource action: redis           notify on controller-0
  * Resource action: redis           notify on controller-2
@@ -72,20 +78,14 @@ Executing cluster transition:
  * Pseudo action:   haproxy-clone_stop_0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 start on controller-2
  * Pseudo action:   stonith_complete
- * Resource action: messaging-1     start on controller-2
- * Resource action: galera-0        start on controller-2
- * Resource action: galera-2        start on controller-2
- * Resource action: rabbitmq        monitor=10000 on messaging-1
- * Resource action: galera          monitor=10000 on galera-2
- * Resource action: galera          monitor=10000 on galera-0
+ * Resource action: messaging-1     monitor=20000 on controller-2
+ * Resource action: galera-0        monitor=20000 on controller-2
+ * Resource action: galera-2        monitor=20000 on controller-2
  * Pseudo action:   redis_stop_0
  * Pseudo action:   redis-master_stopped_0
  * Pseudo action:   haproxy_stop_0
  * Pseudo action:   haproxy-clone_stopped_0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 monitor=60000 on controller-2
- * Resource action: messaging-1     monitor=20000 on controller-2
- * Resource action: galera-0        monitor=20000 on controller-2
- * Resource action: galera-2        monitor=20000 on controller-2
  * Pseudo action:   redis-master_post_notify_stopped_0
  * Pseudo action:   ip-172.17.1.14_stop_0
  * Pseudo action:   ip-172.17.1.17_stop_0
diff --git a/pengine/test10/remote-recover-fail.dot b/pengine/test10/remote-recover-fail.dot
index 7b6edaa..3375687 100644
--- a/pengine/test10/remote-recover-fail.dot
+++ b/pengine/test10/remote-recover-fail.dot
@@ -18,6 +18,7 @@
 "FAKE6_stop_0 rhel7-auto4" -> "all_stopped" [ style = bold]
 "FAKE6_stop_0 rhel7-auto4" -> "rhel7-auto4_stop_0 rhel7-auto2" [ style = bold]
 "FAKE6_stop_0 rhel7-auto4" [ style=bold color="green" fontcolor="orange"]
+"all_stopped" -> "rhel7-auto4_start_0 rhel7-auto2" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "rhel7-auto4_monitor_60000 rhel7-auto2" [ style=bold color="green" fontcolor="black"]
 "rhel7-auto4_start_0 rhel7-auto2" -> "rhel7-auto4_monitor_60000 rhel7-auto2" [ style = bold]
@@ -33,6 +34,5 @@
 "stonith_complete" -> "FAKE2_start_0 rhel7-auto3" [ style = bold]
 "stonith_complete" -> "FAKE6_start_0 rhel7-auto2" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "rhel7-auto4_start_0 rhel7-auto2" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/remote-recover-fail.exp b/pengine/test10/remote-recover-fail.exp
index bd014ae..f908566 100644
--- a/pengine/test10/remote-recover-fail.exp
+++ b/pengine/test10/remote-recover-fail.exp
@@ -24,7 +24,7 @@
         <rsc_op id="3" operation="stop" operation_key="rhel7-auto4_stop_0" on_node="rhel7-auto2" on_node_uuid="2"/>
       </trigger>
       <trigger>
-        <pseudo_event id="26" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="5" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/remote-recover-no-resources.dot b/pengine/test10/remote-recover-no-resources.dot
index 1e16221..8c2f783 100644
--- a/pengine/test10/remote-recover-no-resources.dot
+++ b/pengine/test10/remote-recover-no-resources.dot
@@ -1,4 +1,5 @@
 digraph "g" {
+"all_stopped" -> "galera-0_start_0 controller-2" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-5254005bdbb5_start_0 controller-2" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-525400b4f6bd_start_0 controller-0" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
@@ -98,7 +99,6 @@ digraph "g" {
 "redis_stop_0 controller-1" -> "all_stopped" [ style = bold]
 "redis_stop_0 controller-1" -> "redis-master_stopped_0" [ style = bold]
 "redis_stop_0 controller-1" [ style=bold color="green" fontcolor="orange"]
-"stonith 'reboot' controller-1" -> "galera-0_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "galera-2_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy-clone_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy_stop_0 controller-1" [ style = bold]
@@ -135,7 +135,6 @@ digraph "g" {
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" [ style=bold color="green" fontcolor="black"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "galera-0_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.14_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.17_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.4.11_start_0 controller-2" [ style = bold]
diff --git a/pengine/test10/remote-recover-no-resources.exp b/pengine/test10/remote-recover-no-resources.exp
index 987acfd..0a57e27 100644
--- a/pengine/test10/remote-recover-no-resources.exp
+++ b/pengine/test10/remote-recover-no-resources.exp
@@ -36,10 +36,10 @@
     </action_set>
     <inputs>
       <trigger>
-        <pseudo_event id="29" operation="stop" operation_key="galera-0_stop_0"/>
+        <pseudo_event id="21" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <pseudo_event id="122" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="29" operation="stop" operation_key="galera-0_stop_0"/>
       </trigger>
     </inputs>
   </synapse>
@@ -49,11 +49,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="4">
     <action_set>
diff --git a/pengine/test10/remote-recover-no-resources.summary b/pengine/test10/remote-recover-no-resources.summary
index b682e5f..bed02d0 100644
--- a/pengine/test10/remote-recover-no-resources.summary
+++ b/pengine/test10/remote-recover-no-resources.summary
@@ -54,12 +54,12 @@ Transition Summary:
  * Move       stonith-fence_ipmilan-5254005bdbb5     ( controller-1 -> controller-2 )  
 
 Executing cluster transition:
+ * Pseudo action:   galera-0_stop_0
  * Pseudo action:   redis-master_pre_notify_stop_0
  * Resource action: stonith-fence_ipmilan-525400bbf613 stop on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd stop on controller-0
  * Pseudo action:   stonith-fence_ipmilan-5254005bdbb5_stop_0
  * Fencing controller-1 (reboot)
- * Pseudo action:   galera-0_stop_0
  * Pseudo action:   galera-2_stop_0
  * Pseudo action:   redis_post_notify_stop_0
  * Resource action: redis           notify on controller-0
@@ -69,15 +69,12 @@ Executing cluster transition:
  * Pseudo action:   haproxy-clone_stop_0
  * Fencing messaging-1 (reboot)
  * Pseudo action:   stonith_complete
- * Resource action: galera-0        start on controller-2
  * Pseudo action:   rabbitmq_post_notify_stop_0
  * Pseudo action:   rabbitmq-clone_stop_0
- * Resource action: galera          monitor=10000 on galera-0
  * Pseudo action:   redis_stop_0
  * Pseudo action:   redis-master_stopped_0
  * Pseudo action:   haproxy_stop_0
  * Pseudo action:   haproxy-clone_stopped_0
- * Resource action: galera-0        monitor=20000 on controller-2
  * Resource action: rabbitmq        notify on messaging-2
  * Resource action: rabbitmq        notify on messaging-0
  * Pseudo action:   rabbitmq_notified_0
@@ -99,11 +96,14 @@ Executing cluster transition:
  * Resource action: ip-172.17.1.17  monitor=10000 on controller-2
  * Resource action: ip-172.17.4.11  monitor=10000 on controller-2
  * Pseudo action:   all_stopped
+ * Resource action: galera-0        start on controller-2
+ * Resource action: galera          monitor=10000 on galera-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 start on controller-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 monitor=60000 on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd start on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd monitor=60000 on controller-0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 start on controller-2
+ * Resource action: galera-0        monitor=20000 on controller-2
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 monitor=60000 on controller-2
 Using the original execution date of: 2017-05-03 13:33:24Z
 
diff --git a/pengine/test10/remote-recover-unknown.dot b/pengine/test10/remote-recover-unknown.dot
index a8b4e18..8ce59b4 100644
--- a/pengine/test10/remote-recover-unknown.dot
+++ b/pengine/test10/remote-recover-unknown.dot
@@ -1,4 +1,5 @@
 digraph "g" {
+"all_stopped" -> "galera-0_start_0 controller-2" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-5254005bdbb5_start_0 controller-2" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-525400b4f6bd_start_0 controller-0" [ style = bold]
 "all_stopped" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
@@ -99,7 +100,6 @@ digraph "g" {
 "redis_stop_0 controller-1" -> "all_stopped" [ style = bold]
 "redis_stop_0 controller-1" -> "redis-master_stopped_0" [ style = bold]
 "redis_stop_0 controller-1" [ style=bold color="green" fontcolor="orange"]
-"stonith 'reboot' controller-1" -> "galera-0_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "galera-2_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy-clone_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy_stop_0 controller-1" [ style = bold]
@@ -138,7 +138,6 @@ digraph "g" {
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" [ style=bold color="green" fontcolor="black"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "galera-0_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.14_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.17_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.4.11_start_0 controller-2" [ style = bold]
diff --git a/pengine/test10/remote-recover-unknown.exp b/pengine/test10/remote-recover-unknown.exp
index b8d51be..0d7b318 100644
--- a/pengine/test10/remote-recover-unknown.exp
+++ b/pengine/test10/remote-recover-unknown.exp
@@ -36,10 +36,10 @@
     </action_set>
     <inputs>
       <trigger>
-        <pseudo_event id="30" operation="stop" operation_key="galera-0_stop_0"/>
+        <pseudo_event id="21" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <pseudo_event id="123" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="30" operation="stop" operation_key="galera-0_stop_0"/>
       </trigger>
     </inputs>
   </synapse>
@@ -49,11 +49,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="4">
     <action_set>
diff --git a/pengine/test10/remote-recover-unknown.summary b/pengine/test10/remote-recover-unknown.summary
index 09f10d8..d47f174 100644
--- a/pengine/test10/remote-recover-unknown.summary
+++ b/pengine/test10/remote-recover-unknown.summary
@@ -55,12 +55,12 @@ Transition Summary:
  * Move       stonith-fence_ipmilan-5254005bdbb5     ( controller-1 -> controller-2 )  
 
 Executing cluster transition:
+ * Pseudo action:   galera-0_stop_0
  * Pseudo action:   redis-master_pre_notify_stop_0
  * Resource action: stonith-fence_ipmilan-525400bbf613 stop on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd stop on controller-0
  * Pseudo action:   stonith-fence_ipmilan-5254005bdbb5_stop_0
  * Fencing controller-1 (reboot)
- * Pseudo action:   galera-0_stop_0
  * Pseudo action:   galera-2_stop_0
  * Pseudo action:   redis_post_notify_stop_0
  * Resource action: redis           notify on controller-0
@@ -71,15 +71,12 @@ Executing cluster transition:
  * Fencing galera-2 (reboot)
  * Fencing messaging-1 (reboot)
  * Pseudo action:   stonith_complete
- * Resource action: galera-0        start on controller-2
  * Pseudo action:   rabbitmq_post_notify_stop_0
  * Pseudo action:   rabbitmq-clone_stop_0
- * Resource action: galera          monitor=10000 on galera-0
  * Pseudo action:   redis_stop_0
  * Pseudo action:   redis-master_stopped_0
  * Pseudo action:   haproxy_stop_0
  * Pseudo action:   haproxy-clone_stopped_0
- * Resource action: galera-0        monitor=20000 on controller-2
  * Resource action: rabbitmq        notify on messaging-2
  * Resource action: rabbitmq        notify on messaging-0
  * Pseudo action:   rabbitmq_notified_0
@@ -101,11 +98,14 @@ Executing cluster transition:
  * Resource action: ip-172.17.1.17  monitor=10000 on controller-2
  * Resource action: ip-172.17.4.11  monitor=10000 on controller-2
  * Pseudo action:   all_stopped
+ * Resource action: galera-0        start on controller-2
+ * Resource action: galera          monitor=10000 on galera-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 start on controller-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 monitor=60000 on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd start on controller-0
  * Resource action: stonith-fence_ipmilan-525400b4f6bd monitor=60000 on controller-0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 start on controller-2
+ * Resource action: galera-0        monitor=20000 on controller-2
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 monitor=60000 on controller-2
 Using the original execution date of: 2017-05-03 13:33:24Z
 
diff --git a/pengine/test10/remote-recovery.dot b/pengine/test10/remote-recovery.dot
index d6fdefe..6cd342f 100644
--- a/pengine/test10/remote-recovery.dot
+++ b/pengine/test10/remote-recovery.dot
@@ -89,14 +89,11 @@ digraph "g" {
 "redis_stop_0 controller-1" -> "all_stopped" [ style = bold]
 "redis_stop_0 controller-1" -> "redis-master_stopped_0" [ style = bold]
 "redis_stop_0 controller-1" [ style=bold color="green" fontcolor="orange"]
-"stonith 'reboot' controller-1" -> "galera-0_stop_0 controller-1" [ style = bold]
-"stonith 'reboot' controller-1" -> "galera-2_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy-clone_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "haproxy_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "ip-172.17.1.14_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "ip-172.17.1.17_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "ip-172.17.4.11_stop_0 controller-1" [ style = bold]
-"stonith 'reboot' controller-1" -> "messaging-1_stop_0 controller-1" [ style = bold]
 "stonith 'reboot' controller-1" -> "redis-master_stop_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "redis_post_notify_stonith_0" [ style = bold]
 "stonith 'reboot' controller-1" -> "redis_stop_0 controller-1" [ style = bold]
@@ -121,11 +118,8 @@ digraph "g" {
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" -> "stonith-fence_ipmilan-525400bbf613_start_0 controller-0" [ style = bold]
 "stonith-fence_ipmilan-525400bbf613_stop_0 controller-0" [ style=bold color="green" fontcolor="black"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "galera-0_start_0 controller-2" [ style = bold]
-"stonith_complete" -> "galera-2_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.14_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.1.17_start_0 controller-2" [ style = bold]
 "stonith_complete" -> "ip-172.17.4.11_start_0 controller-2" [ style = bold]
-"stonith_complete" -> "messaging-1_start_0 controller-2" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/remote-recovery.exp b/pengine/test10/remote-recovery.exp
index cf74efb..40338b4 100644
--- a/pengine/test10/remote-recovery.exp
+++ b/pengine/test10/remote-recovery.exp
@@ -23,9 +23,6 @@
       <trigger>
         <pseudo_event id="27" operation="stop" operation_key="messaging-1_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="132" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="2">
@@ -34,11 +31,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="3">
     <action_set>
@@ -64,9 +57,6 @@
       <trigger>
         <pseudo_event id="32" operation="stop" operation_key="galera-0_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="132" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="5">
@@ -75,11 +65,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="6">
     <action_set>
@@ -105,9 +91,6 @@
       <trigger>
         <pseudo_event id="37" operation="stop" operation_key="galera-2_stop_0"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="132" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="8">
@@ -116,11 +99,7 @@
         <attributes CRM_meta_name="stop" CRM_meta_timeout="60000"  reconnect_interval="60"/>
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-controller-1-reboot" on_node="controller-1" on_node_uuid="2"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="9">
     <action_set>
diff --git a/pengine/test10/remote-recovery.summary b/pengine/test10/remote-recovery.summary
index b0433fe..8246cd9 100644
--- a/pengine/test10/remote-recovery.summary
+++ b/pengine/test10/remote-recovery.summary
@@ -52,6 +52,9 @@ Transition Summary:
  * Move       stonith-fence_ipmilan-5254005bdbb5     ( controller-1 -> controller-2 )  
 
 Executing cluster transition:
+ * Pseudo action:   messaging-1_stop_0
+ * Pseudo action:   galera-0_stop_0
+ * Pseudo action:   galera-2_stop_0
  * Pseudo action:   redis-master_pre_notify_stop_0
  * Resource action: stonith-fence_ipmilan-525400bbf613 stop on controller-0
  * Resource action: stonith-fence_ipmilan-525400bbf613 start on controller-0
@@ -61,9 +64,12 @@ Executing cluster transition:
  * Resource action: stonith-fence_ipmilan-525400b4f6bd monitor=60000 on controller-0
  * Pseudo action:   stonith-fence_ipmilan-5254005bdbb5_stop_0
  * Fencing controller-1 (reboot)
- * Pseudo action:   messaging-1_stop_0
- * Pseudo action:   galera-0_stop_0
- * Pseudo action:   galera-2_stop_0
+ * Resource action: messaging-1     start on controller-2
+ * Resource action: galera-0        start on controller-2
+ * Resource action: galera-2        start on controller-2
+ * Resource action: rabbitmq        monitor=10000 on messaging-1
+ * Resource action: galera          monitor=10000 on galera-2
+ * Resource action: galera          monitor=10000 on galera-0
  * Pseudo action:   redis_post_notify_stop_0
  * Resource action: redis           notify on controller-0
  * Resource action: redis           notify on controller-2
@@ -72,20 +78,14 @@ Executing cluster transition:
  * Pseudo action:   haproxy-clone_stop_0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 start on controller-2
  * Pseudo action:   stonith_complete
- * Resource action: messaging-1     start on controller-2
- * Resource action: galera-0        start on controller-2
- * Resource action: galera-2        start on controller-2
- * Resource action: rabbitmq        monitor=10000 on messaging-1
- * Resource action: galera          monitor=10000 on galera-2
- * Resource action: galera          monitor=10000 on galera-0
+ * Resource action: messaging-1     monitor=20000 on controller-2
+ * Resource action: galera-0        monitor=20000 on controller-2
+ * Resource action: galera-2        monitor=20000 on controller-2
  * Pseudo action:   redis_stop_0
  * Pseudo action:   redis-master_stopped_0
  * Pseudo action:   haproxy_stop_0
  * Pseudo action:   haproxy-clone_stopped_0
  * Resource action: stonith-fence_ipmilan-5254005bdbb5 monitor=60000 on controller-2
- * Resource action: messaging-1     monitor=20000 on controller-2
- * Resource action: galera-0        monitor=20000 on controller-2
- * Resource action: galera-2        monitor=20000 on controller-2
  * Pseudo action:   redis-master_post_notify_stopped_0
  * Pseudo action:   ip-172.17.1.14_stop_0
  * Pseudo action:   ip-172.17.1.17_stop_0
diff --git a/pengine/test10/remote-unclean2.dot b/pengine/test10/remote-unclean2.dot
index 3f8981b..2311a72 100644
--- a/pengine/test10/remote-unclean2.dot
+++ b/pengine/test10/remote-unclean2.dot
@@ -1,4 +1,5 @@
  digraph "g" {
+"all_stopped" -> "rhel7-auto4_start_0 rhel7-auto1" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "rhel7-auto4_monitor_60000 rhel7-auto1" [ style=bold color="green" fontcolor="black"]
 "rhel7-auto4_start_0 rhel7-auto1" -> "rhel7-auto4_monitor_60000 rhel7-auto1" [ style = bold]
@@ -9,6 +10,5 @@
 "stonith 'reboot' rhel7-auto4" -> "stonith_complete" [ style = bold]
 "stonith 'reboot' rhel7-auto4" [ style=bold color="green" fontcolor="black"]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "rhel7-auto4_start_0 rhel7-auto1" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/remote-unclean2.exp b/pengine/test10/remote-unclean2.exp
index ca0b3ba..2c73d82 100644
--- a/pengine/test10/remote-unclean2.exp
+++ b/pengine/test10/remote-unclean2.exp
@@ -11,7 +11,7 @@
         <rsc_op id="3" operation="stop" operation_key="rhel7-auto4_stop_0" on_node="rhel7-auto1" on_node_uuid="1"/>
       </trigger>
       <trigger>
-        <pseudo_event id="9" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="5" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/whitebox-fail1.dot b/pengine/test10/whitebox-fail1.dot
index bfff4bf..9b755f9 100644
--- a/pengine/test10/whitebox-fail1.dot
+++ b/pengine/test10/whitebox-fail1.dot
@@ -26,6 +26,7 @@ digraph "g" {
 "M_stop_0 lxc1" -> "M_start_0 lxc1" [ style = bold]
 "M_stop_0 lxc1" -> "all_stopped" [ style = bold]
 "M_stop_0 lxc1" [ style=bold color="green" fontcolor="orange"]
+"all_stopped" -> "lxc1_start_0 18node2" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "container1_start_0 18node2" -> "B_start_0 lxc1" [ style = bold]
 "container1_start_0 18node2" -> "M_start_0 lxc1" [ style = bold]
@@ -55,6 +56,5 @@ digraph "g" {
 "stonith_complete" -> "M_start_0 lxc1" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
 "stonith_complete" -> "container1_start_0 18node2" [ style = bold]
-"stonith_complete" -> "lxc1_start_0 18node2" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/whitebox-fail1.exp b/pengine/test10/whitebox-fail1.exp
index 901a1e3..1532c6e 100644
--- a/pengine/test10/whitebox-fail1.exp
+++ b/pengine/test10/whitebox-fail1.exp
@@ -227,13 +227,13 @@
     </action_set>
     <inputs>
       <trigger>
-        <rsc_op id="15" operation="start" operation_key="container1_start_0" on_node="18node2" on_node_uuid="2"/>
+        <pseudo_event id="11" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <rsc_op id="44" operation="stop" operation_key="lxc1_stop_0" on_node="18node2" on_node_uuid="2"/>
+        <rsc_op id="15" operation="start" operation_key="container1_start_0" on_node="18node2" on_node_uuid="2"/>
       </trigger>
       <trigger>
-        <pseudo_event id="48" operation="stonith_complete" operation_key="stonith_complete"/>
+        <rsc_op id="44" operation="stop" operation_key="lxc1_stop_0" on_node="18node2" on_node_uuid="2"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/whitebox-fail1.summary b/pengine/test10/whitebox-fail1.summary
index d1f3480..a5b85dd 100644
--- a/pengine/test10/whitebox-fail1.summary
+++ b/pengine/test10/whitebox-fail1.summary
@@ -31,17 +31,17 @@ Executing cluster transition:
  * Resource action: container1      start on 18node2
  * Pseudo action:   M-clone_stop_0
  * Pseudo action:   B_stop_0
- * Resource action: lxc1            start on 18node2
- * Resource action: lxc1            monitor=30000 on 18node2
  * Pseudo action:   M_stop_0
  * Pseudo action:   M-clone_stopped_0
  * Pseudo action:   M-clone_start_0
- * Resource action: B               start on lxc1
  * Pseudo action:   all_stopped
+ * Resource action: lxc1            start on 18node2
+ * Resource action: lxc1            monitor=30000 on 18node2
  * Resource action: M               start on lxc1
  * Pseudo action:   M-clone_running_0
- * Resource action: B               monitor=10000 on lxc1
+ * Resource action: B               start on lxc1
  * Resource action: M               monitor=10000 on lxc1
+ * Resource action: B               monitor=10000 on lxc1
 
 Revised cluster status:
 Online: [ 18node1 18node2 18node3 ]
diff --git a/pengine/test10/whitebox-fail2.dot b/pengine/test10/whitebox-fail2.dot
index bfff4bf..9b755f9 100644
--- a/pengine/test10/whitebox-fail2.dot
+++ b/pengine/test10/whitebox-fail2.dot
@@ -26,6 +26,7 @@ digraph "g" {
 "M_stop_0 lxc1" -> "M_start_0 lxc1" [ style = bold]
 "M_stop_0 lxc1" -> "all_stopped" [ style = bold]
 "M_stop_0 lxc1" [ style=bold color="green" fontcolor="orange"]
+"all_stopped" -> "lxc1_start_0 18node2" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "container1_start_0 18node2" -> "B_start_0 lxc1" [ style = bold]
 "container1_start_0 18node2" -> "M_start_0 lxc1" [ style = bold]
@@ -55,6 +56,5 @@ digraph "g" {
 "stonith_complete" -> "M_start_0 lxc1" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
 "stonith_complete" -> "container1_start_0 18node2" [ style = bold]
-"stonith_complete" -> "lxc1_start_0 18node2" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/whitebox-fail2.exp b/pengine/test10/whitebox-fail2.exp
index 901a1e3..1532c6e 100644
--- a/pengine/test10/whitebox-fail2.exp
+++ b/pengine/test10/whitebox-fail2.exp
@@ -227,13 +227,13 @@
     </action_set>
     <inputs>
       <trigger>
-        <rsc_op id="15" operation="start" operation_key="container1_start_0" on_node="18node2" on_node_uuid="2"/>
+        <pseudo_event id="11" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <rsc_op id="44" operation="stop" operation_key="lxc1_stop_0" on_node="18node2" on_node_uuid="2"/>
+        <rsc_op id="15" operation="start" operation_key="container1_start_0" on_node="18node2" on_node_uuid="2"/>
       </trigger>
       <trigger>
-        <pseudo_event id="48" operation="stonith_complete" operation_key="stonith_complete"/>
+        <rsc_op id="44" operation="stop" operation_key="lxc1_stop_0" on_node="18node2" on_node_uuid="2"/>
       </trigger>
     </inputs>
   </synapse>
diff --git a/pengine/test10/whitebox-fail2.summary b/pengine/test10/whitebox-fail2.summary
index ebf6c51..afee261 100644
--- a/pengine/test10/whitebox-fail2.summary
+++ b/pengine/test10/whitebox-fail2.summary
@@ -31,17 +31,17 @@ Executing cluster transition:
  * Resource action: container1      start on 18node2
  * Pseudo action:   M-clone_stop_0
  * Pseudo action:   B_stop_0
- * Resource action: lxc1            start on 18node2
- * Resource action: lxc1            monitor=30000 on 18node2
  * Pseudo action:   M_stop_0
  * Pseudo action:   M-clone_stopped_0
  * Pseudo action:   M-clone_start_0
- * Resource action: B               start on lxc1
  * Pseudo action:   all_stopped
+ * Resource action: lxc1            start on 18node2
+ * Resource action: lxc1            monitor=30000 on 18node2
  * Resource action: M               start on lxc1
  * Pseudo action:   M-clone_running_0
- * Resource action: B               monitor=10000 on lxc1
+ * Resource action: B               start on lxc1
  * Resource action: M               monitor=10000 on lxc1
+ * Resource action: B               monitor=10000 on lxc1
 
 Revised cluster status:
 Online: [ 18node1 18node2 18node3 ]
diff --git a/pengine/test10/whitebox-imply-stop-on-fence.dot b/pengine/test10/whitebox-imply-stop-on-fence.dot
index 7b536ea..1ef3cba 100644
--- a/pengine/test10/whitebox-imply-stop-on-fence.dot
+++ b/pengine/test10/whitebox-imply-stop-on-fence.dot
@@ -18,6 +18,8 @@
 "R-lxc-02_kiff-01_stop_0 kiff-01" -> "vm-fs_start_0 lxc-01_kiff-01" [ style = bold]
 "R-lxc-02_kiff-01_stop_0 kiff-01" [ style=bold color="green" fontcolor="orange"]
 "all_stopped" -> "fence-kiff-02_start_0 kiff-02" [ style = bold]
+"all_stopped" -> "lxc-01_kiff-01_start_0 kiff-02" [ style = bold]
+"all_stopped" -> "lxc-02_kiff-01_start_0 kiff-02" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "clvmd-clone_stop_0" -> "clvmd-clone_stopped_0" [ style = bold]
 "clvmd-clone_stop_0" -> "clvmd_stop_0 kiff-01" [ style = bold]
@@ -78,8 +80,6 @@
 "stonith 'reboot' kiff-01" -> "clvmd_stop_0 kiff-01" [ style = bold]
 "stonith 'reboot' kiff-01" -> "dlm-clone_stop_0" [ style = bold]
 "stonith 'reboot' kiff-01" -> "dlm_stop_0 kiff-01" [ style = bold]
-"stonith 'reboot' kiff-01" -> "lxc-01_kiff-01_stop_0 kiff-01" [ style = bold]
-"stonith 'reboot' kiff-01" -> "lxc-02_kiff-01_stop_0 kiff-01" [ style = bold]
 "stonith 'reboot' kiff-01" -> "shared0-clone_stop_0" [ style = bold]
 "stonith 'reboot' kiff-01" -> "shared0_stop_0 kiff-01" [ style = bold]
 "stonith 'reboot' kiff-01" -> "stonith 'reboot' lxc-01_kiff-01" [ style = bold]
@@ -94,8 +94,6 @@
 "stonith_complete" -> "R-lxc-01_kiff-01_start_0 kiff-02" [ style = bold]
 "stonith_complete" -> "R-lxc-02_kiff-01_start_0 kiff-02" [ style = bold]
 "stonith_complete" -> "all_stopped" [ style = bold]
-"stonith_complete" -> "lxc-01_kiff-01_start_0 kiff-02" [ style = bold]
-"stonith_complete" -> "lxc-02_kiff-01_start_0 kiff-02" [ style = bold]
 "stonith_complete" -> "vm-fs_start_0 lxc-01_kiff-01" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 "vm-fs_monitor_0 lxc-01_kiff-02" -> "vm-fs_start_0 lxc-01_kiff-01" [ style = bold]
diff --git a/pengine/test10/whitebox-imply-stop-on-fence.exp b/pengine/test10/whitebox-imply-stop-on-fence.exp
index f80dde1..c73d1d2 100644
--- a/pengine/test10/whitebox-imply-stop-on-fence.exp
+++ b/pengine/test10/whitebox-imply-stop-on-fence.exp
@@ -421,13 +421,13 @@
     </action_set>
     <inputs>
       <trigger>
-        <rsc_op id="46" operation="start" operation_key="R-lxc-01_kiff-01_start_0" on_node="kiff-02" on_node_uuid="2"/>
+        <pseudo_event id="10" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <pseudo_event id="58" operation="stop" operation_key="lxc-01_kiff-01_stop_0"/>
+        <rsc_op id="46" operation="start" operation_key="R-lxc-01_kiff-01_start_0" on_node="kiff-02" on_node_uuid="2"/>
       </trigger>
       <trigger>
-        <pseudo_event id="68" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="58" operation="stop" operation_key="lxc-01_kiff-01_stop_0"/>
       </trigger>
     </inputs>
   </synapse>
@@ -437,11 +437,7 @@
         <attributes CRM_meta_container="R-lxc-01_kiff-01" CRM_meta_timeout="20000" />
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-kiff-01-reboot" on_node="kiff-01" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="32">
     <action_set>
@@ -465,13 +461,13 @@
     </action_set>
     <inputs>
       <trigger>
-        <rsc_op id="49" operation="start" operation_key="R-lxc-02_kiff-01_start_0" on_node="kiff-02" on_node_uuid="2"/>
+        <pseudo_event id="10" operation="all_stopped" operation_key="all_stopped"/>
       </trigger>
       <trigger>
-        <pseudo_event id="61" operation="stop" operation_key="lxc-02_kiff-01_stop_0"/>
+        <rsc_op id="49" operation="start" operation_key="R-lxc-02_kiff-01_start_0" on_node="kiff-02" on_node_uuid="2"/>
       </trigger>
       <trigger>
-        <pseudo_event id="68" operation="stonith_complete" operation_key="stonith_complete"/>
+        <pseudo_event id="61" operation="stop" operation_key="lxc-02_kiff-01_stop_0"/>
       </trigger>
     </inputs>
   </synapse>
@@ -481,11 +477,7 @@
         <attributes CRM_meta_container="R-lxc-02_kiff-01" CRM_meta_timeout="20000" />
       </pseudo_event>
     </action_set>
-    <inputs>
-      <trigger>
-        <crm_event id="1" operation="stonith" operation_key="stonith-kiff-01-reboot" on_node="kiff-01" on_node_uuid="1"/>
-      </trigger>
-    </inputs>
+    <inputs/>
   </synapse>
   <synapse id="35">
     <action_set>
diff --git a/pengine/test10/whitebox-imply-stop-on-fence.summary b/pengine/test10/whitebox-imply-stop-on-fence.summary
index d272b25..5ce580e 100644
--- a/pengine/test10/whitebox-imply-stop-on-fence.summary
+++ b/pengine/test10/whitebox-imply-stop-on-fence.summary
@@ -48,29 +48,23 @@ Executing cluster transition:
  * Resource action: shared0         monitor on lxc-01_kiff-02
  * Resource action: vm-fs           monitor on lxc-02_kiff-02
  * Resource action: vm-fs           monitor on lxc-01_kiff-02
- * Fencing kiff-01 (reboot)
  * Pseudo action:   lxc-01_kiff-01_stop_0
  * Pseudo action:   lxc-02_kiff-01_stop_0
+ * Fencing kiff-01 (reboot)
+ * Pseudo action:   R-lxc-01_kiff-01_stop_0
+ * Pseudo action:   R-lxc-02_kiff-01_stop_0
  * Pseudo action:   stonith-lxc-02_kiff-01-reboot on lxc-02_kiff-01
  * Pseudo action:   stonith-lxc-01_kiff-01-reboot on lxc-01_kiff-01
  * Pseudo action:   stonith_complete
- * Pseudo action:   R-lxc-01_kiff-01_stop_0
- * Pseudo action:   R-lxc-02_kiff-01_stop_0
- * Pseudo action:   vm-fs_stop_0
  * Pseudo action:   shared0-clone_stop_0
  * Resource action: R-lxc-01_kiff-01 start on kiff-02
  * Resource action: R-lxc-02_kiff-01 start on kiff-02
- * Resource action: lxc-01_kiff-01  start on kiff-02
- * Resource action: lxc-02_kiff-01  start on kiff-02
+ * Pseudo action:   vm-fs_stop_0
  * Pseudo action:   shared0_stop_0
  * Pseudo action:   shared0-clone_stopped_0
  * Resource action: R-lxc-01_kiff-01 monitor=10000 on kiff-02
  * Resource action: R-lxc-02_kiff-01 monitor=10000 on kiff-02
- * Resource action: vm-fs           start on lxc-01_kiff-01
- * Resource action: lxc-01_kiff-01  monitor=30000 on kiff-02
- * Resource action: lxc-02_kiff-01  monitor=30000 on kiff-02
  * Pseudo action:   clvmd-clone_stop_0
- * Resource action: vm-fs           monitor=20000 on lxc-01_kiff-01
  * Pseudo action:   clvmd_stop_0
  * Pseudo action:   clvmd-clone_stopped_0
  * Pseudo action:   dlm-clone_stop_0
@@ -78,7 +72,13 @@ Executing cluster transition:
  * Pseudo action:   dlm-clone_stopped_0
  * Pseudo action:   all_stopped
  * Resource action: fence-kiff-02   start on kiff-02
+ * Resource action: lxc-01_kiff-01  start on kiff-02
+ * Resource action: lxc-02_kiff-01  start on kiff-02
  * Resource action: fence-kiff-02   monitor=60000 on kiff-02
+ * Resource action: vm-fs           start on lxc-01_kiff-01
+ * Resource action: lxc-01_kiff-01  monitor=30000 on kiff-02
+ * Resource action: lxc-02_kiff-01  monitor=30000 on kiff-02
+ * Resource action: vm-fs           monitor=20000 on lxc-01_kiff-01
 
 Revised cluster status:
 Online: [ kiff-02 ]
diff --git a/pengine/test10/whitebox-ms-ordering.dot b/pengine/test10/whitebox-ms-ordering.dot
index 1f4d95b..d5112b9 100644
--- a/pengine/test10/whitebox-ms-ordering.dot
+++ b/pengine/test10/whitebox-ms-ordering.dot
@@ -1,4 +1,6 @@
  digraph "g" {
+"all_stopped" -> "lxc1_start_0 18node1" [ style = bold]
+"all_stopped" -> "lxc2_start_0 18node1" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "container1_monitor_0 18node1" -> "container1_start_0 18node1" [ style = bold]
 "container1_monitor_0 18node1" [ style=bold color="green" fontcolor="black"]
@@ -106,7 +108,5 @@
 "stonith_complete" -> "lxc-ms_promote_0 lxc1" [ style = bold]
 "stonith_complete" -> "lxc-ms_start_0 lxc1" [ style = bold]
 "stonith_complete" -> "lxc-ms_start_0 lxc2" [ style = bold]
-"stonith_complete" -> "lxc1_start_0 18node1" [ style = bold]
-"stonith_complete" -> "lxc2_start_0 18node1" [ style = bold]
 "stonith_complete" [ style=bold color="green" fontcolor="orange"]
 }
diff --git a/pengine/test10/whitebox-ms-ordering.exp b/pengine/test10/whitebox-ms-ordering.exp
index c8fee5e..d5608e4 100644
--- a/pengine/test10/whitebox-ms-ordering.exp
+++ b/pengine/test10/whitebox-ms-ordering.exp
@@ -419,6 +419,9 @@
     </action_set>
     <inputs>
       <trigger>
+        <pseudo_event id="2" operation="all_stopped" operation_key="all_stopped"/>
+      </trigger>
+      <trigger>
         <rsc_op id="6" operation="monitor" operation_key="lxc1_monitor_0" on_node="18node1" on_node_uuid="1"/>
       </trigger>
       <trigger>
@@ -430,9 +433,6 @@
       <trigger>
         <rsc_op id="20" operation="start" operation_key="container1_start_0" on_node="18node1" on_node_uuid="1"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="41" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="28">
@@ -484,6 +484,9 @@
     </action_set>
     <inputs>
       <trigger>
+        <pseudo_event id="2" operation="all_stopped" operation_key="all_stopped"/>
+      </trigger>
+      <trigger>
         <rsc_op id="7" operation="monitor" operation_key="lxc2_monitor_0" on_node="18node1" on_node_uuid="1"/>
       </trigger>
       <trigger>
@@ -495,9 +498,6 @@
       <trigger>
         <rsc_op id="21" operation="start" operation_key="container2_start_0" on_node="18node1" on_node_uuid="1"/>
       </trigger>
-      <trigger>
-        <pseudo_event id="41" operation="stonith_complete" operation_key="stonith_complete"/>
-      </trigger>
     </inputs>
   </synapse>
   <synapse id="33">
diff --git a/pengine/test10/whitebox-ms-ordering.summary b/pengine/test10/whitebox-ms-ordering.summary
index d8ff62c..46fe9d1 100644
--- a/pengine/test10/whitebox-ms-ordering.summary
+++ b/pengine/test10/whitebox-ms-ordering.summary
@@ -43,18 +43,18 @@ Executing cluster transition:
  * Pseudo action:   lxc-ms_demote_0
  * Pseudo action:   lxc-ms-master_demoted_0
  * Pseudo action:   lxc-ms-master_stop_0
- * Resource action: lxc1            start on 18node1
- * Resource action: lxc2            start on 18node1
  * Pseudo action:   lxc-ms_stop_0
  * Pseudo action:   lxc-ms_stop_0
  * Pseudo action:   lxc-ms-master_stopped_0
  * Pseudo action:   lxc-ms-master_start_0
- * Resource action: lxc1            monitor=30000 on 18node1
- * Resource action: lxc2            monitor=30000 on 18node1
  * Pseudo action:   all_stopped
+ * Resource action: lxc1            start on 18node1
+ * Resource action: lxc2            start on 18node1
  * Resource action: lxc-ms          start on lxc1
  * Resource action: lxc-ms          start on lxc2
  * Pseudo action:   lxc-ms-master_running_0
+ * Resource action: lxc1            monitor=30000 on 18node1
+ * Resource action: lxc2            monitor=30000 on 18node1
  * Resource action: lxc-ms          monitor=10000 on lxc2
  * Pseudo action:   lxc-ms-master_promote_0
  * Resource action: lxc-ms          promote on lxc1
diff --git a/pengine/test10/whitebox-unexpectedly-running.dot b/pengine/test10/whitebox-unexpectedly-running.dot
index fa1171e..f16e705 100644
--- a/pengine/test10/whitebox-unexpectedly-running.dot
+++ b/pengine/test10/whitebox-unexpectedly-running.dot
@@ -8,6 +8,8 @@
 "FAKE-crashed_stop_0 18builder" -> "stonith 'reboot' remote2" [ style = bold]
 "FAKE-crashed_stop_0 18builder" [ style=bold color="green" fontcolor="black"]
 "FAKE_monitor_60000 18builder" [ style=bold color="green" fontcolor="black"]
+"all_stopped" -> "remote1_start_0 18builder" [ style = bold]
+"all_stopped" -> "remote2_start_0 18builder" [ style = bold]
 "all_stopped" [ style=bold color="green" fontcolor="orange"]
 "remote1_monitor_0 18builder" -> "remote1_start_0 18builder" [ style = bold]
 "remote1_monitor_0 18builder" [ style=bold color="green" fontcolor="black"]
diff --git a/pengine/test10/whitebox-unexpectedly-running.exp b/pengine/test10/whitebox-unexpectedly-running.exp
index c4e13b9..46376a5 100644
--- a/pengine/test10/whitebox-unexpectedly-running.exp
+++ b/pengine/test10/whitebox-unexpectedly-running.exp
@@ -65,6 +65,9 @@
     </action_set>
     <inputs>
       <trigger>
+        <pseudo_event id="2" operation="all_stopped" operation_key="all_stopped"/>
+      </trigger>
+      <trigger>
         <rsc_op id="3" operation="monitor" operation_key="remote1_monitor_0" on_node="18builder" on_node_uuid="5"/>
       </trigger>
     </inputs>
@@ -100,6 +103,9 @@
     </action_set>
     <inputs>
       <trigger>
+        <pseudo_event id="2" operation="all_stopped" operation_key="all_stopped"/>
+      </trigger>
+      <trigger>
         <rsc_op id="4" operation="monitor" operation_key="remote2_monitor_0" on_node="18builder" on_node_uuid="5"/>
       </trigger>
       <trigger>
-- 
1.8.3.1


From b04b392925daa70af17f2abdef9a6198127c5608 Mon Sep 17 00:00:00 2001
From: Andrew Beekhof <andrew@beekhof.net>
Date: Fri, 8 Dec 2017 13:53:36 +1100
Subject: [PATCH 4/5] Fix: PE: Ensure stop operations occur after stopped
 remote connections have been brought up

---
 pengine/allocate.c | 55 +++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 40 insertions(+), 15 deletions(-)

diff --git a/pengine/allocate.c b/pengine/allocate.c
index 2ae491c..1c95e97 100644
--- a/pengine/allocate.c
+++ b/pengine/allocate.c
@@ -48,6 +48,25 @@ enum remote_connection_state {
 };
 

+static const char *
+state2text(enum remote_connection_state state)
+{
+    switch (state) {
+        case remote_state_unknown:
+            return "unknown";
+        case remote_state_alive:
+            return "alive";
+        case remote_state_resting:
+            return "resting";
+        case remote_state_failed:
+            return "failed";
+        case remote_state_stopped:
+            return "stopped";
+    }
+
+    return "impossible";
+}
+
 resource_alloc_functions_t resource_class_alloc_functions[] = {
     {
      native_merge_weights,
@@ -2011,10 +2030,10 @@ apply_remote_ordering(action_t *action, pe_working_set_t *data_set)
         cluster_node = remote_rsc->running_on->data;
     }
 
-    crm_trace("Order %s action %s relative to %s%s (state %d)",
+    crm_trace("Order %s action %s relative to %s%s (state: %s)",
               action->task, action->uuid,
               is_set(remote_rsc->flags, pe_rsc_failed)? "failed " : "",
-              remote_rsc->id, state);
+              remote_rsc->id, state2text(state));
     switch (task) {
         case start_rsc:
         case action_promote:
@@ -2042,23 +2061,29 @@ apply_remote_ordering(action_t *action, pe_working_set_t *data_set)
             /* Handle special case with remote node where stop actions need to be
              * ordered after the connection resource starts somewhere else.
              */
-            if(state == remote_state_resting) {
-                /* Wait for the connection resource to be up and assume everything is as we left it */
-                order_start_then_action(remote_rsc, action, pe_order_none,
-                                        data_set);
+            if(state == remote_state_alive) {
+                order_action_then_stop(action, remote_rsc,
+                                       pe_order_implies_first, data_set);
 
-            } else {
-                if(state == remote_state_failed) {
-                    /* We would only be here if the resource is
-                     * running on the remote node.  Since we have no
-                     * way to stop it, it is necessary to fence the
-                     * node.
-                     */
-                    pe_fence_node(data_set, action->node, "resources are active and the connection is unrecoverable");
-                }
+            } else if(state == remote_state_failed) {
+                /* We would only be here if the resource is
+                 * running on the remote node.  Since we have no
+                 * way to stop it, it is necessary to fence the
+                 * node.
+                 */
+                pe_fence_node(data_set, action->node, "resources are active and the connection is unrecoverable");
+                order_action_then_stop(action, remote_rsc,
+                                       pe_order_implies_first, data_set);
 
+            } else if(remote_rsc->next_role == RSC_ROLE_STOPPED) {
+                /* If its not coming back up, better do what we need first */
                 order_action_then_stop(action, remote_rsc,
                                        pe_order_implies_first, data_set);
+
+            } else {
+                /* Wait for the connection resource to be up and assume everything is as we left it */
+                order_start_then_action(remote_rsc, action, pe_order_none, data_set);
+
             }
             break;
 
-- 
1.8.3.1


From 502770c763807bc7ac19bf2b2fd50d4a0e195df0 Mon Sep 17 00:00:00 2001
From: Andrew Beekhof <andrew@beekhof.net>
Date: Fri, 8 Dec 2017 13:56:03 +1100
Subject: [PATCH 5/5] Test: PE: Ensure stop operations occur after stopped
 remote connections have been brought up

---
 pengine/regression.sh                              |    1 +
 pengine/test10/bundle-order-stop-on-remote.dot     |  307 ++++
 pengine/test10/bundle-order-stop-on-remote.exp     | 1607 ++++++++++++++++++++
 pengine/test10/bundle-order-stop-on-remote.scores  |  934 ++++++++++++
 pengine/test10/bundle-order-stop-on-remote.summary |  224 +++
 pengine/test10/bundle-order-stop-on-remote.xml     | 1165 ++++++++++++++
 6 files changed, 4238 insertions(+)
 create mode 100644 pengine/test10/bundle-order-stop-on-remote.dot
 create mode 100644 pengine/test10/bundle-order-stop-on-remote.exp
 create mode 100644 pengine/test10/bundle-order-stop-on-remote.scores
 create mode 100644 pengine/test10/bundle-order-stop-on-remote.summary
 create mode 100644 pengine/test10/bundle-order-stop-on-remote.xml

diff --git a/pengine/regression.sh b/pengine/regression.sh
index 47cf0ba..cf1824a 100755
--- a/pengine/regression.sh
+++ b/pengine/regression.sh
@@ -819,6 +819,7 @@ do_test bundle-order-partial-start "Bundle startup ordering when some dependanci
 do_test bundle-order-partial-start-2 "Bundle startup ordering when some dependancies and the container are already running"
 do_test bundle-order-stop    "Bundle stop ordering"
 do_test bundle-order-partial-stop "Bundle startup ordering when some dependancies are already stopped"
+do_test bundle-order-stop-on-remote "Stop nested resource after bringing up the connection"
 
 do_test bundle-order-startup-clone "Prevent startup because bundle isn't promoted"
 do_test bundle-order-startup-clone-2 "Bundle startup with clones"
diff --git a/pengine/test10/bundle-order-stop-on-remote.dot b/pengine/test10/bundle-order-stop-on-remote.dot
new file mode 100644
index 0000000..f0b6336
--- /dev/null
+++ b/pengine/test10/bundle-order-stop-on-remote.dot
@@ -0,0 +1,307 @@
+digraph "g" {
+"all_stopped" [ style=bold color="green" fontcolor="orange"]
+"database-0_monitor_20000 controller-0" [ style=bold color="green" fontcolor="black"]
+"database-0_start_0 controller-0" -> "database-0_monitor_20000 controller-0" [ style = bold]
+"database-0_start_0 controller-0" -> "galera-bundle-docker-0_monitor_60000 database-0" [ style = bold]
+"database-0_start_0 controller-0" -> "galera-bundle-docker-0_start_0 database-0" [ style = bold]
+"database-0_start_0 controller-0" -> "galera-bundle-docker-0_stop_0 database-0" [ style = bold]
+"database-0_start_0 controller-0" [ style=bold color="green" fontcolor="black"]
+"database-2_monitor_20000 controller-1" [ style=bold color="green" fontcolor="black"]
+"database-2_start_0 controller-1" -> "database-2_monitor_20000 controller-1" [ style = bold]
+"database-2_start_0 controller-1" -> "galera-bundle-docker-2_monitor_60000 database-2" [ style = bold]
+"database-2_start_0 controller-1" -> "galera-bundle-docker-2_start_0 database-2" [ style = bold]
+"database-2_start_0 controller-1" -> "galera-bundle-docker-2_stop_0 database-2" [ style = bold]
+"database-2_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-0_monitor_0 controller-1" -> "galera-bundle-0_start_0 controller-0" [ style = bold]
+"galera-bundle-0_monitor_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-0_monitor_60000 controller-0" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-0_start_0 controller-0" -> "galera-bundle-0_monitor_60000 controller-0" [ style = bold]
+"galera-bundle-0_start_0 controller-0" -> "galera_monitor_10000 galera-bundle-0" [ style = bold]
+"galera-bundle-0_start_0 controller-0" -> "galera_promote_0 galera-bundle-0" [ style = bold]
+"galera-bundle-0_start_0 controller-0" -> "galera_start_0 galera-bundle-0" [ style = bold]
+"galera-bundle-0_start_0 controller-0" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-2_monitor_0 controller-1" -> "galera-bundle-2_start_0 controller-1" [ style = bold]
+"galera-bundle-2_monitor_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-2_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-2_start_0 controller-1" -> "galera-bundle-2_monitor_60000 controller-1" [ style = bold]
+"galera-bundle-2_start_0 controller-1" -> "galera_monitor_10000 galera-bundle-2" [ style = bold]
+"galera-bundle-2_start_0 controller-1" -> "galera_promote_0 galera-bundle-2" [ style = bold]
+"galera-bundle-2_start_0 controller-1" -> "galera_start_0 galera-bundle-2" [ style = bold]
+"galera-bundle-2_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-docker-0_monitor_60000 database-0" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-docker-0_start_0 database-0" -> "galera-bundle-0_monitor_0 controller-1" [ style = bold]
+"galera-bundle-docker-0_start_0 database-0" -> "galera-bundle-0_start_0 controller-0" [ style = bold]
+"galera-bundle-docker-0_start_0 database-0" -> "galera-bundle-docker-0_monitor_60000 database-0" [ style = bold]
+"galera-bundle-docker-0_start_0 database-0" -> "galera-bundle_running_0" [ style = bold]
+"galera-bundle-docker-0_start_0 database-0" -> "galera_promote_0 galera-bundle-0" [ style = bold]
+"galera-bundle-docker-0_start_0 database-0" -> "galera_start_0 galera-bundle-0" [ style = bold]
+"galera-bundle-docker-0_start_0 database-0" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-docker-0_stop_0 database-0" -> "all_stopped" [ style = bold]
+"galera-bundle-docker-0_stop_0 database-0" -> "galera-bundle-docker-0_start_0 database-0" [ style = bold]
+"galera-bundle-docker-0_stop_0 database-0" -> "galera-bundle_stopped_0" [ style = bold]
+"galera-bundle-docker-0_stop_0 database-0" -> "stonith 'reboot' galera-bundle-0" [ style = bold]
+"galera-bundle-docker-0_stop_0 database-0" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-docker-2_monitor_60000 database-2" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-docker-2_start_0 database-2" -> "galera-bundle-2_monitor_0 controller-1" [ style = bold]
+"galera-bundle-docker-2_start_0 database-2" -> "galera-bundle-2_start_0 controller-1" [ style = bold]
+"galera-bundle-docker-2_start_0 database-2" -> "galera-bundle-docker-2_monitor_60000 database-2" [ style = bold]
+"galera-bundle-docker-2_start_0 database-2" -> "galera-bundle_running_0" [ style = bold]
+"galera-bundle-docker-2_start_0 database-2" -> "galera_promote_0 galera-bundle-2" [ style = bold]
+"galera-bundle-docker-2_start_0 database-2" -> "galera_start_0 galera-bundle-2" [ style = bold]
+"galera-bundle-docker-2_start_0 database-2" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-docker-2_stop_0 database-2" -> "all_stopped" [ style = bold]
+"galera-bundle-docker-2_stop_0 database-2" -> "galera-bundle-docker-2_start_0 database-2" [ style = bold]
+"galera-bundle-docker-2_stop_0 database-2" -> "galera-bundle_stopped_0" [ style = bold]
+"galera-bundle-docker-2_stop_0 database-2" -> "stonith 'reboot' galera-bundle-2" [ style = bold]
+"galera-bundle-docker-2_stop_0 database-2" [ style=bold color="green" fontcolor="black"]
+"galera-bundle-master_demote_0" -> "galera-bundle-master_demoted_0" [ style = bold]
+"galera-bundle-master_demote_0" -> "galera_demote_0 galera-bundle-0" [ style = bold]
+"galera-bundle-master_demote_0" -> "galera_demote_0 galera-bundle-2" [ style = bold]
+"galera-bundle-master_demote_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_demoted_0" -> "galera-bundle-master_promote_0" [ style = bold]
+"galera-bundle-master_demoted_0" -> "galera-bundle-master_start_0" [ style = bold]
+"galera-bundle-master_demoted_0" -> "galera-bundle-master_stop_0" [ style = bold]
+"galera-bundle-master_demoted_0" -> "galera-bundle_demoted_0" [ style = bold]
+"galera-bundle-master_demoted_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_promote_0" -> "galera_promote_0 galera-bundle-0" [ style = bold]
+"galera-bundle-master_promote_0" -> "galera_promote_0 galera-bundle-2" [ style = bold]
+"galera-bundle-master_promote_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_promoted_0" -> "galera-bundle_promoted_0" [ style = bold]
+"galera-bundle-master_promoted_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_running_0" -> "galera-bundle-master_promote_0" [ style = bold]
+"galera-bundle-master_running_0" -> "galera-bundle_running_0" [ style = bold]
+"galera-bundle-master_running_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_start_0" -> "galera-bundle-master_running_0" [ style = bold]
+"galera-bundle-master_start_0" -> "galera_start_0 galera-bundle-0" [ style = bold]
+"galera-bundle-master_start_0" -> "galera_start_0 galera-bundle-2" [ style = bold]
+"galera-bundle-master_start_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_stop_0" -> "galera-bundle-master_stopped_0" [ style = bold]
+"galera-bundle-master_stop_0" -> "galera_stop_0 galera-bundle-0" [ style = bold]
+"galera-bundle-master_stop_0" -> "galera_stop_0 galera-bundle-2" [ style = bold]
+"galera-bundle-master_stop_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle-master_stopped_0" -> "galera-bundle-master_promote_0" [ style = bold]
+"galera-bundle-master_stopped_0" -> "galera-bundle-master_start_0" [ style = bold]
+"galera-bundle-master_stopped_0" -> "galera-bundle_stopped_0" [ style = bold]
+"galera-bundle-master_stopped_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_demote_0" -> "galera-bundle-master_demote_0" [ style = bold]
+"galera-bundle_demote_0" -> "galera-bundle_demoted_0" [ style = bold]
+"galera-bundle_demote_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_demoted_0" -> "galera-bundle_promote_0" [ style = bold]
+"galera-bundle_demoted_0" -> "galera-bundle_start_0" [ style = bold]
+"galera-bundle_demoted_0" -> "galera-bundle_stop_0" [ style = bold]
+"galera-bundle_demoted_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_promote_0" -> "galera-bundle-master_promote_0" [ style = bold]
+"galera-bundle_promote_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_promoted_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_running_0" -> "galera-bundle_promote_0" [ style = bold]
+"galera-bundle_running_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_start_0" -> "galera-bundle-docker-0_start_0 database-0" [ style = bold]
+"galera-bundle_start_0" -> "galera-bundle-docker-2_start_0 database-2" [ style = bold]
+"galera-bundle_start_0" -> "galera-bundle-master_start_0" [ style = bold]
+"galera-bundle_start_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_stop_0" -> "galera-bundle-docker-0_stop_0 database-0" [ style = bold]
+"galera-bundle_stop_0" -> "galera-bundle-docker-2_stop_0 database-2" [ style = bold]
+"galera-bundle_stop_0" -> "galera-bundle-master_stop_0" [ style = bold]
+"galera-bundle_stop_0" -> "galera_stop_0 galera-bundle-0" [ style = bold]
+"galera-bundle_stop_0" -> "galera_stop_0 galera-bundle-2" [ style = bold]
+"galera-bundle_stop_0" [ style=bold color="green" fontcolor="orange"]
+"galera-bundle_stopped_0" -> "galera-bundle_promote_0" [ style = bold]
+"galera-bundle_stopped_0" -> "galera-bundle_start_0" [ style = bold]
+"galera-bundle_stopped_0" [ style=bold color="green" fontcolor="orange"]
+"galera_demote_0 galera-bundle-0" -> "galera-bundle-master_demoted_0" [ style = bold]
+"galera_demote_0 galera-bundle-0" -> "galera_promote_0 galera-bundle-0" [ style = bold]
+"galera_demote_0 galera-bundle-0" -> "galera_stop_0 galera-bundle-0" [ style = bold]
+"galera_demote_0 galera-bundle-0" [ style=bold color="green" fontcolor="orange"]
+"galera_demote_0 galera-bundle-2" -> "galera-bundle-master_demoted_0" [ style = bold]
+"galera_demote_0 galera-bundle-2" -> "galera_promote_0 galera-bundle-2" [ style = bold]
+"galera_demote_0 galera-bundle-2" -> "galera_stop_0 galera-bundle-2" [ style = bold]
+"galera_demote_0 galera-bundle-2" [ style=bold color="green" fontcolor="orange"]
+"galera_monitor_10000 galera-bundle-0" [ style=bold color="green" fontcolor="black"]
+"galera_monitor_10000 galera-bundle-2" [ style=bold color="green" fontcolor="black"]
+"galera_promote_0 galera-bundle-0" -> "galera-bundle-master_promoted_0" [ style = bold]
+"galera_promote_0 galera-bundle-0" -> "galera_monitor_10000 galera-bundle-0" [ style = bold]
+"galera_promote_0 galera-bundle-0" [ style=bold color="green" fontcolor="black"]
+"galera_promote_0 galera-bundle-2" -> "galera-bundle-master_promoted_0" [ style = bold]
+"galera_promote_0 galera-bundle-2" -> "galera_monitor_10000 galera-bundle-2" [ style = bold]
+"galera_promote_0 galera-bundle-2" [ style=bold color="green" fontcolor="black"]
+"galera_start_0 galera-bundle-0" -> "galera-bundle-master_running_0" [ style = bold]
+"galera_start_0 galera-bundle-0" -> "galera_monitor_10000 galera-bundle-0" [ style = bold]
+"galera_start_0 galera-bundle-0" -> "galera_promote_0 galera-bundle-0" [ style = bold]
+"galera_start_0 galera-bundle-0" -> "galera_start_0 galera-bundle-2" [ style = bold]
+"galera_start_0 galera-bundle-0" [ style=bold color="green" fontcolor="black"]
+"galera_start_0 galera-bundle-2" -> "galera-bundle-master_running_0" [ style = bold]
+"galera_start_0 galera-bundle-2" -> "galera_monitor_10000 galera-bundle-2" [ style = bold]
+"galera_start_0 galera-bundle-2" -> "galera_promote_0 galera-bundle-2" [ style = bold]
+"galera_start_0 galera-bundle-2" [ style=bold color="green" fontcolor="black"]
+"galera_stop_0 galera-bundle-0" -> "all_stopped" [ style = bold]
+"galera_stop_0 galera-bundle-0" -> "galera-bundle-master_stopped_0" [ style = bold]
+"galera_stop_0 galera-bundle-0" -> "galera_start_0 galera-bundle-0" [ style = bold]
+"galera_stop_0 galera-bundle-0" [ style=bold color="green" fontcolor="orange"]
+"galera_stop_0 galera-bundle-2" -> "all_stopped" [ style = bold]
+"galera_stop_0 galera-bundle-2" -> "galera-bundle-master_stopped_0" [ style = bold]
+"galera_stop_0 galera-bundle-2" -> "galera_start_0 galera-bundle-2" [ style = bold]
+"galera_stop_0 galera-bundle-2" -> "galera_stop_0 galera-bundle-0" [ style = bold]
+"galera_stop_0 galera-bundle-2" [ style=bold color="green" fontcolor="orange"]
+"haproxy-bundle-docker-1_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"haproxy-bundle-docker-1_start_0 controller-1" -> "haproxy-bundle-docker-1_monitor_60000 controller-1" [ style = bold]
+"haproxy-bundle-docker-1_start_0 controller-1" -> "haproxy-bundle_running_0" [ style = bold]
+"haproxy-bundle-docker-1_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"haproxy-bundle_running_0" [ style=bold color="green" fontcolor="orange"]
+"haproxy-bundle_start_0" -> "haproxy-bundle-docker-1_start_0 controller-1" [ style = bold]
+"haproxy-bundle_start_0" [ style=bold color="green" fontcolor="orange"]
+"ip-10.0.0.104_monitor_10000 controller-1" [ style=bold color="green" fontcolor="black"]
+"ip-10.0.0.104_start_0 controller-1" -> "haproxy-bundle_start_0" [ style = bold]
+"ip-10.0.0.104_start_0 controller-1" -> "ip-10.0.0.104_monitor_10000 controller-1" [ style = bold]
+"ip-10.0.0.104_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"ip-172.17.1.11_monitor_10000 controller-0" [ style=bold color="green" fontcolor="black"]
+"ip-172.17.1.11_start_0 controller-0" -> "haproxy-bundle_start_0" [ style = bold]
+"ip-172.17.1.11_start_0 controller-0" -> "ip-172.17.1.11_monitor_10000 controller-0" [ style = bold]
+"ip-172.17.1.11_start_0 controller-0" [ style=bold color="green" fontcolor="black"]
+"ip-172.17.3.13_monitor_10000 controller-1" [ style=bold color="green" fontcolor="black"]
+"ip-172.17.3.13_start_0 controller-1" -> "haproxy-bundle_start_0" [ style = bold]
+"ip-172.17.3.13_start_0 controller-1" -> "ip-172.17.3.13_monitor_10000 controller-1" [ style = bold]
+"ip-172.17.3.13_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"ip-192.168.24.11_monitor_10000 controller-0" [ style=bold color="green" fontcolor="black"]
+"ip-192.168.24.11_start_0 controller-0" -> "haproxy-bundle_start_0" [ style = bold]
+"ip-192.168.24.11_start_0 controller-0" -> "ip-192.168.24.11_monitor_10000 controller-0" [ style = bold]
+"ip-192.168.24.11_start_0 controller-0" [ style=bold color="green" fontcolor="black"]
+"openstack-cinder-volume_monitor_60000 controller-0" [ style=bold color="green" fontcolor="black"]
+"openstack-cinder-volume_start_0 controller-0" -> "openstack-cinder-volume_monitor_60000 controller-0" [ style = bold]
+"openstack-cinder-volume_start_0 controller-0" [ style=bold color="green" fontcolor="black"]
+"redis-bundle-1_monitor_0 controller-1" -> "redis-bundle-1_start_0 controller-1" [ style = bold]
+"redis-bundle-1_monitor_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"redis-bundle-1_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"redis-bundle-1_start_0 controller-1" -> "redis-bundle-1_monitor_60000 controller-1" [ style = bold]
+"redis-bundle-1_start_0 controller-1" -> "redis:1_monitor_45000 redis-bundle-1" [ style = bold]
+"redis-bundle-1_start_0 controller-1" -> "redis:1_monitor_60000 redis-bundle-1" [ style = bold]
+"redis-bundle-1_start_0 controller-1" -> "redis:1_start_0 redis-bundle-1" [ style = bold]
+"redis-bundle-1_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"redis-bundle-docker-1_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"redis-bundle-docker-1_start_0 controller-1" -> "redis-bundle-1_monitor_0 controller-1" [ style = bold]
+"redis-bundle-docker-1_start_0 controller-1" -> "redis-bundle-1_start_0 controller-1" [ style = bold]
+"redis-bundle-docker-1_start_0 controller-1" -> "redis-bundle-docker-1_monitor_60000 controller-1" [ style = bold]
+"redis-bundle-docker-1_start_0 controller-1" -> "redis-bundle_running_0" [ style = bold]
+"redis-bundle-docker-1_start_0 controller-1" -> "redis:1_start_0 redis-bundle-1" [ style = bold]
+"redis-bundle-docker-1_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"redis-bundle-master_confirmed-post_notify_promoted_0" -> "redis-bundle_promoted_0" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_promoted_0" -> "redis:1_monitor_45000 redis-bundle-1" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_promoted_0" -> "redis:1_monitor_60000 redis-bundle-1" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_promoted_0" -> "redis_monitor_20000 redis-bundle-0" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_promoted_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_confirmed-post_notify_running_0" -> "redis-bundle-master_pre_notify_promote_0" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_running_0" -> "redis-bundle_running_0" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_running_0" -> "redis:1_monitor_45000 redis-bundle-1" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_running_0" -> "redis:1_monitor_60000 redis-bundle-1" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_running_0" -> "redis_monitor_20000 redis-bundle-0" [ style = bold]
+"redis-bundle-master_confirmed-post_notify_running_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_confirmed-pre_notify_promote_0" -> "redis-bundle-master_post_notify_promoted_0" [ style = bold]
+"redis-bundle-master_confirmed-pre_notify_promote_0" -> "redis-bundle-master_promote_0" [ style = bold]
+"redis-bundle-master_confirmed-pre_notify_promote_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_confirmed-pre_notify_start_0" -> "redis-bundle-master_post_notify_running_0" [ style = bold]
+"redis-bundle-master_confirmed-pre_notify_start_0" -> "redis-bundle-master_start_0" [ style = bold]
+"redis-bundle-master_confirmed-pre_notify_start_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_post_notify_promoted_0" -> "redis-bundle-master_confirmed-post_notify_promoted_0" [ style = bold]
+"redis-bundle-master_post_notify_promoted_0" -> "redis:1_post_notify_promote_0 redis-bundle-1" [ style = bold]
+"redis-bundle-master_post_notify_promoted_0" -> "redis_post_notify_promoted_0 redis-bundle-0" [ style = bold]
+"redis-bundle-master_post_notify_promoted_0" -> "redis_post_notify_promoted_0 redis-bundle-2" [ style = bold]
+"redis-bundle-master_post_notify_promoted_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_post_notify_running_0" -> "redis-bundle-master_confirmed-post_notify_running_0" [ style = bold]
+"redis-bundle-master_post_notify_running_0" -> "redis:1_post_notify_start_0 redis-bundle-1" [ style = bold]
+"redis-bundle-master_post_notify_running_0" -> "redis_post_notify_running_0 redis-bundle-0" [ style = bold]
+"redis-bundle-master_post_notify_running_0" -> "redis_post_notify_running_0 redis-bundle-2" [ style = bold]
+"redis-bundle-master_post_notify_running_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_pre_notify_promote_0" -> "redis-bundle-master_confirmed-pre_notify_promote_0" [ style = bold]
+"redis-bundle-master_pre_notify_promote_0" -> "redis:1_pre_notify_promote_0 redis-bundle-1" [ style = bold]
+"redis-bundle-master_pre_notify_promote_0" -> "redis_pre_notify_promote_0 redis-bundle-0" [ style = bold]
+"redis-bundle-master_pre_notify_promote_0" -> "redis_pre_notify_promote_0 redis-bundle-2" [ style = bold]
+"redis-bundle-master_pre_notify_promote_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_pre_notify_start_0" -> "redis-bundle-master_confirmed-pre_notify_start_0" [ style = bold]
+"redis-bundle-master_pre_notify_start_0" -> "redis_pre_notify_start_0 redis-bundle-0" [ style = bold]
+"redis-bundle-master_pre_notify_start_0" -> "redis_pre_notify_start_0 redis-bundle-2" [ style = bold]
+"redis-bundle-master_pre_notify_start_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_promote_0" -> "redis_promote_0 redis-bundle-0" [ style = bold]
+"redis-bundle-master_promote_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_promoted_0" -> "redis-bundle-master_post_notify_promoted_0" [ style = bold]
+"redis-bundle-master_promoted_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_running_0" -> "redis-bundle-master_post_notify_running_0" [ style = bold]
+"redis-bundle-master_running_0" -> "redis-bundle-master_promote_0" [ style = bold]
+"redis-bundle-master_running_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle-master_start_0" -> "redis-bundle-master_running_0" [ style = bold]
+"redis-bundle-master_start_0" -> "redis:1_start_0 redis-bundle-1" [ style = bold]
+"redis-bundle-master_start_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle_promote_0" -> "redis-bundle-master_promote_0" [ style = bold]
+"redis-bundle_promote_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle_promoted_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle_running_0" -> "redis-bundle_promote_0" [ style = bold]
+"redis-bundle_running_0" [ style=bold color="green" fontcolor="orange"]
+"redis-bundle_start_0" -> "redis-bundle-docker-1_start_0 controller-1" [ style = bold]
+"redis-bundle_start_0" -> "redis-bundle-master_start_0" [ style = bold]
+"redis-bundle_start_0" [ style=bold color="green" fontcolor="orange"]
+"redis:1_monitor_45000 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
+"redis:1_monitor_60000 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
+"redis:1_post_notify_promote_0 redis-bundle-1" -> "redis-bundle-master_confirmed-post_notify_promoted_0" [ style = bold]
+"redis:1_post_notify_promote_0 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
+"redis:1_post_notify_start_0 redis-bundle-1" -> "redis-bundle-master_confirmed-post_notify_running_0" [ style = bold]
+"redis:1_post_notify_start_0 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
+"redis:1_pre_notify_promote_0 redis-bundle-1" -> "redis-bundle-master_confirmed-pre_notify_promote_0" [ style = bold]
+"redis:1_pre_notify_promote_0 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
+"redis:1_start_0 redis-bundle-1" -> "redis-bundle-master_running_0" [ style = bold]
+"redis:1_start_0 redis-bundle-1" -> "redis:1_monitor_45000 redis-bundle-1" [ style = bold]
+"redis:1_start_0 redis-bundle-1" -> "redis:1_monitor_60000 redis-bundle-1" [ style = bold]
+"redis:1_start_0 redis-bundle-1" [ style=bold color="green" fontcolor="black"]
+"redis_monitor_20000 redis-bundle-0" [ style=bold color="green" fontcolor="black"]
+"redis_post_notify_promoted_0 redis-bundle-0" -> "redis-bundle-master_confirmed-post_notify_promoted_0" [ style = bold]
+"redis_post_notify_promoted_0 redis-bundle-0" [ style=bold color="green" fontcolor="black"]
+"redis_post_notify_promoted_0 redis-bundle-2" -> "redis-bundle-master_confirmed-post_notify_promoted_0" [ style = bold]
+"redis_post_notify_promoted_0 redis-bundle-2" [ style=bold color="green" fontcolor="black"]
+"redis_post_notify_running_0 redis-bundle-0" -> "redis-bundle-master_confirmed-post_notify_running_0" [ style = bold]
+"redis_post_notify_running_0 redis-bundle-0" [ style=bold color="green" fontcolor="black"]
+"redis_post_notify_running_0 redis-bundle-2" -> "redis-bundle-master_confirmed-post_notify_running_0" [ style = bold]
+"redis_post_notify_running_0 redis-bundle-2" [ style=bold color="green" fontcolor="black"]
+"redis_pre_notify_promote_0 redis-bundle-0" -> "redis-bundle-master_confirmed-pre_notify_promote_0" [ style = bold]
+"redis_pre_notify_promote_0 redis-bundle-0" [ style=bold color="green" fontcolor="black"]
+"redis_pre_notify_promote_0 redis-bundle-2" -> "redis-bundle-master_confirmed-pre_notify_promote_0" [ style = bold]
+"redis_pre_notify_promote_0 redis-bundle-2" [ style=bold color="green" fontcolor="black"]
+"redis_pre_notify_start_0 redis-bundle-0" -> "redis-bundle-master_confirmed-pre_notify_start_0" [ style = bold]
+"redis_pre_notify_start_0 redis-bundle-0" [ style=bold color="green" fontcolor="black"]
+"redis_pre_notify_start_0 redis-bundle-2" -> "redis-bundle-master_confirmed-pre_notify_start_0" [ style = bold]
+"redis_pre_notify_start_0 redis-bundle-2" [ style=bold color="green" fontcolor="black"]
+"redis_promote_0 redis-bundle-0" -> "redis-bundle-master_promoted_0" [ style = bold]
+"redis_promote_0 redis-bundle-0" -> "redis_monitor_20000 redis-bundle-0" [ style = bold]
+"redis_promote_0 redis-bundle-0" [ style=bold color="green" fontcolor="black"]
+"stonith 'reboot' galera-bundle-0" -> "galera-bundle-master_stop_0" [ style = bold]
+"stonith 'reboot' galera-bundle-0" -> "stonith_complete" [ style = bold]
+"stonith 'reboot' galera-bundle-0" [ style=bold color="green" fontcolor="orange"]
+"stonith 'reboot' galera-bundle-2" -> "galera-bundle-master_stop_0" [ style = bold]
+"stonith 'reboot' galera-bundle-2" -> "stonith_complete" [ style = bold]
+"stonith 'reboot' galera-bundle-2" [ style=bold color="green" fontcolor="orange"]
+"stonith-fence_ipmilan-525400498d34_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-525400498d34_start_0 controller-1" -> "stonith-fence_ipmilan-525400498d34_monitor_60000 controller-1" [ style = bold]
+"stonith-fence_ipmilan-525400498d34_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-525400542c06_monitor_60000 controller-0" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-525400542c06_start_0 controller-0" -> "stonith-fence_ipmilan-525400542c06_monitor_60000 controller-0" [ style = bold]
+"stonith-fence_ipmilan-525400542c06_start_0 controller-0" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-5254005ea387_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-5254005ea387_start_0 controller-1" -> "stonith-fence_ipmilan-5254005ea387_monitor_60000 controller-1" [ style = bold]
+"stonith-fence_ipmilan-5254005ea387_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-525400c709f7_monitor_60000 controller-1" [ style=bold color="green" fontcolor="black"]
+"stonith-fence_ipmilan-525400c709f7_start_0 controller-1" -> "stonith-fence_ipmilan-525400c709f7_monitor_60000 controller-1" [ style = bold]
+"stonith-fence_ipmilan-525400c709f7_start_0 controller-1" [ style=bold color="green" fontcolor="black"]
+"stonith_complete" -> "all_stopped" [ style = bold]
+"stonith_complete" -> "galera-bundle-docker-0_start_0 database-0" [ style = bold]
+"stonith_complete" -> "galera-bundle-docker-2_start_0 database-2" [ style = bold]
+"stonith_complete" -> "galera_promote_0 galera-bundle-0" [ style = bold]
+"stonith_complete" -> "galera_promote_0 galera-bundle-2" [ style = bold]
+"stonith_complete" -> "galera_start_0 galera-bundle-0" [ style = bold]
+"stonith_complete" -> "galera_start_0 galera-bundle-2" [ style = bold]
+"stonith_complete" -> "haproxy-bundle-docker-1_start_0 controller-1" [ style = bold]
+"stonith_complete" -> "ip-10.0.0.104_start_0 controller-1" [ style = bold]
+"stonith_complete" -> "ip-172.17.1.11_start_0 controller-0" [ style = bold]
+"stonith_complete" -> "ip-172.17.3.13_start_0 controller-1" [ style = bold]
+"stonith_complete" -> "ip-192.168.24.11_start_0 controller-0" [ style = bold]
+"stonith_complete" -> "openstack-cinder-volume_start_0 controller-0" [ style = bold]
+"stonith_complete" -> "redis-bundle-docker-1_start_0 controller-1" [ style = bold]
+"stonith_complete" -> "redis:1_start_0 redis-bundle-1" [ style = bold]
+"stonith_complete" -> "redis_promote_0 redis-bundle-0" [ style = bold]
+"stonith_complete" [ style=bold color="green" fontcolor="orange"]
+}
diff --git a/pengine/test10/bundle-order-stop-on-remote.exp b/pengine/test10/bundle-order-stop-on-remote.exp
new file mode 100644
index 0000000..db5386b
--- /dev/null
+++ b/pengine/test10/bundle-order-stop-on-remote.exp
@@ -0,0 +1,1607 @@
+<transition_graph cluster-delay="60s" stonith-timeout="60s" failed-stop-offset="INFINITY" failed-start-offset="INFINITY"  transition_id="0">
+  <synapse id="0">
+    <action_set>
+      <rsc_op id="39" operation="monitor" operation_key="database-0_monitor_20000" on_node="controller-0" on_node_uuid="1">
+        <primitive id="database-0" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_interval="20000" CRM_meta_name="monitor" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000"  reconnect_interval="60"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="38" operation="start" operation_key="database-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="1">
+    <action_set>
+      <rsc_op id="38" operation="start" operation_key="database-0_start_0" on_node="controller-0" on_node_uuid="1">
+        <primitive id="database-0" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="60000"  reconnect_interval="60"/>
+      </rsc_op>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="2">
+    <action_set>
+      <rsc_op id="43" operation="monitor" operation_key="database-2_monitor_20000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="database-2" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_interval="20000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  reconnect_interval="60"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="42" operation="start" operation_key="database-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="3">
+    <action_set>
+      <rsc_op id="42" operation="start" operation_key="database-2_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="database-2" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="60000"  reconnect_interval="60"/>
+      </rsc_op>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="4">
+    <action_set>
+      <rsc_op id="110" operation="monitor" operation_key="galera_monitor_10000" internal_operation_key="galera:0_monitor_10000" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0">
+        <primitive id="galera" long-id="galera:0" class="ocf" provider="heartbeat" type="galera"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_interval="10000" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="monitor" CRM_meta_notify="false" CRM_meta_on_node="galera-bundle-0" CRM_meta_on_node_uuid="galera-bundle-0" CRM_meta_op_target_rc="8" CRM_meta_physical_host="database-0" CRM_meta_role="Master" CRM_meta_timeout="30000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="87" operation="start" operation_key="galera-bundle-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="108" operation="start" operation_key="galera_start_0" internal_operation_key="galera:0_start_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="109" operation="promote" operation_key="galera_promote_0" internal_operation_key="galera:0_promote_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="5">
+    <action_set>
+      <rsc_op id="109" operation="promote" operation_key="galera_promote_0" internal_operation_key="galera:0_promote_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0">
+        <primitive id="galera" long-id="galera:0" class="ocf" provider="heartbeat" type="galera"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="promote" CRM_meta_notify="false" CRM_meta_on_fail="block" CRM_meta_on_node="galera-bundle-0" CRM_meta_on_node_uuid="galera-bundle-0" CRM_meta_physical_host="database-0" CRM_meta_timeout="300000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="87" operation="start" operation_key="galera-bundle-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="106" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:0_demote_0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="108" operation="start" operation_key="galera_start_0" internal_operation_key="galera:0_start_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="120" operation="promote" operation_key="galera-bundle-master_promote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="6">
+    <action_set>
+      <rsc_op id="108" operation="start" operation_key="galera_start_0" internal_operation_key="galera:0_start_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0">
+        <primitive id="galera" long-id="galera:0" class="ocf" provider="heartbeat" type="galera"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="start" CRM_meta_notify="false" CRM_meta_on_node="galera-bundle-0" CRM_meta_on_node_uuid="galera-bundle-0" CRM_meta_physical_host="database-0" CRM_meta_timeout="120000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="87" operation="start" operation_key="galera-bundle-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="107" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:0_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="116" operation="start" operation_key="galera-bundle-master_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="7">
+    <action_set>
+      <pseudo_event id="107" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:0_stop_0">
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="stop" CRM_meta_notify="false" CRM_meta_physical_host="database-0" CRM_meta_timeout="120000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="100" operation="stop" operation_key="galera-bundle_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="106" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:0_demote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="112" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:2_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="118" operation="stop" operation_key="galera-bundle-master_stop_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="8">
+    <action_set>
+      <pseudo_event id="106" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:0_demote_0">
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="demote" CRM_meta_notify="false" CRM_meta_physical_host="database-0" CRM_meta_timeout="120000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="122" operation="demote" operation_key="galera-bundle-master_demote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="9">
+    <action_set>
+      <rsc_op id="115" operation="monitor" operation_key="galera_monitor_10000" internal_operation_key="galera:2_monitor_10000" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1">
+        <primitive id="galera" long-id="galera:2" class="ocf" provider="heartbeat" type="galera"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_interval="10000" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="monitor" CRM_meta_notify="false" CRM_meta_on_node="galera-bundle-2" CRM_meta_on_node_uuid="galera-bundle-2" CRM_meta_op_target_rc="8" CRM_meta_physical_host="database-2" CRM_meta_role="Master" CRM_meta_timeout="30000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="96" operation="start" operation_key="galera-bundle-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="113" operation="start" operation_key="galera_start_0" internal_operation_key="galera:2_start_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="114" operation="promote" operation_key="galera_promote_0" internal_operation_key="galera:2_promote_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="10">
+    <action_set>
+      <rsc_op id="114" operation="promote" operation_key="galera_promote_0" internal_operation_key="galera:2_promote_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1">
+        <primitive id="galera" long-id="galera:2" class="ocf" provider="heartbeat" type="galera"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="promote" CRM_meta_notify="false" CRM_meta_on_fail="block" CRM_meta_on_node="galera-bundle-2" CRM_meta_on_node_uuid="galera-bundle-2" CRM_meta_physical_host="database-2" CRM_meta_timeout="300000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="96" operation="start" operation_key="galera-bundle-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="111" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:2_demote_0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="113" operation="start" operation_key="galera_start_0" internal_operation_key="galera:2_start_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="120" operation="promote" operation_key="galera-bundle-master_promote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="11">
+    <action_set>
+      <rsc_op id="113" operation="start" operation_key="galera_start_0" internal_operation_key="galera:2_start_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1">
+        <primitive id="galera" long-id="galera:2" class="ocf" provider="heartbeat" type="galera"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="start" CRM_meta_notify="false" CRM_meta_on_node="galera-bundle-2" CRM_meta_on_node_uuid="galera-bundle-2" CRM_meta_physical_host="database-2" CRM_meta_timeout="120000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="96" operation="start" operation_key="galera-bundle-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="108" operation="start" operation_key="galera_start_0" internal_operation_key="galera:0_start_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="112" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:2_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="116" operation="start" operation_key="galera-bundle-master_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="12">
+    <action_set>
+      <pseudo_event id="112" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:2_stop_0">
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="stop" CRM_meta_notify="false" CRM_meta_physical_host="database-2" CRM_meta_timeout="120000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="100" operation="stop" operation_key="galera-bundle_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="111" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:2_demote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="118" operation="stop" operation_key="galera-bundle-master_stop_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="13">
+    <action_set>
+      <pseudo_event id="111" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:2_demote_0">
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_name="demote" CRM_meta_notify="false" CRM_meta_physical_host="database-2" CRM_meta_timeout="120000" additional_parameters="--open-files-limit=16384" cluster_host_map="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"  enable_creation="true" wsrep_cluster_address="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="122" operation="demote" operation_key="galera-bundle-master_demote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="14" priority="1000000">
+    <action_set>
+      <pseudo_event id="123" operation="demoted" operation_key="galera-bundle-master_demoted_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="106" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:0_demote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="111" operation="demote" operation_key="galera_demote_0" internal_operation_key="galera:2_demote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="122" operation="demote" operation_key="galera-bundle-master_demote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="15">
+    <action_set>
+      <pseudo_event id="122" operation="demote" operation_key="galera-bundle-master_demote_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="126" operation="demote" operation_key="galera-bundle_demote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="16" priority="1000000">
+    <action_set>
+      <pseudo_event id="121" operation="promoted" operation_key="galera-bundle-master_promoted_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="109" operation="promote" operation_key="galera_promote_0" internal_operation_key="galera:0_promote_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="114" operation="promote" operation_key="galera_promote_0" internal_operation_key="galera:2_promote_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="17">
+    <action_set>
+      <pseudo_event id="120" operation="promote" operation_key="galera-bundle-master_promote_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="117" operation="running" operation_key="galera-bundle-master_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="119" operation="stopped" operation_key="galera-bundle-master_stopped_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="123" operation="demoted" operation_key="galera-bundle-master_demoted_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="124" operation="promote" operation_key="galera-bundle_promote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="18" priority="1000000">
+    <action_set>
+      <pseudo_event id="119" operation="stopped" operation_key="galera-bundle-master_stopped_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="107" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:0_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="112" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:2_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="118" operation="stop" operation_key="galera-bundle-master_stop_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="19">
+    <action_set>
+      <pseudo_event id="118" operation="stop" operation_key="galera-bundle-master_stop_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="100" operation="stop" operation_key="galera-bundle_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="123" operation="demoted" operation_key="galera-bundle-master_demoted_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="224" operation="stonith" operation_key="stonith-galera-bundle-0-reboot" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="225" operation="stonith" operation_key="stonith-galera-bundle-2-reboot" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="20" priority="1000000">
+    <action_set>
+      <pseudo_event id="117" operation="running" operation_key="galera-bundle-master_running_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="108" operation="start" operation_key="galera_start_0" internal_operation_key="galera:0_start_0" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="113" operation="start" operation_key="galera_start_0" internal_operation_key="galera:2_start_0" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="116" operation="start" operation_key="galera-bundle-master_start_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="21">
+    <action_set>
+      <pseudo_event id="116" operation="start" operation_key="galera-bundle-master_start_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="3" CRM_meta_master_node_max="1" CRM_meta_notify="false" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="98" operation="start" operation_key="galera-bundle_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="119" operation="stopped" operation_key="galera-bundle-master_stopped_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="123" operation="demoted" operation_key="galera-bundle-master_demoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="22">
+    <action_set>
+      <rsc_op id="86" operation="monitor" operation_key="galera-bundle-docker-0_monitor_60000" on_node="database-0" on_node_uuid="database-0" router_node="controller-0">
+        <primitive id="galera-bundle-docker-0" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="database-0" CRM_meta_on_node_uuid="database-0" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/galera-bundle-0" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3123 -v /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/mysql:/var/lib/mysql:rw -v /var/log/mariadb:/var/log/mariadb:rw -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/galera-bundle-0:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="38" operation="start" operation_key="database-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="23">
+    <action_set>
+      <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0">
+        <primitive id="galera-bundle-docker-0" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_on_node="database-0" CRM_meta_on_node_uuid="database-0" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/galera-bundle-0" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3123 -v /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/mysql:/var/lib/mysql:rw -v /var/log/mariadb:/var/log/mariadb:rw -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/galera-bundle-0:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="38" operation="start" operation_key="database-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="84" operation="stop" operation_key="galera-bundle-docker-0_stop_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="98" operation="start" operation_key="galera-bundle_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="24">
+    <action_set>
+      <rsc_op id="84" operation="stop" operation_key="galera-bundle-docker-0_stop_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0">
+        <primitive id="galera-bundle-docker-0" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_on_node="database-0" CRM_meta_on_node_uuid="database-0" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/galera-bundle-0" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3123 -v /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/mysql:/var/lib/mysql:rw -v /var/log/mariadb:/var/log/mariadb:rw -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/galera-bundle-0:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="38" operation="start" operation_key="database-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="100" operation="stop" operation_key="galera-bundle_stop_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="25">
+    <action_set>
+      <rsc_op id="88" operation="monitor" operation_key="galera-bundle-0_monitor_60000" on_node="controller-0" on_node_uuid="1">
+        <primitive id="galera-bundle-0" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="galera-bundle-docker-0" CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000" addr="database-0"  port="3123"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="87" operation="start" operation_key="galera-bundle-0_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="26">
+    <action_set>
+      <rsc_op id="87" operation="start" operation_key="galera-bundle-0_start_0" on_node="controller-0" on_node_uuid="1">
+        <primitive id="galera-bundle-0" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="galera-bundle-docker-0" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000" addr="database-0"  port="3123"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="35" operation="monitor" operation_key="galera-bundle-0_monitor_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="27">
+    <action_set>
+      <rsc_op id="35" operation="monitor" operation_key="galera-bundle-0_monitor_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="galera-bundle-0" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="galera-bundle-docker-0" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_op_target_rc="7" CRM_meta_timeout="20000" addr="database-0"  port="3123"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="28">
+    <action_set>
+      <rsc_op id="95" operation="monitor" operation_key="galera-bundle-docker-2_monitor_60000" on_node="database-2" on_node_uuid="database-2" router_node="controller-1">
+        <primitive id="galera-bundle-docker-2" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="database-2" CRM_meta_on_node_uuid="database-2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/galera-bundle-2" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3123 -v /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/mysql:/var/lib/mysql:rw -v /var/log/mariadb:/var/log/mariadb:rw -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/galera-bundle-2:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="42" operation="start" operation_key="database-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="29">
+    <action_set>
+      <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1">
+        <primitive id="galera-bundle-docker-2" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_on_node="database-2" CRM_meta_on_node_uuid="database-2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/galera-bundle-2" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3123 -v /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/mysql:/var/lib/mysql:rw -v /var/log/mariadb:/var/log/mariadb:rw -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/galera-bundle-2:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="42" operation="start" operation_key="database-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="93" operation="stop" operation_key="galera-bundle-docker-2_stop_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="98" operation="start" operation_key="galera-bundle_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="30">
+    <action_set>
+      <rsc_op id="93" operation="stop" operation_key="galera-bundle-docker-2_stop_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1">
+        <primitive id="galera-bundle-docker-2" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_on_node="database-2" CRM_meta_on_node_uuid="database-2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/galera-bundle-2" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3123 -v /var/lib/kolla/config_files/mysql.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/mysql/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/mysql:/var/lib/mysql:rw -v /var/log/mariadb:/var/log/mariadb:rw -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/galera-bundle-2:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="42" operation="start" operation_key="database-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="100" operation="stop" operation_key="galera-bundle_stop_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="31">
+    <action_set>
+      <rsc_op id="97" operation="monitor" operation_key="galera-bundle-2_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="galera-bundle-2" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="galera-bundle-docker-2" CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" addr="database-2"  port="3123"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="96" operation="start" operation_key="galera-bundle-2_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="32">
+    <action_set>
+      <rsc_op id="96" operation="start" operation_key="galera-bundle-2_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="galera-bundle-2" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="galera-bundle-docker-2" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" addr="database-2"  port="3123"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="36" operation="monitor" operation_key="galera-bundle-2_monitor_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="33">
+    <action_set>
+      <rsc_op id="36" operation="monitor" operation_key="galera-bundle-2_monitor_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="galera-bundle-2" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="galera-bundle-docker-2" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_op_target_rc="7" CRM_meta_timeout="20000" addr="database-2"  port="3123"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="34" priority="1000000">
+    <action_set>
+      <rsc_op id="251" operation="notify" operation_key="redis_post_notify_promote_0" internal_operation_key="redis:0_post_notify_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0">
+        <primitive id="redis" long-id="redis:0" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="promoted" CRM_meta_notify_key_type="post" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="promote" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="post" CRM_meta_on_node="redis-bundle-0" CRM_meta_on_node_uuid="redis-bundle-0" CRM_meta_physical_host="controller-0" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="169" operation="notify" operation_key="redis-bundle-master_post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="35">
+    <action_set>
+      <rsc_op id="250" operation="notify" operation_key="redis_pre_notify_promote_0" internal_operation_key="redis:0_pre_notify_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0">
+        <primitive id="redis" long-id="redis:0" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="promote" CRM_meta_notify_key_type="pre" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="promote" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="pre" CRM_meta_on_node="redis-bundle-0" CRM_meta_on_node_uuid="redis-bundle-0" CRM_meta_physical_host="controller-0" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="167" operation="notify" operation_key="redis-bundle-master_pre_notify_promote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="36" priority="1000000">
+    <action_set>
+      <rsc_op id="242" operation="notify" operation_key="redis_post_notify_start_0" internal_operation_key="redis:0_post_notify_start_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0">
+        <primitive id="redis" long-id="redis:0" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="running" CRM_meta_notify_key_type="post" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="start" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="post" CRM_meta_on_node="redis-bundle-0" CRM_meta_on_node_uuid="redis-bundle-0" CRM_meta_physical_host="controller-0" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="157" operation="notify" operation_key="redis-bundle-master_post_notify_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="37">
+    <action_set>
+      <rsc_op id="241" operation="notify" operation_key="redis_pre_notify_start_0" internal_operation_key="redis:0_pre_notify_start_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0">
+        <primitive id="redis" long-id="redis:0" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="start" CRM_meta_notify_key_type="pre" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="start" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="pre" CRM_meta_on_node="redis-bundle-0" CRM_meta_on_node_uuid="redis-bundle-0" CRM_meta_physical_host="controller-0" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="155" operation="notify" operation_key="redis-bundle-master_pre_notify_start_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="38">
+    <action_set>
+      <rsc_op id="147" operation="monitor" operation_key="redis_monitor_20000" internal_operation_key="redis:0_monitor_20000" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0">
+        <primitive id="redis" long-id="redis:0" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_interval="20000" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_name="monitor" CRM_meta_notify="true" CRM_meta_on_node="redis-bundle-0" CRM_meta_on_node_uuid="redis-bundle-0" CRM_meta_op_target_rc="8" CRM_meta_physical_host="controller-0" CRM_meta_role="Master" CRM_meta_timeout="60000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="146" operation="promote" operation_key="redis_promote_0" internal_operation_key="redis:0_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="158" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="170" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="39">
+    <action_set>
+      <rsc_op id="146" operation="promote" operation_key="redis_promote_0" internal_operation_key="redis:0_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0">
+        <primitive id="redis" long-id="redis:0" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="0" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_name="promote" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_on_node="redis-bundle-0" CRM_meta_on_node_uuid="redis-bundle-0" CRM_meta_physical_host="controller-0" CRM_meta_timeout="120000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="165" operation="promote" operation_key="redis-bundle-master_promote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="40" priority="1000000">
+    <action_set>
+      <rsc_op id="253" operation="notify" operation_key="redis:1_post_notify_promote_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1">
+        <primitive id="redis" long-id="redis:1" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="1" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="promoted" CRM_meta_notify_key_type="post" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="promote" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="post" CRM_meta_on_node="redis-bundle-1" CRM_meta_on_node_uuid="redis-bundle-1" CRM_meta_physical_host="controller-1" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="169" operation="notify" operation_key="redis-bundle-master_post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="41">
+    <action_set>
+      <rsc_op id="252" operation="notify" operation_key="redis:1_pre_notify_promote_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1">
+        <primitive id="redis" long-id="redis:1" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="1" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="promote" CRM_meta_notify_key_type="pre" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="promote" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="pre" CRM_meta_on_node="redis-bundle-1" CRM_meta_on_node_uuid="redis-bundle-1" CRM_meta_physical_host="controller-1" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="167" operation="notify" operation_key="redis-bundle-master_pre_notify_promote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="42" priority="1000000">
+    <action_set>
+      <rsc_op id="243" operation="notify" operation_key="redis:1_post_notify_start_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1">
+        <primitive id="redis" long-id="redis:1" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="1" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="running" CRM_meta_notify_key_type="post" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="start" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="post" CRM_meta_on_node="redis-bundle-1" CRM_meta_on_node_uuid="redis-bundle-1" CRM_meta_physical_host="controller-1" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="157" operation="notify" operation_key="redis-bundle-master_post_notify_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="43">
+    <action_set>
+      <rsc_op id="152" operation="monitor" operation_key="redis:1_monitor_60000" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1">
+        <primitive id="redis" long-id="redis:1" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="1" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_interval="60000" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_name="monitor" CRM_meta_notify="true" CRM_meta_on_node="redis-bundle-1" CRM_meta_on_node_uuid="redis-bundle-1" CRM_meta_physical_host="controller-1" CRM_meta_role="Slave" CRM_meta_timeout="60000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="134" operation="start" operation_key="redis-bundle-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="150" operation="start" operation_key="redis:1_start_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="158" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="170" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="44">
+    <action_set>
+      <rsc_op id="151" operation="monitor" operation_key="redis:1_monitor_45000" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1">
+        <primitive id="redis" long-id="redis:1" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="1" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_interval="45000" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_name="monitor" CRM_meta_notify="true" CRM_meta_on_node="redis-bundle-1" CRM_meta_on_node_uuid="redis-bundle-1" CRM_meta_physical_host="controller-1" CRM_meta_timeout="60000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="134" operation="start" operation_key="redis-bundle-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="150" operation="start" operation_key="redis:1_start_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="158" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="170" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="45">
+    <action_set>
+      <rsc_op id="150" operation="start" operation_key="redis:1_start_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1">
+        <primitive id="redis" long-id="redis:1" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="1" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_name="start" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_on_node="redis-bundle-1" CRM_meta_on_node_uuid="redis-bundle-1" CRM_meta_physical_host="controller-1" CRM_meta_timeout="200000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="132" operation="start" operation_key="redis-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="134" operation="start" operation_key="redis-bundle-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="153" operation="start" operation_key="redis-bundle-master_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="46" priority="1000000">
+    <action_set>
+      <rsc_op id="255" operation="notify" operation_key="redis_post_notify_promote_0" internal_operation_key="redis:2_post_notify_promote_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2">
+        <primitive id="redis" long-id="redis:2" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="promoted" CRM_meta_notify_key_type="post" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="promote" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="post" CRM_meta_on_node="redis-bundle-2" CRM_meta_on_node_uuid="redis-bundle-2" CRM_meta_physical_host="controller-2" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="169" operation="notify" operation_key="redis-bundle-master_post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="47">
+    <action_set>
+      <rsc_op id="254" operation="notify" operation_key="redis_pre_notify_promote_0" internal_operation_key="redis:2_pre_notify_promote_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2">
+        <primitive id="redis" long-id="redis:2" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="promote" CRM_meta_notify_key_type="pre" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="promote" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="pre" CRM_meta_on_node="redis-bundle-2" CRM_meta_on_node_uuid="redis-bundle-2" CRM_meta_physical_host="controller-2" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="167" operation="notify" operation_key="redis-bundle-master_pre_notify_promote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="48" priority="1000000">
+    <action_set>
+      <rsc_op id="245" operation="notify" operation_key="redis_post_notify_start_0" internal_operation_key="redis:2_post_notify_start_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2">
+        <primitive id="redis" long-id="redis:2" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="running" CRM_meta_notify_key_type="post" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="start" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="post" CRM_meta_on_node="redis-bundle-2" CRM_meta_on_node_uuid="redis-bundle-2" CRM_meta_physical_host="controller-2" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="157" operation="notify" operation_key="redis-bundle-master_post_notify_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="49">
+    <action_set>
+      <rsc_op id="244" operation="notify" operation_key="redis_pre_notify_start_0" internal_operation_key="redis:2_pre_notify_start_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2">
+        <primitive id="redis" long-id="redis:2" class="ocf" provider="heartbeat" type="redis"/>
+        <attributes CRM_meta_clone="2" CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_container_attribute_target="host" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_active_resource="redis:0 redis:2" CRM_meta_notify_active_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_all_hosts="controller-0 controller-1 controller-2 database-0 database-1 database-2 database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 messaging-0 messaging-1 messaging-2 controller-0 redis-bundle-1 controller-2" CRM_meta_notify_all_uname="controller-0 controller-1 controller-2 database-0 database-1 database-2 galera-bundle-0 galera-bundle-1 galera-bundle-2 messaging-0 messaging-1 messaging-2 rabbitmq-bundle-0 rabbitmq-bundle-1 rabbitmq-bundle-2 redis-bundle-0 redis-bundle-1 redis-bundle-2" CRM_meta_notify_available_uname="database-1 database-0 controller-2 controller-1 controller-0 redis-bundle-2 redis-bundle-1 redis-bundle-0 messaging-2 messaging-1 messaging-0 database-2" CRM_meta_notify_demote_resource=" " CRM_meta_notify_demote_uname=" " CRM_meta_notify_inactive_resource="redis:1" CRM_meta_notify_key_operation="start" CRM_meta_notify_key_type="pre" CRM_meta_notify_master_resource=" " CRM_meta_notify_master_uname=" " CRM_meta_notify_operation="start" CRM_meta_notify_promote_resource="redis:0" CRM_meta_notify_promote_uname="redis-bundle-0" CRM_meta_notify_slave_resource="redis:0 redis:2" CRM_meta_notify_slave_uname="redis-bundle-0 redis-bundle-2" CRM_meta_notify_start_resource="redis:1" CRM_meta_notify_start_uname="redis-bundle-1" CRM_meta_notify_stop_resource=" " CRM_meta_notify_stop_uname=" " CRM_meta_notify_type="pre" CRM_meta_on_node="redis-bundle-2" CRM_meta_on_node_uuid="redis-bundle-2" CRM_meta_physical_host="controller-2" CRM_meta_timeout="20000"  wait_last_known_master="true"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="155" operation="notify" operation_key="redis-bundle-master_pre_notify_start_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="50" priority="1000000">
+    <action_set>
+      <pseudo_event id="170" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_promoted_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="promoted" CRM_meta_notify_key_type="confirmed-post" CRM_meta_notify_operation="promote" CRM_meta_notify_type="post" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="169" operation="notify" operation_key="redis-bundle-master_post_notify_promoted_0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="251" operation="notify" operation_key="redis_post_notify_promote_0" internal_operation_key="redis:0_post_notify_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="253" operation="notify" operation_key="redis:1_post_notify_promote_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="255" operation="notify" operation_key="redis_post_notify_promote_0" internal_operation_key="redis:2_post_notify_promote_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="51" priority="1000000">
+    <action_set>
+      <pseudo_event id="169" operation="notify" operation_key="redis-bundle-master_post_notify_promoted_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="promoted" CRM_meta_notify_key_type="post" CRM_meta_notify_operation="promote" CRM_meta_notify_type="post" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="166" operation="promoted" operation_key="redis-bundle-master_promoted_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="168" operation="notified" operation_key="redis-bundle-master_confirmed-pre_notify_promote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="52">
+    <action_set>
+      <pseudo_event id="168" operation="notified" operation_key="redis-bundle-master_confirmed-pre_notify_promote_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="promote" CRM_meta_notify_key_type="confirmed-pre" CRM_meta_notify_operation="promote" CRM_meta_notify_type="pre" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="167" operation="notify" operation_key="redis-bundle-master_pre_notify_promote_0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="250" operation="notify" operation_key="redis_pre_notify_promote_0" internal_operation_key="redis:0_pre_notify_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="252" operation="notify" operation_key="redis:1_pre_notify_promote_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="254" operation="notify" operation_key="redis_pre_notify_promote_0" internal_operation_key="redis:2_pre_notify_promote_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="53">
+    <action_set>
+      <pseudo_event id="167" operation="notify" operation_key="redis-bundle-master_pre_notify_promote_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="promote" CRM_meta_notify_key_type="pre" CRM_meta_notify_operation="promote" CRM_meta_notify_type="pre" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="158" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="54" priority="1000000">
+    <action_set>
+      <pseudo_event id="166" operation="promoted" operation_key="redis-bundle-master_promoted_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="146" operation="promote" operation_key="redis_promote_0" internal_operation_key="redis:0_promote_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="55">
+    <action_set>
+      <pseudo_event id="165" operation="promote" operation_key="redis-bundle-master_promote_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="154" operation="running" operation_key="redis-bundle-master_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="168" operation="notified" operation_key="redis-bundle-master_confirmed-pre_notify_promote_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="177" operation="promote" operation_key="redis-bundle_promote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="56" priority="1000000">
+    <action_set>
+      <pseudo_event id="158" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_running_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="running" CRM_meta_notify_key_type="confirmed-post" CRM_meta_notify_operation="start" CRM_meta_notify_type="post" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="157" operation="notify" operation_key="redis-bundle-master_post_notify_running_0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="242" operation="notify" operation_key="redis_post_notify_start_0" internal_operation_key="redis:0_post_notify_start_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="243" operation="notify" operation_key="redis:1_post_notify_start_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="245" operation="notify" operation_key="redis_post_notify_start_0" internal_operation_key="redis:2_post_notify_start_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="57" priority="1000000">
+    <action_set>
+      <pseudo_event id="157" operation="notify" operation_key="redis-bundle-master_post_notify_running_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="running" CRM_meta_notify_key_type="post" CRM_meta_notify_operation="start" CRM_meta_notify_type="post" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="154" operation="running" operation_key="redis-bundle-master_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="156" operation="notified" operation_key="redis-bundle-master_confirmed-pre_notify_start_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="58">
+    <action_set>
+      <pseudo_event id="156" operation="notified" operation_key="redis-bundle-master_confirmed-pre_notify_start_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="start" CRM_meta_notify_key_type="confirmed-pre" CRM_meta_notify_operation="start" CRM_meta_notify_type="pre" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="155" operation="notify" operation_key="redis-bundle-master_pre_notify_start_0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="241" operation="notify" operation_key="redis_pre_notify_start_0" internal_operation_key="redis:0_pre_notify_start_0" on_node="redis-bundle-0" on_node_uuid="redis-bundle-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="244" operation="notify" operation_key="redis_pre_notify_start_0" internal_operation_key="redis:2_pre_notify_start_0" on_node="redis-bundle-2" on_node_uuid="redis-bundle-2" router_node="controller-2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="59">
+    <action_set>
+      <pseudo_event id="155" operation="notify" operation_key="redis-bundle-master_pre_notify_start_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_notify_key_operation="start" CRM_meta_notify_key_type="pre" CRM_meta_notify_operation="start" CRM_meta_notify_type="pre" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="60" priority="1000000">
+    <action_set>
+      <pseudo_event id="154" operation="running" operation_key="redis-bundle-master_running_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="150" operation="start" operation_key="redis:1_start_0" on_node="redis-bundle-1" on_node_uuid="redis-bundle-1" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="153" operation="start" operation_key="redis-bundle-master_start_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="61">
+    <action_set>
+      <pseudo_event id="153" operation="start" operation_key="redis-bundle-master_start_0">
+        <attributes CRM_meta_clone_max="3" CRM_meta_clone_node_max="1" CRM_meta_globally_unique="false" CRM_meta_master_max="1" CRM_meta_master_node_max="1" CRM_meta_notify="true" CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="140" operation="start" operation_key="redis-bundle_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="156" operation="notified" operation_key="redis-bundle-master_confirmed-pre_notify_start_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="62">
+    <action_set>
+      <rsc_op id="133" operation="monitor" operation_key="redis-bundle-docker-1_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="redis-bundle-docker-1" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-redis-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/redis-bundle-1" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3124 -v /var/lib/kolla/config_files/redis.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/redis/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/redis:/var/lib/redis:rw -v /var/log/redis:/var/log/redis:rw -v /var/run/redis:/var/run/redis:rw -v /etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro -v /etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro -v /etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro -v /etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/redis-bundle-1:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="132" operation="start" operation_key="redis-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="63">
+    <action_set>
+      <rsc_op id="132" operation="start" operation_key="redis-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="redis-bundle-docker-1" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-redis-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="/var/log/pacemaker/bundles/redis-bundle-1" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3124 -v /var/lib/kolla/config_files/redis.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/redis/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /var/lib/redis:/var/lib/redis:rw -v /var/log/redis:/var/log/redis:rw -v /var/run/redis:/var/run/redis:rw -v /etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro -v /etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro -v /etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro -v /etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro -v /dev/log:/dev/log:rw -v /etc/pacemaker/authkey:/etc/pacemaker/authkey -v /var/log/pacemaker/bundles/redis-bundle-1:/var/log --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="140" operation="start" operation_key="redis-bundle_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="64">
+    <action_set>
+      <rsc_op id="135" operation="monitor" operation_key="redis-bundle-1_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="redis-bundle-1" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="redis-bundle-docker-1" CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" addr="controller-1"  port="3124"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="134" operation="start" operation_key="redis-bundle-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="65">
+    <action_set>
+      <rsc_op id="134" operation="start" operation_key="redis-bundle-1_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="redis-bundle-1" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="redis-bundle-docker-1" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" addr="controller-1"  port="3124"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="37" operation="monitor" operation_key="redis-bundle-1_monitor_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="132" operation="start" operation_key="redis-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="66">
+    <action_set>
+      <rsc_op id="37" operation="monitor" operation_key="redis-bundle-1_monitor_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="redis-bundle-1" class="ocf" provider="pacemaker" type="remote"/>
+        <attributes CRM_meta_container="redis-bundle-docker-1" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_op_target_rc="7" CRM_meta_timeout="20000" addr="controller-1"  port="3124"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="132" operation="start" operation_key="redis-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="67">
+    <action_set>
+      <rsc_op id="182" operation="monitor" operation_key="ip-192.168.24.11_monitor_10000" on_node="controller-0" on_node_uuid="1">
+        <primitive id="ip-192.168.24.11" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_interval="10000" CRM_meta_name="monitor" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000" cidr_netmask="32"  ip="192.168.24.11"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="181" operation="start" operation_key="ip-192.168.24.11_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="68">
+    <action_set>
+      <rsc_op id="181" operation="start" operation_key="ip-192.168.24.11_start_0" on_node="controller-0" on_node_uuid="1">
+        <primitive id="ip-192.168.24.11" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000" cidr_netmask="32"  ip="192.168.24.11"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="69">
+    <action_set>
+      <rsc_op id="184" operation="monitor" operation_key="ip-10.0.0.104_monitor_10000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="ip-10.0.0.104" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_interval="10000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" cidr_netmask="32"  ip="10.0.0.104"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="183" operation="start" operation_key="ip-10.0.0.104_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="70">
+    <action_set>
+      <rsc_op id="183" operation="start" operation_key="ip-10.0.0.104_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="ip-10.0.0.104" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" cidr_netmask="32"  ip="10.0.0.104"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="71">
+    <action_set>
+      <rsc_op id="188" operation="monitor" operation_key="ip-172.17.1.11_monitor_10000" on_node="controller-0" on_node_uuid="1">
+        <primitive id="ip-172.17.1.11" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_interval="10000" CRM_meta_name="monitor" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000" cidr_netmask="32"  ip="172.17.1.11"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="187" operation="start" operation_key="ip-172.17.1.11_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="72">
+    <action_set>
+      <rsc_op id="187" operation="start" operation_key="ip-172.17.1.11_start_0" on_node="controller-0" on_node_uuid="1">
+        <primitive id="ip-172.17.1.11" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000" cidr_netmask="32"  ip="172.17.1.11"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="73">
+    <action_set>
+      <rsc_op id="190" operation="monitor" operation_key="ip-172.17.3.13_monitor_10000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="ip-172.17.3.13" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_interval="10000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" cidr_netmask="32"  ip="172.17.3.13"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="189" operation="start" operation_key="ip-172.17.3.13_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="74">
+    <action_set>
+      <rsc_op id="189" operation="start" operation_key="ip-172.17.3.13_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="ip-172.17.3.13" class="ocf" provider="heartbeat" type="IPaddr2"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" cidr_netmask="32"  ip="172.17.3.13"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="75">
+    <action_set>
+      <rsc_op id="196" operation="monitor" operation_key="haproxy-bundle-docker-1_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="haproxy-bundle-docker-1" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3121 -v /var/lib/kolla/config_files/haproxy.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/haproxy/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro -v /etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro -v /etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro -v /etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro -v /dev/log:/dev/log:rw --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="195" operation="start" operation_key="haproxy-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="76">
+    <action_set>
+      <rsc_op id="195" operation="start" operation_key="haproxy-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="haproxy-bundle-docker-1" class="ocf" provider="heartbeat" type="docker"/>
+        <attributes CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000" allow_pull="true"  force_kill="false" image="192.168.24.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest" monitor_cmd="/bin/true" mount_points="" reuse="false" run_cmd="/bin/bash /usr/local/bin/kolla_start" run_opts=" --restart=no -e PCMK_stderr=1 --net=host -e PCMK_remote_port=3121 -v /var/lib/kolla/config_files/haproxy.json:/var/lib/kolla/config_files/config.json:ro -v /var/lib/config-data/puppet-generated/haproxy/:/var/lib/kolla/config_files/src:ro -v /etc/hosts:/etc/hosts:ro -v /etc/localtime:/etc/localtime:ro -v /etc/pki/ca-trust/extracted:/etc/pki/ca-trust/extracted:ro -v /etc/pki/tls/certs/ca-bundle.crt:/etc/pki/tls/certs/ca-bundle.crt:ro -v /etc/pki/tls/certs/ca-bundle.trust.crt:/etc/pki/tls/certs/ca-bundle.trust.crt:ro -v /etc/pki/tls/cert.pem:/etc/pki/tls/cert.pem:ro -v /dev/log:/dev/log:rw --user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS "/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="199" operation="start" operation_key="haproxy-bundle_start_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="77">
+    <action_set>
+      <rsc_op id="204" operation="monitor" operation_key="openstack-cinder-volume_monitor_60000" on_node="controller-0" on_node_uuid="1">
+        <primitive id="openstack-cinder-volume" class="systemd" type="openstack-cinder-volume"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="100000" />
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="203" operation="start" operation_key="openstack-cinder-volume_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="78">
+    <action_set>
+      <rsc_op id="203" operation="start" operation_key="openstack-cinder-volume_start_0" on_node="controller-0" on_node_uuid="1">
+        <primitive id="openstack-cinder-volume" class="systemd" type="openstack-cinder-volume"/>
+        <attributes CRM_meta_name="start" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="200000" />
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="79">
+    <action_set>
+      <rsc_op id="210" operation="monitor" operation_key="stonith-fence_ipmilan-525400c709f7_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="stonith-fence_ipmilan-525400c709f7" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6240" lanplus="true" login="admin" passwd="password" pcmk_host_list="messaging-0" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="209" operation="start" operation_key="stonith-fence_ipmilan-525400c709f7_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="80">
+    <action_set>
+      <rsc_op id="209" operation="start" operation_key="stonith-fence_ipmilan-525400c709f7_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="stonith-fence_ipmilan-525400c709f7" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6240" lanplus="true" login="admin" passwd="password" pcmk_host_list="messaging-0" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="81">
+    <action_set>
+      <rsc_op id="216" operation="monitor" operation_key="stonith-fence_ipmilan-5254005ea387_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="stonith-fence_ipmilan-5254005ea387" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6235" lanplus="true" login="admin" passwd="password" pcmk_host_list="database-0" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="215" operation="start" operation_key="stonith-fence_ipmilan-5254005ea387_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="82">
+    <action_set>
+      <rsc_op id="215" operation="start" operation_key="stonith-fence_ipmilan-5254005ea387_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="stonith-fence_ipmilan-5254005ea387" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6235" lanplus="true" login="admin" passwd="password" pcmk_host_list="database-0" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="83">
+    <action_set>
+      <rsc_op id="218" operation="monitor" operation_key="stonith-fence_ipmilan-525400542c06_monitor_60000" on_node="controller-0" on_node_uuid="1">
+        <primitive id="stonith-fence_ipmilan-525400542c06" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6236" lanplus="true" login="admin" passwd="password" pcmk_host_list="controller-2" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="217" operation="start" operation_key="stonith-fence_ipmilan-525400542c06_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="84">
+    <action_set>
+      <rsc_op id="217" operation="start" operation_key="stonith-fence_ipmilan-525400542c06_start_0" on_node="controller-0" on_node_uuid="1">
+        <primitive id="stonith-fence_ipmilan-525400542c06" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_on_node="controller-0" CRM_meta_on_node_uuid="1" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6236" lanplus="true" login="admin" passwd="password" pcmk_host_list="controller-2" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="85">
+    <action_set>
+      <rsc_op id="222" operation="monitor" operation_key="stonith-fence_ipmilan-525400498d34_monitor_60000" on_node="controller-1" on_node_uuid="2">
+        <primitive id="stonith-fence_ipmilan-525400498d34" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_interval="60000" CRM_meta_name="monitor" CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6231" lanplus="true" login="admin" passwd="password" pcmk_host_list="controller-0" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="221" operation="start" operation_key="stonith-fence_ipmilan-525400498d34_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="86">
+    <action_set>
+      <rsc_op id="221" operation="start" operation_key="stonith-fence_ipmilan-525400498d34_start_0" on_node="controller-1" on_node_uuid="2">
+        <primitive id="stonith-fence_ipmilan-525400498d34" class="stonith" type="fence_ipmilan"/>
+        <attributes CRM_meta_on_node="controller-1" CRM_meta_on_node_uuid="2" CRM_meta_timeout="20000"  ipaddr="172.16.0.8" ipport="6231" lanplus="true" login="admin" passwd="password" pcmk_host_list="controller-0" privlvl="administrator"/>
+      </rsc_op>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="87">
+    <action_set>
+      <pseudo_event id="225" operation="stonith" operation_key="stonith-galera-bundle-2-reboot" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2">
+        <attributes CRM_meta_on_node="galera-bundle-2" CRM_meta_on_node_uuid="galera-bundle-2" CRM_meta_stonith_action="reboot" />
+        <downed>
+          <node id="galera-bundle-2"/>
+        </downed>
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="93" operation="stop" operation_key="galera-bundle-docker-2_stop_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="88">
+    <action_set>
+      <pseudo_event id="224" operation="stonith" operation_key="stonith-galera-bundle-0-reboot" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0">
+        <attributes CRM_meta_on_node="galera-bundle-0" CRM_meta_on_node_uuid="galera-bundle-0" CRM_meta_stonith_action="reboot" />
+        <downed>
+          <node id="galera-bundle-0"/>
+        </downed>
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="84" operation="stop" operation_key="galera-bundle-docker-0_stop_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="89">
+    <action_set>
+      <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete">
+        <attributes />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="224" operation="stonith" operation_key="stonith-galera-bundle-0-reboot" on_node="galera-bundle-0" on_node_uuid="galera-bundle-0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="225" operation="stonith" operation_key="stonith-galera-bundle-2-reboot" on_node="galera-bundle-2" on_node_uuid="galera-bundle-2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="90" priority="1000000">
+    <action_set>
+      <pseudo_event id="200" operation="running" operation_key="haproxy-bundle_running_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="195" operation="start" operation_key="haproxy-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="91">
+    <action_set>
+      <pseudo_event id="199" operation="start" operation_key="haproxy-bundle_start_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="181" operation="start" operation_key="ip-192.168.24.11_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="183" operation="start" operation_key="ip-10.0.0.104_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="187" operation="start" operation_key="ip-172.17.1.11_start_0" on_node="controller-0" on_node_uuid="1"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="189" operation="start" operation_key="ip-172.17.3.13_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="92" priority="1000000">
+    <action_set>
+      <pseudo_event id="178" operation="promoted" operation_key="redis-bundle_promoted_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="170" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="93">
+    <action_set>
+      <pseudo_event id="177" operation="promote" operation_key="redis-bundle_promote_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="141" operation="running" operation_key="redis-bundle_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="94" priority="1000000">
+    <action_set>
+      <pseudo_event id="141" operation="running" operation_key="redis-bundle_running_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="132" operation="start" operation_key="redis-bundle-docker-1_start_0" on_node="controller-1" on_node_uuid="2"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="158" operation="notified" operation_key="redis-bundle-master_confirmed-post_notify_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="95">
+    <action_set>
+      <pseudo_event id="140" operation="start" operation_key="redis-bundle_start_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="96" priority="1000000">
+    <action_set>
+      <pseudo_event id="127" operation="demoted" operation_key="galera-bundle_demoted_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="123" operation="demoted" operation_key="galera-bundle-master_demoted_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="126" operation="demote" operation_key="galera-bundle_demote_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="97">
+    <action_set>
+      <pseudo_event id="126" operation="demote" operation_key="galera-bundle_demote_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs/>
+  </synapse>
+  <synapse id="98" priority="1000000">
+    <action_set>
+      <pseudo_event id="125" operation="promoted" operation_key="galera-bundle_promoted_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="121" operation="promoted" operation_key="galera-bundle-master_promoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="99">
+    <action_set>
+      <pseudo_event id="124" operation="promote" operation_key="galera-bundle_promote_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="99" operation="running" operation_key="galera-bundle_running_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="101" operation="stopped" operation_key="galera-bundle_stopped_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="127" operation="demoted" operation_key="galera-bundle_demoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="100" priority="1000000">
+    <action_set>
+      <pseudo_event id="101" operation="stopped" operation_key="galera-bundle_stopped_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="84" operation="stop" operation_key="galera-bundle-docker-0_stop_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="93" operation="stop" operation_key="galera-bundle-docker-2_stop_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="119" operation="stopped" operation_key="galera-bundle-master_stopped_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="101">
+    <action_set>
+      <pseudo_event id="100" operation="stop" operation_key="galera-bundle_stop_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="127" operation="demoted" operation_key="galera-bundle_demoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="102" priority="1000000">
+    <action_set>
+      <pseudo_event id="99" operation="running" operation_key="galera-bundle_running_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="85" operation="start" operation_key="galera-bundle-docker-0_start_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="94" operation="start" operation_key="galera-bundle-docker-2_start_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="117" operation="running" operation_key="galera-bundle-master_running_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="103">
+    <action_set>
+      <pseudo_event id="98" operation="start" operation_key="galera-bundle_start_0">
+        <attributes CRM_meta_timeout="20000" />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <pseudo_event id="101" operation="stopped" operation_key="galera-bundle_stopped_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="127" operation="demoted" operation_key="galera-bundle_demoted_0"/>
+      </trigger>
+    </inputs>
+  </synapse>
+  <synapse id="104">
+    <action_set>
+      <pseudo_event id="34" operation="all_stopped" operation_key="all_stopped">
+        <attributes />
+      </pseudo_event>
+    </action_set>
+    <inputs>
+      <trigger>
+        <rsc_op id="84" operation="stop" operation_key="galera-bundle-docker-0_stop_0" on_node="database-0" on_node_uuid="database-0" router_node="controller-0"/>
+      </trigger>
+      <trigger>
+        <rsc_op id="93" operation="stop" operation_key="galera-bundle-docker-2_stop_0" on_node="database-2" on_node_uuid="database-2" router_node="controller-1"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="107" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:0_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="112" operation="stop" operation_key="galera_stop_0" internal_operation_key="galera:2_stop_0"/>
+      </trigger>
+      <trigger>
+        <pseudo_event id="223" operation="stonith_complete" operation_key="stonith_complete"/>
+      </trigger>
+    </inputs>
+  </synapse>
+</transition_graph>
diff --git a/pengine/test10/bundle-order-stop-on-remote.scores b/pengine/test10/bundle-order-stop-on-remote.scores
new file mode 100644
index 0000000..e26f511
--- /dev/null
+++ b/pengine/test10/bundle-order-stop-on-remote.scores
@@ -0,0 +1,934 @@
+Allocation scores:
+clone_color: galera-bundle-master allocation score on controller-0: -INFINITY
+clone_color: galera-bundle-master allocation score on controller-1: -INFINITY
+clone_color: galera-bundle-master allocation score on controller-2: -INFINITY
+clone_color: galera-bundle-master allocation score on database-0: -INFINITY
+clone_color: galera-bundle-master allocation score on database-1: -INFINITY
+clone_color: galera-bundle-master allocation score on database-2: -INFINITY
+clone_color: galera-bundle-master allocation score on galera-bundle-0: 0
+clone_color: galera-bundle-master allocation score on galera-bundle-1: 0
+clone_color: galera-bundle-master allocation score on galera-bundle-2: 0
+clone_color: galera-bundle-master allocation score on messaging-0: -INFINITY
+clone_color: galera-bundle-master allocation score on messaging-1: -INFINITY
+clone_color: galera-bundle-master allocation score on messaging-2: -INFINITY
+clone_color: galera:0 allocation score on galera-bundle-0: INFINITY
+clone_color: galera:1 allocation score on galera-bundle-1: INFINITY
+clone_color: galera:2 allocation score on galera-bundle-2: INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on controller-0: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on controller-1: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on controller-2: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on database-0: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on database-1: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on database-2: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on messaging-0: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on messaging-1: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on messaging-2: -INFINITY
+clone_color: rabbitmq-bundle-clone allocation score on rabbitmq-bundle-0: 0
+clone_color: rabbitmq-bundle-clone allocation score on rabbitmq-bundle-1: 0
+clone_color: rabbitmq-bundle-clone allocation score on rabbitmq-bundle-2: 0
+clone_color: rabbitmq:0 allocation score on rabbitmq-bundle-0: INFINITY
+clone_color: rabbitmq:1 allocation score on rabbitmq-bundle-1: INFINITY
+clone_color: rabbitmq:2 allocation score on rabbitmq-bundle-2: INFINITY
+clone_color: redis-bundle-master allocation score on controller-0: -INFINITY
+clone_color: redis-bundle-master allocation score on controller-1: -INFINITY
+clone_color: redis-bundle-master allocation score on controller-2: -INFINITY
+clone_color: redis-bundle-master allocation score on database-0: -INFINITY
+clone_color: redis-bundle-master allocation score on database-1: -INFINITY
+clone_color: redis-bundle-master allocation score on database-2: -INFINITY
+clone_color: redis-bundle-master allocation score on messaging-0: -INFINITY
+clone_color: redis-bundle-master allocation score on messaging-1: -INFINITY
+clone_color: redis-bundle-master allocation score on messaging-2: -INFINITY
+clone_color: redis-bundle-master allocation score on redis-bundle-0: 0
+clone_color: redis-bundle-master allocation score on redis-bundle-1: 0
+clone_color: redis-bundle-master allocation score on redis-bundle-2: 0
+clone_color: redis:0 allocation score on redis-bundle-0: INFINITY
+clone_color: redis:1 allocation score on redis-bundle-1: INFINITY
+clone_color: redis:2 allocation score on redis-bundle-2: INFINITY
+container_color: galera-bundle allocation score on controller-0: -INFINITY
+container_color: galera-bundle allocation score on controller-1: -INFINITY
+container_color: galera-bundle allocation score on controller-2: -INFINITY
+container_color: galera-bundle allocation score on database-0: 0
+container_color: galera-bundle allocation score on database-1: 0
+container_color: galera-bundle allocation score on database-2: 0
+container_color: galera-bundle allocation score on messaging-0: -INFINITY
+container_color: galera-bundle allocation score on messaging-1: -INFINITY
+container_color: galera-bundle allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-0 allocation score on controller-0: 0
+container_color: galera-bundle-0 allocation score on controller-1: 0
+container_color: galera-bundle-0 allocation score on controller-2: 0
+container_color: galera-bundle-0 allocation score on database-0: -INFINITY
+container_color: galera-bundle-0 allocation score on database-1: -INFINITY
+container_color: galera-bundle-0 allocation score on database-2: -INFINITY
+container_color: galera-bundle-0 allocation score on messaging-0: -INFINITY
+container_color: galera-bundle-0 allocation score on messaging-1: -INFINITY
+container_color: galera-bundle-0 allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-1 allocation score on controller-0: 0
+container_color: galera-bundle-1 allocation score on controller-1: 0
+container_color: galera-bundle-1 allocation score on controller-2: INFINITY
+container_color: galera-bundle-1 allocation score on database-0: -INFINITY
+container_color: galera-bundle-1 allocation score on database-1: -INFINITY
+container_color: galera-bundle-1 allocation score on database-2: -INFINITY
+container_color: galera-bundle-1 allocation score on messaging-0: -INFINITY
+container_color: galera-bundle-1 allocation score on messaging-1: -INFINITY
+container_color: galera-bundle-1 allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-2 allocation score on controller-0: 0
+container_color: galera-bundle-2 allocation score on controller-1: 0
+container_color: galera-bundle-2 allocation score on controller-2: 0
+container_color: galera-bundle-2 allocation score on database-0: -INFINITY
+container_color: galera-bundle-2 allocation score on database-1: -INFINITY
+container_color: galera-bundle-2 allocation score on database-2: -INFINITY
+container_color: galera-bundle-2 allocation score on messaging-0: -INFINITY
+container_color: galera-bundle-2 allocation score on messaging-1: -INFINITY
+container_color: galera-bundle-2 allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-docker-0 allocation score on controller-0: -INFINITY
+container_color: galera-bundle-docker-0 allocation score on controller-1: -INFINITY
+container_color: galera-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: galera-bundle-docker-0 allocation score on database-0: INFINITY
+container_color: galera-bundle-docker-0 allocation score on database-1: 0
+container_color: galera-bundle-docker-0 allocation score on database-2: 0
+container_color: galera-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: galera-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: galera-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: galera-bundle-docker-1 allocation score on controller-1: -INFINITY
+container_color: galera-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: galera-bundle-docker-1 allocation score on database-0: 0
+container_color: galera-bundle-docker-1 allocation score on database-1: INFINITY
+container_color: galera-bundle-docker-1 allocation score on database-2: 0
+container_color: galera-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: galera-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: galera-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-docker-2 allocation score on controller-0: -INFINITY
+container_color: galera-bundle-docker-2 allocation score on controller-1: -INFINITY
+container_color: galera-bundle-docker-2 allocation score on controller-2: -INFINITY
+container_color: galera-bundle-docker-2 allocation score on database-0: 0
+container_color: galera-bundle-docker-2 allocation score on database-1: 0
+container_color: galera-bundle-docker-2 allocation score on database-2: INFINITY
+container_color: galera-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: galera-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: galera-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: galera-bundle-master allocation score on controller-0: 0
+container_color: galera-bundle-master allocation score on controller-1: 0
+container_color: galera-bundle-master allocation score on controller-2: 0
+container_color: galera-bundle-master allocation score on database-0: 0
+container_color: galera-bundle-master allocation score on database-1: 0
+container_color: galera-bundle-master allocation score on database-2: 0
+container_color: galera-bundle-master allocation score on galera-bundle-0: -INFINITY
+container_color: galera-bundle-master allocation score on galera-bundle-1: -INFINITY
+container_color: galera-bundle-master allocation score on galera-bundle-2: -INFINITY
+container_color: galera-bundle-master allocation score on messaging-0: 0
+container_color: galera-bundle-master allocation score on messaging-1: 0
+container_color: galera-bundle-master allocation score on messaging-2: 0
+container_color: galera:0 allocation score on galera-bundle-0: INFINITY
+container_color: galera:1 allocation score on galera-bundle-1: INFINITY
+container_color: galera:2 allocation score on galera-bundle-2: INFINITY
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-0: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-1: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on controller-2: 0
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-0: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-1: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on database-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on controller-2: 0
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on controller-2: 0
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: rabbitmq-bundle allocation score on controller-0: -INFINITY
+container_color: rabbitmq-bundle allocation score on controller-1: -INFINITY
+container_color: rabbitmq-bundle allocation score on controller-2: -INFINITY
+container_color: rabbitmq-bundle allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle allocation score on messaging-0: 0
+container_color: rabbitmq-bundle allocation score on messaging-1: 0
+container_color: rabbitmq-bundle allocation score on messaging-2: 0
+container_color: rabbitmq-bundle-0 allocation score on controller-0: 0
+container_color: rabbitmq-bundle-0 allocation score on controller-1: 0
+container_color: rabbitmq-bundle-0 allocation score on controller-2: INFINITY
+container_color: rabbitmq-bundle-0 allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle-0 allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle-0 allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle-0 allocation score on messaging-0: -INFINITY
+container_color: rabbitmq-bundle-0 allocation score on messaging-1: -INFINITY
+container_color: rabbitmq-bundle-0 allocation score on messaging-2: -INFINITY
+container_color: rabbitmq-bundle-1 allocation score on controller-0: 0
+container_color: rabbitmq-bundle-1 allocation score on controller-1: 0
+container_color: rabbitmq-bundle-1 allocation score on controller-2: INFINITY
+container_color: rabbitmq-bundle-1 allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle-1 allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle-1 allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle-1 allocation score on messaging-0: -INFINITY
+container_color: rabbitmq-bundle-1 allocation score on messaging-1: -INFINITY
+container_color: rabbitmq-bundle-1 allocation score on messaging-2: -INFINITY
+container_color: rabbitmq-bundle-2 allocation score on controller-0: 0
+container_color: rabbitmq-bundle-2 allocation score on controller-1: 0
+container_color: rabbitmq-bundle-2 allocation score on controller-2: INFINITY
+container_color: rabbitmq-bundle-2 allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle-2 allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle-2 allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle-2 allocation score on messaging-0: -INFINITY
+container_color: rabbitmq-bundle-2 allocation score on messaging-1: -INFINITY
+container_color: rabbitmq-bundle-2 allocation score on messaging-2: -INFINITY
+container_color: rabbitmq-bundle-clone allocation score on controller-0: 0
+container_color: rabbitmq-bundle-clone allocation score on controller-1: 0
+container_color: rabbitmq-bundle-clone allocation score on controller-2: 0
+container_color: rabbitmq-bundle-clone allocation score on database-0: 0
+container_color: rabbitmq-bundle-clone allocation score on database-1: 0
+container_color: rabbitmq-bundle-clone allocation score on database-2: 0
+container_color: rabbitmq-bundle-clone allocation score on messaging-0: 0
+container_color: rabbitmq-bundle-clone allocation score on messaging-1: 0
+container_color: rabbitmq-bundle-clone allocation score on messaging-2: 0
+container_color: rabbitmq-bundle-clone allocation score on rabbitmq-bundle-0: -INFINITY
+container_color: rabbitmq-bundle-clone allocation score on rabbitmq-bundle-1: -INFINITY
+container_color: rabbitmq-bundle-clone allocation score on rabbitmq-bundle-2: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on controller-0: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on controller-1: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on controller-2: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on messaging-0: INFINITY
+container_color: rabbitmq-bundle-docker-0 allocation score on messaging-1: 0
+container_color: rabbitmq-bundle-docker-0 allocation score on messaging-2: 0
+container_color: rabbitmq-bundle-docker-1 allocation score on controller-0: -INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on controller-1: -INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on controller-2: -INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on messaging-0: 0
+container_color: rabbitmq-bundle-docker-1 allocation score on messaging-1: INFINITY
+container_color: rabbitmq-bundle-docker-1 allocation score on messaging-2: 0
+container_color: rabbitmq-bundle-docker-2 allocation score on controller-0: -INFINITY
+container_color: rabbitmq-bundle-docker-2 allocation score on controller-1: -INFINITY
+container_color: rabbitmq-bundle-docker-2 allocation score on controller-2: -INFINITY
+container_color: rabbitmq-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: rabbitmq-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: rabbitmq-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: rabbitmq-bundle-docker-2 allocation score on messaging-0: 0
+container_color: rabbitmq-bundle-docker-2 allocation score on messaging-1: 0
+container_color: rabbitmq-bundle-docker-2 allocation score on messaging-2: INFINITY
+container_color: rabbitmq:0 allocation score on rabbitmq-bundle-0: INFINITY
+container_color: rabbitmq:1 allocation score on rabbitmq-bundle-1: INFINITY
+container_color: rabbitmq:2 allocation score on rabbitmq-bundle-2: INFINITY
+container_color: redis-bundle allocation score on controller-0: 0
+container_color: redis-bundle allocation score on controller-1: 0
+container_color: redis-bundle allocation score on controller-2: 0
+container_color: redis-bundle allocation score on database-0: -INFINITY
+container_color: redis-bundle allocation score on database-1: -INFINITY
+container_color: redis-bundle allocation score on database-2: -INFINITY
+container_color: redis-bundle allocation score on messaging-0: -INFINITY
+container_color: redis-bundle allocation score on messaging-1: -INFINITY
+container_color: redis-bundle allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-0 allocation score on controller-0: INFINITY
+container_color: redis-bundle-0 allocation score on controller-1: 0
+container_color: redis-bundle-0 allocation score on controller-2: 0
+container_color: redis-bundle-0 allocation score on database-0: -INFINITY
+container_color: redis-bundle-0 allocation score on database-1: -INFINITY
+container_color: redis-bundle-0 allocation score on database-2: -INFINITY
+container_color: redis-bundle-0 allocation score on messaging-0: -INFINITY
+container_color: redis-bundle-0 allocation score on messaging-1: -INFINITY
+container_color: redis-bundle-0 allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-1 allocation score on controller-0: 0
+container_color: redis-bundle-1 allocation score on controller-1: 0
+container_color: redis-bundle-1 allocation score on controller-2: 0
+container_color: redis-bundle-1 allocation score on database-0: -INFINITY
+container_color: redis-bundle-1 allocation score on database-1: -INFINITY
+container_color: redis-bundle-1 allocation score on database-2: -INFINITY
+container_color: redis-bundle-1 allocation score on messaging-0: -INFINITY
+container_color: redis-bundle-1 allocation score on messaging-1: -INFINITY
+container_color: redis-bundle-1 allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-2 allocation score on controller-0: 0
+container_color: redis-bundle-2 allocation score on controller-1: 0
+container_color: redis-bundle-2 allocation score on controller-2: INFINITY
+container_color: redis-bundle-2 allocation score on database-0: -INFINITY
+container_color: redis-bundle-2 allocation score on database-1: -INFINITY
+container_color: redis-bundle-2 allocation score on database-2: -INFINITY
+container_color: redis-bundle-2 allocation score on messaging-0: -INFINITY
+container_color: redis-bundle-2 allocation score on messaging-1: -INFINITY
+container_color: redis-bundle-2 allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-docker-0 allocation score on controller-0: INFINITY
+container_color: redis-bundle-docker-0 allocation score on controller-1: 0
+container_color: redis-bundle-docker-0 allocation score on controller-2: 0
+container_color: redis-bundle-docker-0 allocation score on database-0: -INFINITY
+container_color: redis-bundle-docker-0 allocation score on database-1: -INFINITY
+container_color: redis-bundle-docker-0 allocation score on database-2: -INFINITY
+container_color: redis-bundle-docker-0 allocation score on messaging-0: -INFINITY
+container_color: redis-bundle-docker-0 allocation score on messaging-1: -INFINITY
+container_color: redis-bundle-docker-0 allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-docker-1 allocation score on controller-0: 0
+container_color: redis-bundle-docker-1 allocation score on controller-1: 0
+container_color: redis-bundle-docker-1 allocation score on controller-2: 0
+container_color: redis-bundle-docker-1 allocation score on database-0: -INFINITY
+container_color: redis-bundle-docker-1 allocation score on database-1: -INFINITY
+container_color: redis-bundle-docker-1 allocation score on database-2: -INFINITY
+container_color: redis-bundle-docker-1 allocation score on messaging-0: -INFINITY
+container_color: redis-bundle-docker-1 allocation score on messaging-1: -INFINITY
+container_color: redis-bundle-docker-1 allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-docker-2 allocation score on controller-0: 0
+container_color: redis-bundle-docker-2 allocation score on controller-1: 0
+container_color: redis-bundle-docker-2 allocation score on controller-2: INFINITY
+container_color: redis-bundle-docker-2 allocation score on database-0: -INFINITY
+container_color: redis-bundle-docker-2 allocation score on database-1: -INFINITY
+container_color: redis-bundle-docker-2 allocation score on database-2: -INFINITY
+container_color: redis-bundle-docker-2 allocation score on messaging-0: -INFINITY
+container_color: redis-bundle-docker-2 allocation score on messaging-1: -INFINITY
+container_color: redis-bundle-docker-2 allocation score on messaging-2: -INFINITY
+container_color: redis-bundle-master allocation score on controller-0: 0
+container_color: redis-bundle-master allocation score on controller-1: 0
+container_color: redis-bundle-master allocation score on controller-2: 0
+container_color: redis-bundle-master allocation score on database-0: 0
+container_color: redis-bundle-master allocation score on database-1: 0
+container_color: redis-bundle-master allocation score on database-2: 0
+container_color: redis-bundle-master allocation score on messaging-0: 0
+container_color: redis-bundle-master allocation score on messaging-1: 0
+container_color: redis-bundle-master allocation score on messaging-2: 0
+container_color: redis-bundle-master allocation score on redis-bundle-0: -INFINITY
+container_color: redis-bundle-master allocation score on redis-bundle-1: -INFINITY
+container_color: redis-bundle-master allocation score on redis-bundle-2: -INFINITY
+container_color: redis:0 allocation score on redis-bundle-0: INFINITY
+container_color: redis:1 allocation score on redis-bundle-1: 500
+container_color: redis:2 allocation score on redis-bundle-2: INFINITY
+galera:0 promotion score on galera-bundle-0: 100
+galera:1 promotion score on galera-bundle-1: 100
+galera:2 promotion score on galera-bundle-2: 100
+native_color: database-0 allocation score on controller-0: 0
+native_color: database-0 allocation score on controller-1: 0
+native_color: database-0 allocation score on controller-2: 0
+native_color: database-0 allocation score on database-0: -INFINITY
+native_color: database-0 allocation score on database-1: -INFINITY
+native_color: database-0 allocation score on database-2: -INFINITY
+native_color: database-0 allocation score on messaging-0: -INFINITY
+native_color: database-0 allocation score on messaging-1: -INFINITY
+native_color: database-0 allocation score on messaging-2: -INFINITY
+native_color: database-1 allocation score on controller-0: 0
+native_color: database-1 allocation score on controller-1: 0
+native_color: database-1 allocation score on controller-2: INFINITY
+native_color: database-1 allocation score on database-0: -INFINITY
+native_color: database-1 allocation score on database-1: -INFINITY
+native_color: database-1 allocation score on database-2: -INFINITY
+native_color: database-1 allocation score on messaging-0: -INFINITY
+native_color: database-1 allocation score on messaging-1: -INFINITY
+native_color: database-1 allocation score on messaging-2: -INFINITY
+native_color: database-2 allocation score on controller-0: 0
+native_color: database-2 allocation score on controller-1: 0
+native_color: database-2 allocation score on controller-2: 0
+native_color: database-2 allocation score on database-0: -INFINITY
+native_color: database-2 allocation score on database-1: -INFINITY
+native_color: database-2 allocation score on database-2: -INFINITY
+native_color: database-2 allocation score on messaging-0: -INFINITY
+native_color: database-2 allocation score on messaging-1: -INFINITY
+native_color: database-2 allocation score on messaging-2: -INFINITY
+native_color: galera-bundle-0 allocation score on controller-0: 0
+native_color: galera-bundle-0 allocation score on controller-1: -INFINITY
+native_color: galera-bundle-0 allocation score on controller-2: -INFINITY
+native_color: galera-bundle-0 allocation score on database-0: -INFINITY
+native_color: galera-bundle-0 allocation score on database-1: -INFINITY
+native_color: galera-bundle-0 allocation score on database-2: -INFINITY
+native_color: galera-bundle-0 allocation score on messaging-0: -INFINITY
+native_color: galera-bundle-0 allocation score on messaging-1: -INFINITY
+native_color: galera-bundle-0 allocation score on messaging-2: -INFINITY
+native_color: galera-bundle-1 allocation score on controller-0: -INFINITY
+native_color: galera-bundle-1 allocation score on controller-1: -INFINITY
+native_color: galera-bundle-1 allocation score on controller-2: INFINITY
+native_color: galera-bundle-1 allocation score on database-0: -INFINITY
+native_color: galera-bundle-1 allocation score on database-1: -INFINITY
+native_color: galera-bundle-1 allocation score on database-2: -INFINITY
+native_color: galera-bundle-1 allocation score on messaging-0: -INFINITY
+native_color: galera-bundle-1 allocation score on messaging-1: -INFINITY
+native_color: galera-bundle-1 allocation score on messaging-2: -INFINITY
+native_color: galera-bundle-2 allocation score on controller-0: -INFINITY
+native_color: galera-bundle-2 allocation score on controller-1: 0
+native_color: galera-bundle-2 allocation score on controller-2: -INFINITY
+native_color: galera-bundle-2 allocation score on database-0: -INFINITY
+native_color: galera-bundle-2 allocation score on database-1: -INFINITY
+native_color: galera-bundle-2 allocation score on database-2: -INFINITY
+native_color: galera-bundle-2 allocation score on messaging-0: -INFINITY
+native_color: galera-bundle-2 allocation score on messaging-1: -INFINITY
+native_color: galera-bundle-2 allocation score on messaging-2: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on controller-0: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on controller-1: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on controller-2: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on database-0: INFINITY
+native_color: galera-bundle-docker-0 allocation score on database-1: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on database-2: -10000
+native_color: galera-bundle-docker-0 allocation score on messaging-0: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on messaging-1: -INFINITY
+native_color: galera-bundle-docker-0 allocation score on messaging-2: -INFINITY
+native_color: galera-bundle-docker-1 allocation score on controller-0: -INFINITY
+native_color: galera-bundle-docker-1 allocation score on controller-1: -INFINITY
+native_color: galera-bundle-docker-1 allocation score on controller-2: -INFINITY
+native_color: galera-bundle-docker-1 allocation score on database-0: -10000
+native_color: galera-bundle-docker-1 allocation score on database-1: INFINITY
+native_color: galera-bundle-docker-1 allocation score on database-2: -10000
+native_color: galera-bundle-docker-1 allocation score on messaging-0: -INFINITY
+native_color: galera-bundle-docker-1 allocation score on messaging-1: -INFINITY
+native_color: galera-bundle-docker-1 allocation score on messaging-2: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on controller-0: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on controller-1: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on controller-2: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on database-0: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on database-1: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on database-2: INFINITY
+native_color: galera-bundle-docker-2 allocation score on messaging-0: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on messaging-1: -INFINITY
+native_color: galera-bundle-docker-2 allocation score on messaging-2: -INFINITY
+native_color: galera:0 allocation score on galera-bundle-0: INFINITY
+native_color: galera:1 allocation score on galera-bundle-1: INFINITY
+native_color: galera:2 allocation score on galera-bundle-2: INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on controller-0: INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on controller-1: 0
+native_color: haproxy-bundle-docker-0 allocation score on controller-2: -INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on database-0: -INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on database-1: -INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on database-2: -INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on messaging-0: -INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on messaging-1: -INFINITY
+native_color: haproxy-bundle-docker-0 allocation score on messaging-2: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on controller-0: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on controller-1: 0
+native_color: haproxy-bundle-docker-1 allocation score on controller-2: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on database-0: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on database-1: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on database-2: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on messaging-0: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on messaging-1: -INFINITY
+native_color: haproxy-bundle-docker-1 allocation score on messaging-2: -INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on controller-0: 0
+native_color: haproxy-bundle-docker-2 allocation score on controller-1: 0
+native_color: haproxy-bundle-docker-2 allocation score on controller-2: INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on database-0: -INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on database-1: -INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on database-2: -INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on messaging-0: -INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on messaging-1: -INFINITY
+native_color: haproxy-bundle-docker-2 allocation score on messaging-2: -INFINITY
+native_color: ip-10.0.0.104 allocation score on controller-0: 0
+native_color: ip-10.0.0.104 allocation score on controller-1: 0
+native_color: ip-10.0.0.104 allocation score on controller-2: 0
+native_color: ip-10.0.0.104 allocation score on database-0: -INFINITY
+native_color: ip-10.0.0.104 allocation score on database-1: -INFINITY
+native_color: ip-10.0.0.104 allocation score on database-2: -INFINITY
+native_color: ip-10.0.0.104 allocation score on messaging-0: -INFINITY
+native_color: ip-10.0.0.104 allocation score on messaging-1: -INFINITY
+native_color: ip-10.0.0.104 allocation score on messaging-2: -INFINITY
+native_color: ip-172.17.1.11 allocation score on controller-0: 0
+native_color: ip-172.17.1.11 allocation score on controller-1: 0
+native_color: ip-172.17.1.11 allocation score on controller-2: 0
+native_color: ip-172.17.1.11 allocation score on database-0: -INFINITY
+native_color: ip-172.17.1.11 allocation score on database-1: -INFINITY
+native_color: ip-172.17.1.11 allocation score on database-2: -INFINITY
+native_color: ip-172.17.1.11 allocation score on messaging-0: -INFINITY
+native_color: ip-172.17.1.11 allocation score on messaging-1: -INFINITY
+native_color: ip-172.17.1.11 allocation score on messaging-2: -INFINITY
+native_color: ip-172.17.1.19 allocation score on controller-0: 0
+native_color: ip-172.17.1.19 allocation score on controller-1: 0
+native_color: ip-172.17.1.19 allocation score on controller-2: INFINITY
+native_color: ip-172.17.1.19 allocation score on database-0: -INFINITY
+native_color: ip-172.17.1.19 allocation score on database-1: -INFINITY
+native_color: ip-172.17.1.19 allocation score on database-2: -INFINITY
+native_color: ip-172.17.1.19 allocation score on messaging-0: -INFINITY
+native_color: ip-172.17.1.19 allocation score on messaging-1: -INFINITY
+native_color: ip-172.17.1.19 allocation score on messaging-2: -INFINITY
+native_color: ip-172.17.3.13 allocation score on controller-0: 0
+native_color: ip-172.17.3.13 allocation score on controller-1: 0
+native_color: ip-172.17.3.13 allocation score on controller-2: 0
+native_color: ip-172.17.3.13 allocation score on database-0: -INFINITY
+native_color: ip-172.17.3.13 allocation score on database-1: -INFINITY
+native_color: ip-172.17.3.13 allocation score on database-2: -INFINITY
+native_color: ip-172.17.3.13 allocation score on messaging-0: -INFINITY
+native_color: ip-172.17.3.13 allocation score on messaging-1: -INFINITY
+native_color: ip-172.17.3.13 allocation score on messaging-2: -INFINITY
+native_color: ip-172.17.4.19 allocation score on controller-0: 0
+native_color: ip-172.17.4.19 allocation score on controller-1: 0
+native_color: ip-172.17.4.19 allocation score on controller-2: INFINITY
+native_color: ip-172.17.4.19 allocation score on database-0: -INFINITY
+native_color: ip-172.17.4.19 allocation score on database-1: -INFINITY
+native_color: ip-172.17.4.19 allocation score on database-2: -INFINITY
+native_color: ip-172.17.4.19 allocation score on messaging-0: -INFINITY
+native_color: ip-172.17.4.19 allocation score on messaging-1: -INFINITY
+native_color: ip-172.17.4.19 allocation score on messaging-2: -INFINITY
+native_color: ip-192.168.24.11 allocation score on controller-0: 0
+native_color: ip-192.168.24.11 allocation score on controller-1: 0
+native_color: ip-192.168.24.11 allocation score on controller-2: 0
+native_color: ip-192.168.24.11 allocation score on database-0: -INFINITY
+native_color: ip-192.168.24.11 allocation score on database-1: -INFINITY
+native_color: ip-192.168.24.11 allocation score on database-2: -INFINITY
+native_color: ip-192.168.24.11 allocation score on messaging-0: -INFINITY
+native_color: ip-192.168.24.11 allocation score on messaging-1: -INFINITY
+native_color: ip-192.168.24.11 allocation score on messaging-2: -INFINITY
+native_color: messaging-0 allocation score on controller-0: 0
+native_color: messaging-0 allocation score on controller-1: 0
+native_color: messaging-0 allocation score on controller-2: INFINITY
+native_color: messaging-0 allocation score on database-0: -INFINITY
+native_color: messaging-0 allocation score on database-1: -INFINITY
+native_color: messaging-0 allocation score on database-2: -INFINITY
+native_color: messaging-0 allocation score on messaging-0: -INFINITY
+native_color: messaging-0 allocation score on messaging-1: -INFINITY
+native_color: messaging-0 allocation score on messaging-2: -INFINITY
+native_color: messaging-1 allocation score on controller-0: 0
+native_color: messaging-1 allocation score on controller-1: 0
+native_color: messaging-1 allocation score on controller-2: INFINITY
+native_color: messaging-1 allocation score on database-0: -INFINITY
+native_color: messaging-1 allocation score on database-1: -INFINITY
+native_color: messaging-1 allocation score on database-2: -INFINITY
+native_color: messaging-1 allocation score on messaging-0: -INFINITY
+native_color: messaging-1 allocation score on messaging-1: -INFINITY
+native_color: messaging-1 allocation score on messaging-2: -INFINITY
+native_color: messaging-2 allocation score on controller-0: 0
+native_color: messaging-2 allocation score on controller-1: 0
+native_color: messaging-2 allocation score on controller-2: INFINITY
+native_color: messaging-2 allocation score on database-0: -INFINITY
+native_color: messaging-2 allocation score on database-1: -INFINITY
+native_color: messaging-2 allocation score on database-2: -INFINITY
+native_color: messaging-2 allocation score on messaging-0: -INFINITY
+native_color: messaging-2 allocation score on messaging-1: -INFINITY
+native_color: messaging-2 allocation score on messaging-2: -INFINITY
+native_color: openstack-cinder-volume allocation score on controller-0: 0
+native_color: openstack-cinder-volume allocation score on controller-1: 0
+native_color: openstack-cinder-volume allocation score on controller-2: 0
+native_color: openstack-cinder-volume allocation score on database-0: -INFINITY
+native_color: openstack-cinder-volume allocation score on database-1: -INFINITY
+native_color: openstack-cinder-volume allocation score on database-2: -INFINITY
+native_color: openstack-cinder-volume allocation score on messaging-0: -INFINITY
+native_color: openstack-cinder-volume allocation score on messaging-1: -INFINITY
+native_color: openstack-cinder-volume allocation score on messaging-2: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on controller-0: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on controller-1: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on controller-2: INFINITY
+native_color: rabbitmq-bundle-0 allocation score on database-0: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on database-1: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on database-2: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on messaging-0: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on messaging-1: -INFINITY
+native_color: rabbitmq-bundle-0 allocation score on messaging-2: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on controller-0: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on controller-1: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on controller-2: INFINITY
+native_color: rabbitmq-bundle-1 allocation score on database-0: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on database-1: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on database-2: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on messaging-0: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on messaging-1: -INFINITY
+native_color: rabbitmq-bundle-1 allocation score on messaging-2: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on controller-0: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on controller-1: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on controller-2: INFINITY
+native_color: rabbitmq-bundle-2 allocation score on database-0: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on database-1: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on database-2: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on messaging-0: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on messaging-1: -INFINITY
+native_color: rabbitmq-bundle-2 allocation score on messaging-2: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on controller-0: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on controller-1: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on controller-2: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on database-0: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on database-1: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on database-2: -INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on messaging-0: INFINITY
+native_color: rabbitmq-bundle-docker-0 allocation score on messaging-1: -10000
+native_color: rabbitmq-bundle-docker-0 allocation score on messaging-2: -10000
+native_color: rabbitmq-bundle-docker-1 allocation score on controller-0: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on controller-1: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on controller-2: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on database-0: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on database-1: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on database-2: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on messaging-0: -INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on messaging-1: INFINITY
+native_color: rabbitmq-bundle-docker-1 allocation score on messaging-2: -10000
+native_color: rabbitmq-bundle-docker-2 allocation score on controller-0: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on controller-1: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on controller-2: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on database-0: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on database-1: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on database-2: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on messaging-0: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on messaging-1: -INFINITY
+native_color: rabbitmq-bundle-docker-2 allocation score on messaging-2: INFINITY
+native_color: rabbitmq:0 allocation score on rabbitmq-bundle-0: INFINITY
+native_color: rabbitmq:1 allocation score on rabbitmq-bundle-1: INFINITY
+native_color: rabbitmq:2 allocation score on rabbitmq-bundle-2: INFINITY
+native_color: redis-bundle-0 allocation score on controller-0: INFINITY
+native_color: redis-bundle-0 allocation score on controller-1: 0
+native_color: redis-bundle-0 allocation score on controller-2: 0
+native_color: redis-bundle-0 allocation score on database-0: -INFINITY
+native_color: redis-bundle-0 allocation score on database-1: -INFINITY
+native_color: redis-bundle-0 allocation score on database-2: -INFINITY
+native_color: redis-bundle-0 allocation score on messaging-0: -INFINITY
+native_color: redis-bundle-0 allocation score on messaging-1: -INFINITY
+native_color: redis-bundle-0 allocation score on messaging-2: -INFINITY
+native_color: redis-bundle-1 allocation score on controller-0: 0
+native_color: redis-bundle-1 allocation score on controller-1: 10000
+native_color: redis-bundle-1 allocation score on controller-2: 0
+native_color: redis-bundle-1 allocation score on database-0: -INFINITY
+native_color: redis-bundle-1 allocation score on database-1: -INFINITY
+native_color: redis-bundle-1 allocation score on database-2: -INFINITY
+native_color: redis-bundle-1 allocation score on messaging-0: -INFINITY
+native_color: redis-bundle-1 allocation score on messaging-1: -INFINITY
+native_color: redis-bundle-1 allocation score on messaging-2: -INFINITY
+native_color: redis-bundle-2 allocation score on controller-0: 0
+native_color: redis-bundle-2 allocation score on controller-1: 0
+native_color: redis-bundle-2 allocation score on controller-2: INFINITY
+native_color: redis-bundle-2 allocation score on database-0: -INFINITY
+native_color: redis-bundle-2 allocation score on database-1: -INFINITY
+native_color: redis-bundle-2 allocation score on database-2: -INFINITY
+native_color: redis-bundle-2 allocation score on messaging-0: -INFINITY
+native_color: redis-bundle-2 allocation score on messaging-1: -INFINITY
+native_color: redis-bundle-2 allocation score on messaging-2: -INFINITY
+native_color: redis-bundle-docker-0 allocation score on controller-0: INFINITY
+native_color: redis-bundle-docker-0 allocation score on controller-1: 0
+native_color: redis-bundle-docker-0 allocation score on controller-2: 0
+native_color: redis-bundle-docker-0 allocation score on database-0: -INFINITY
+native_color: redis-bundle-docker-0 allocation score on database-1: -INFINITY
+native_color: redis-bundle-docker-0 allocation score on database-2: -INFINITY
+native_color: redis-bundle-docker-0 allocation score on messaging-0: -INFINITY
+native_color: redis-bundle-docker-0 allocation score on messaging-1: -INFINITY
+native_color: redis-bundle-docker-0 allocation score on messaging-2: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on controller-0: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on controller-1: 0
+native_color: redis-bundle-docker-1 allocation score on controller-2: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on database-0: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on database-1: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on database-2: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on messaging-0: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on messaging-1: -INFINITY
+native_color: redis-bundle-docker-1 allocation score on messaging-2: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on controller-0: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on controller-1: 0
+native_color: redis-bundle-docker-2 allocation score on controller-2: INFINITY
+native_color: redis-bundle-docker-2 allocation score on database-0: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on database-1: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on database-2: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on messaging-0: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on messaging-1: -INFINITY
+native_color: redis-bundle-docker-2 allocation score on messaging-2: -INFINITY
+native_color: redis:0 allocation score on redis-bundle-0: INFINITY
+native_color: redis:1 allocation score on redis-bundle-1: INFINITY
+native_color: redis:2 allocation score on redis-bundle-2: INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on controller-2: INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400244e09 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on controller-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on controller-2: 0
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400498d34 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on controller-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400542c06 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on controller-2: 0
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-5254005ea387 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on controller-2: INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400a25787 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on controller-0: INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on controller-2: 0
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400a7f9e0 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on controller-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on controller-2: INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400aac413 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on controller-2: 0
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400c709f7 allocation score on messaging-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on controller-0: 0
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on controller-1: 0
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on controller-2: INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on database-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on database-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on database-2: -INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on messaging-0: -INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on messaging-1: -INFINITY
+native_color: stonith-fence_ipmilan-525400cdec10 allocation score on messaging-2: -INFINITY
+redis:0 promotion score on redis-bundle-0: 1
+redis:1 promotion score on redis-bundle-1: -1
+redis:2 promotion score on redis-bundle-2: 1
diff --git a/pengine/test10/bundle-order-stop-on-remote.summary b/pengine/test10/bundle-order-stop-on-remote.summary
new file mode 100644
index 0000000..8a04599
--- /dev/null
+++ b/pengine/test10/bundle-order-stop-on-remote.summary
@@ -0,0 +1,224 @@
+
+Current cluster status:
+RemoteNode database-0: UNCLEAN (offline)
+RemoteNode database-2: UNCLEAN (offline)
+Online: [ controller-0 controller-1 controller-2 ]
+RemoteOnline: [ database-1 messaging-0 messaging-1 messaging-2 ]
+Containers: [ galera-bundle-1:galera-bundle-docker-1 rabbitmq-bundle-0:rabbitmq-bundle-docker-0 rabbitmq-bundle-1:rabbitmq-bundle-docker-1 rabbitmq-bundle-2:rabbitmq-bundle-docker-2 redis-bundle-0:redis-bundle-docker-0 redis-bundle-2:redis-bundle-docker-2 ]
+
+ database-0	(ocf::pacemaker:remote):	Stopped
+ database-1	(ocf::pacemaker:remote):	Started controller-2
+ database-2	(ocf::pacemaker:remote):	Stopped
+ messaging-0	(ocf::pacemaker:remote):	Started controller-2
+ messaging-1	(ocf::pacemaker:remote):	Started controller-2
+ messaging-2	(ocf::pacemaker:remote):	Started controller-2
+ Docker container set: rabbitmq-bundle [192.168.24.1:8787/rhosp12/openstack-rabbitmq-docker:pcmklatest]
+   rabbitmq-bundle-0	(ocf::heartbeat:rabbitmq-cluster):	Started messaging-0
+   rabbitmq-bundle-1	(ocf::heartbeat:rabbitmq-cluster):	Started messaging-1
+   rabbitmq-bundle-2	(ocf::heartbeat:rabbitmq-cluster):	Started messaging-2
+ Docker container set: galera-bundle [192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest]
+   galera-bundle-0	(ocf::heartbeat:galera):	FAILED Master database-0 (UNCLEAN)
+   galera-bundle-1	(ocf::heartbeat:galera):	Master database-1
+   galera-bundle-2	(ocf::heartbeat:galera):	FAILED Master database-2 (UNCLEAN)
+ Docker container set: redis-bundle [192.168.24.1:8787/rhosp12/openstack-redis-docker:pcmklatest]
+   redis-bundle-0	(ocf::heartbeat:redis):	Slave controller-0
+   redis-bundle-1	(ocf::heartbeat:redis):	Stopped
+   redis-bundle-2	(ocf::heartbeat:redis):	Slave controller-2
+ ip-192.168.24.11	(ocf::heartbeat:IPaddr2):	Stopped
+ ip-10.0.0.104	(ocf::heartbeat:IPaddr2):	Stopped
+ ip-172.17.1.19	(ocf::heartbeat:IPaddr2):	Started controller-2
+ ip-172.17.1.11	(ocf::heartbeat:IPaddr2):	Stopped
+ ip-172.17.3.13	(ocf::heartbeat:IPaddr2):	Stopped
+ ip-172.17.4.19	(ocf::heartbeat:IPaddr2):	Started controller-2
+ Docker container set: haproxy-bundle [192.168.24.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest]
+   haproxy-bundle-docker-0	(ocf::heartbeat:docker):	Started controller-0
+   haproxy-bundle-docker-1	(ocf::heartbeat:docker):	Stopped
+   haproxy-bundle-docker-2	(ocf::heartbeat:docker):	Started controller-2
+ openstack-cinder-volume	(systemd:openstack-cinder-volume):	Stopped
+ stonith-fence_ipmilan-525400244e09	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-525400cdec10	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-525400c709f7	(stonith:fence_ipmilan):	Stopped
+ stonith-fence_ipmilan-525400a7f9e0	(stonith:fence_ipmilan):	Started controller-0
+ stonith-fence_ipmilan-525400a25787	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-5254005ea387	(stonith:fence_ipmilan):	Stopped
+ stonith-fence_ipmilan-525400542c06	(stonith:fence_ipmilan):	Stopped
+ stonith-fence_ipmilan-525400aac413	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-525400498d34	(stonith:fence_ipmilan):	Stopped
+
+Transition Summary:
+ * Fence (reboot) galera-bundle-2 (resource: galera-bundle-docker-2) 'guest is unclean'
+ * Fence (reboot) galera-bundle-0 (resource: galera-bundle-docker-0) 'guest is unclean'
+ * Start      database-0                             (                   controller-0 )  
+ * Start      database-2                             (                   controller-1 )  
+ * Recover    galera-bundle-docker-0                 (                     database-0 )  
+ * Start      galera-bundle-0                        (                   controller-0 )  
+ * Recover    galera:0                               (         Master galera-bundle-0 )  
+ * Recover    galera-bundle-docker-2                 (                     database-2 )  
+ * Start      galera-bundle-2                        (                   controller-1 )  
+ * Recover    galera:2                               (         Master galera-bundle-2 )  
+ * Promote    redis:0                                ( Slave -> Master redis-bundle-0 )  
+ * Start      redis-bundle-docker-1                  (                   controller-1 )  
+ * Start      redis-bundle-1                         (                   controller-1 )  
+ * Start      redis:1                                (                 redis-bundle-1 )  
+ * Start      ip-192.168.24.11                       (                   controller-0 )  
+ * Start      ip-10.0.0.104                          (                   controller-1 )  
+ * Start      ip-172.17.1.11                         (                   controller-0 )  
+ * Start      ip-172.17.3.13                         (                   controller-1 )  
+ * Start      haproxy-bundle-docker-1                (                   controller-1 )  
+ * Start      openstack-cinder-volume                (                   controller-0 )  
+ * Start      stonith-fence_ipmilan-525400c709f7     (                   controller-1 )  
+ * Start      stonith-fence_ipmilan-5254005ea387     (                   controller-1 )  
+ * Start      stonith-fence_ipmilan-525400542c06     (                   controller-0 )  
+ * Start      stonith-fence_ipmilan-525400498d34     (                   controller-1 )  
+
+Executing cluster transition:
+ * Resource action: database-0      start on controller-0
+ * Resource action: database-2      start on controller-1
+ * Pseudo action:   redis-bundle-master_pre_notify_start_0
+ * Resource action: stonith-fence_ipmilan-525400c709f7 start on controller-1
+ * Resource action: stonith-fence_ipmilan-5254005ea387 start on controller-1
+ * Resource action: stonith-fence_ipmilan-525400542c06 start on controller-0
+ * Resource action: stonith-fence_ipmilan-525400498d34 start on controller-1
+ * Pseudo action:   redis-bundle_start_0
+ * Pseudo action:   galera-bundle_demote_0
+ * Resource action: database-0      monitor=20000 on controller-0
+ * Resource action: database-2      monitor=20000 on controller-1
+ * Pseudo action:   galera-bundle-master_demote_0
+ * Resource action: redis           notify on redis-bundle-0
+ * Resource action: redis           notify on redis-bundle-2
+ * Pseudo action:   redis-bundle-master_confirmed-pre_notify_start_0
+ * Pseudo action:   redis-bundle-master_start_0
+ * Resource action: stonith-fence_ipmilan-525400c709f7 monitor=60000 on controller-1
+ * Resource action: stonith-fence_ipmilan-5254005ea387 monitor=60000 on controller-1
+ * Resource action: stonith-fence_ipmilan-525400542c06 monitor=60000 on controller-0
+ * Resource action: stonith-fence_ipmilan-525400498d34 monitor=60000 on controller-1
+ * Pseudo action:   galera_demote_0
+ * Pseudo action:   galera_demote_0
+ * Pseudo action:   galera-bundle-master_demoted_0
+ * Pseudo action:   galera-bundle_demoted_0
+ * Pseudo action:   galera-bundle_stop_0
+ * Resource action: galera-bundle-docker-0 stop on database-0
+ * Resource action: galera-bundle-docker-2 stop on database-2
+ * Pseudo action:   stonith-galera-bundle-2-reboot on galera-bundle-2
+ * Pseudo action:   stonith-galera-bundle-0-reboot on galera-bundle-0
+ * Pseudo action:   stonith_complete
+ * Pseudo action:   galera-bundle-master_stop_0
+ * Resource action: redis-bundle-docker-1 start on controller-1
+ * Resource action: redis-bundle-1  monitor on controller-1
+ * Resource action: ip-192.168.24.11 start on controller-0
+ * Resource action: ip-10.0.0.104   start on controller-1
+ * Resource action: ip-172.17.1.11  start on controller-0
+ * Resource action: ip-172.17.3.13  start on controller-1
+ * Resource action: openstack-cinder-volume start on controller-0
+ * Pseudo action:   haproxy-bundle_start_0
+ * Pseudo action:   galera_stop_0
+ * Resource action: redis-bundle-docker-1 monitor=60000 on controller-1
+ * Resource action: redis-bundle-1  start on controller-1
+ * Resource action: ip-192.168.24.11 monitor=10000 on controller-0
+ * Resource action: ip-10.0.0.104   monitor=10000 on controller-1
+ * Resource action: ip-172.17.1.11  monitor=10000 on controller-0
+ * Resource action: ip-172.17.3.13  monitor=10000 on controller-1
+ * Resource action: haproxy-bundle-docker-1 start on controller-1
+ * Resource action: openstack-cinder-volume monitor=60000 on controller-0
+ * Pseudo action:   haproxy-bundle_running_0
+ * Pseudo action:   galera_stop_0
+ * Pseudo action:   galera-bundle-master_stopped_0
+ * Resource action: redis           start on redis-bundle-1
+ * Pseudo action:   redis-bundle-master_running_0
+ * Resource action: redis-bundle-1  monitor=60000 on controller-1
+ * Resource action: haproxy-bundle-docker-1 monitor=60000 on controller-1
+ * Pseudo action:   galera-bundle_stopped_0
+ * Pseudo action:   galera-bundle_start_0
+ * Pseudo action:   all_stopped
+ * Pseudo action:   galera-bundle-master_start_0
+ * Resource action: galera-bundle-docker-0 start on database-0
+ * Resource action: galera-bundle-0 monitor on controller-1
+ * Resource action: galera-bundle-docker-2 start on database-2
+ * Resource action: galera-bundle-2 monitor on controller-1
+ * Pseudo action:   redis-bundle-master_post_notify_running_0
+ * Resource action: galera-bundle-docker-0 monitor=60000 on database-0
+ * Resource action: galera-bundle-0 start on controller-0
+ * Resource action: galera-bundle-docker-2 monitor=60000 on database-2
+ * Resource action: galera-bundle-2 start on controller-1
+ * Resource action: redis           notify on redis-bundle-0
+ * Resource action: redis           notify on redis-bundle-1
+ * Resource action: redis           notify on redis-bundle-2
+ * Pseudo action:   redis-bundle-master_confirmed-post_notify_running_0
+ * Pseudo action:   redis-bundle_running_0
+ * Resource action: galera          start on galera-bundle-0
+ * Resource action: galera          start on galera-bundle-2
+ * Pseudo action:   galera-bundle-master_running_0
+ * Resource action: galera-bundle-0 monitor=60000 on controller-0
+ * Resource action: galera-bundle-2 monitor=60000 on controller-1
+ * Pseudo action:   redis-bundle-master_pre_notify_promote_0
+ * Pseudo action:   redis-bundle_promote_0
+ * Pseudo action:   galera-bundle_running_0
+ * Resource action: redis           notify on redis-bundle-0
+ * Resource action: redis           notify on redis-bundle-1
+ * Resource action: redis           notify on redis-bundle-2
+ * Pseudo action:   redis-bundle-master_confirmed-pre_notify_promote_0
+ * Pseudo action:   redis-bundle-master_promote_0
+ * Pseudo action:   galera-bundle_promote_0
+ * Pseudo action:   galera-bundle-master_promote_0
+ * Resource action: redis           promote on redis-bundle-0
+ * Pseudo action:   redis-bundle-master_promoted_0
+ * Resource action: galera          promote on galera-bundle-0
+ * Resource action: galera          promote on galera-bundle-2
+ * Pseudo action:   galera-bundle-master_promoted_0
+ * Pseudo action:   redis-bundle-master_post_notify_promoted_0
+ * Pseudo action:   galera-bundle_promoted_0
+ * Resource action: galera          monitor=10000 on galera-bundle-0
+ * Resource action: galera          monitor=10000 on galera-bundle-2
+ * Resource action: redis           notify on redis-bundle-0
+ * Resource action: redis           notify on redis-bundle-1
+ * Resource action: redis           notify on redis-bundle-2
+ * Pseudo action:   redis-bundle-master_confirmed-post_notify_promoted_0
+ * Pseudo action:   redis-bundle_promoted_0
+ * Resource action: redis           monitor=20000 on redis-bundle-0
+ * Resource action: redis           monitor=60000 on redis-bundle-1
+ * Resource action: redis           monitor=45000 on redis-bundle-1
+
+Revised cluster status:
+Online: [ controller-0 controller-1 controller-2 ]
+RemoteOnline: [ database-0 database-1 database-2 messaging-0 messaging-1 messaging-2 ]
+Containers: [ galera-bundle-0:galera-bundle-docker-0 galera-bundle-1:galera-bundle-docker-1 galera-bundle-2:galera-bundle-docker-2 rabbitmq-bundle-0:rabbitmq-bundle-docker-0 rabbitmq-bundle-1:rabbitmq-bundle-docker-1 rabbitmq-bundle-2:rabbitmq-bundle-docker-2 redis-bundle-0:redis-bundle-docker-0 redis-bundle-1:redis-bundle-docker-1 redis-bundle-2:redis-bundle-docker-2 ]
+
+ database-0	(ocf::pacemaker:remote):	Started controller-0
+ database-1	(ocf::pacemaker:remote):	Started controller-2
+ database-2	(ocf::pacemaker:remote):	Started controller-1
+ messaging-0	(ocf::pacemaker:remote):	Started controller-2
+ messaging-1	(ocf::pacemaker:remote):	Started controller-2
+ messaging-2	(ocf::pacemaker:remote):	Started controller-2
+ Docker container set: rabbitmq-bundle [192.168.24.1:8787/rhosp12/openstack-rabbitmq-docker:pcmklatest]
+   rabbitmq-bundle-0	(ocf::heartbeat:rabbitmq-cluster):	Started messaging-0
+   rabbitmq-bundle-1	(ocf::heartbeat:rabbitmq-cluster):	Started messaging-1
+   rabbitmq-bundle-2	(ocf::heartbeat:rabbitmq-cluster):	Started messaging-2
+ Docker container set: galera-bundle [192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest]
+   galera-bundle-0	(ocf::heartbeat:galera):	Master database-0
+   galera-bundle-1	(ocf::heartbeat:galera):	Master database-1
+   galera-bundle-2	(ocf::heartbeat:galera):	Master database-2
+ Docker container set: redis-bundle [192.168.24.1:8787/rhosp12/openstack-redis-docker:pcmklatest]
+   redis-bundle-0	(ocf::heartbeat:redis):	Master controller-0
+   redis-bundle-1	(ocf::heartbeat:redis):	Slave controller-1
+   redis-bundle-2	(ocf::heartbeat:redis):	Slave controller-2
+ ip-192.168.24.11	(ocf::heartbeat:IPaddr2):	Started controller-0
+ ip-10.0.0.104	(ocf::heartbeat:IPaddr2):	Started controller-1
+ ip-172.17.1.19	(ocf::heartbeat:IPaddr2):	Started controller-2
+ ip-172.17.1.11	(ocf::heartbeat:IPaddr2):	Started controller-0
+ ip-172.17.3.13	(ocf::heartbeat:IPaddr2):	Started controller-1
+ ip-172.17.4.19	(ocf::heartbeat:IPaddr2):	Started controller-2
+ Docker container set: haproxy-bundle [192.168.24.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest]
+   haproxy-bundle-docker-0	(ocf::heartbeat:docker):	Started controller-0
+   haproxy-bundle-docker-1	(ocf::heartbeat:docker):	Started controller-1
+   haproxy-bundle-docker-2	(ocf::heartbeat:docker):	Started controller-2
+ openstack-cinder-volume	(systemd:openstack-cinder-volume):	Started controller-0
+ stonith-fence_ipmilan-525400244e09	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-525400cdec10	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-525400c709f7	(stonith:fence_ipmilan):	Started controller-1
+ stonith-fence_ipmilan-525400a7f9e0	(stonith:fence_ipmilan):	Started controller-0
+ stonith-fence_ipmilan-525400a25787	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-5254005ea387	(stonith:fence_ipmilan):	Started controller-1
+ stonith-fence_ipmilan-525400542c06	(stonith:fence_ipmilan):	Started controller-0
+ stonith-fence_ipmilan-525400aac413	(stonith:fence_ipmilan):	Started controller-2
+ stonith-fence_ipmilan-525400498d34	(stonith:fence_ipmilan):	Started controller-1
+
diff --git a/pengine/test10/bundle-order-stop-on-remote.xml b/pengine/test10/bundle-order-stop-on-remote.xml
new file mode 100644
index 0000000..d3b87c8
--- /dev/null
+++ b/pengine/test10/bundle-order-stop-on-remote.xml
@@ -0,0 +1,1165 @@
+<cib crm_feature_set="3.0.12" validate-with="pacemaker-2.8" epoch="121" num_updates="82" admin_epoch="0" cib-last-written="Sun Dec  3 22:42:32 2017" update-origin="controller-0" update-client="crmd" update-user="hacluster" have-quorum="1" dc-uuid="3">
+  <configuration>
+    <crm_config>
+      <cluster_property_set id="cib-bootstrap-options">
+        <nvpair id="cib-bootstrap-options-have-watchdog" name="have-watchdog" value="false"/>
+        <nvpair id="cib-bootstrap-options-dc-version" name="dc-version" value="1.1.16-12.el7_4.5-94ff4df"/>
+        <nvpair id="cib-bootstrap-options-cluster-infrastructure" name="cluster-infrastructure" value="corosync"/>
+        <nvpair id="cib-bootstrap-options-cluster-name" name="cluster-name" value="tripleo_cluster"/>
+        <nvpair id="cib-bootstrap-options-stonith-enabled" name="stonith-enabled" value="true"/>
+        <nvpair id="cib-bootstrap-options-cluster-recheck-interval" name="cluster-recheck-interval" value="60s"/>
+        <nvpair id="cib-bootstrap-options-last-lrm-refresh" name="last-lrm-refresh" value="1512340952"/>
+      </cluster_property_set>
+      <cluster_property_set id="redis_replication">
+        <nvpair id="redis_replication-redis_REPL_INFO" name="redis_REPL_INFO" value="controller-1"/>
+      </cluster_property_set>
+    </crm_config>
+    <nodes>
+      <node id="1" uname="controller-0">
+        <instance_attributes id="nodes-1">
+          <nvpair id="nodes-1-cinder-volume-role" name="cinder-volume-role" value="true"/>
+          <nvpair id="nodes-1-redis-role" name="redis-role" value="true"/>
+          <nvpair id="nodes-1-haproxy-role" name="haproxy-role" value="true"/>
+        </instance_attributes>
+      </node>
+      <node id="2" uname="controller-1">
+        <instance_attributes id="nodes-2">
+          <nvpair id="nodes-2-cinder-volume-role" name="cinder-volume-role" value="true"/>
+          <nvpair id="nodes-2-redis-role" name="redis-role" value="true"/>
+          <nvpair id="nodes-2-haproxy-role" name="haproxy-role" value="true"/>
+        </instance_attributes>
+      </node>
+      <node id="3" uname="controller-2">
+        <instance_attributes id="nodes-3">
+          <nvpair id="nodes-3-cinder-volume-role" name="cinder-volume-role" value="true"/>
+          <nvpair id="nodes-3-redis-role" name="redis-role" value="true"/>
+          <nvpair id="nodes-3-haproxy-role" name="haproxy-role" value="true"/>
+        </instance_attributes>
+      </node>
+      <node id="messaging-0" type="remote" uname="messaging-0">
+        <instance_attributes id="nodes-messaging-0">
+          <nvpair id="nodes-messaging-0-rabbitmq-role" name="rabbitmq-role" value="true"/>
+          <nvpair id="nodes-messaging-0-rmq-node-attr-last-known-rabbitmq" name="rmq-node-attr-last-known-rabbitmq" value="rabbit@messaging-0"/>
+        </instance_attributes>
+      </node>
+      <node id="database-0" type="remote" uname="database-0">
+        <instance_attributes id="nodes-database-0">
+          <nvpair id="nodes-database-0-galera-role" name="galera-role" value="true"/>
+        </instance_attributes>
+      </node>
+      <node id="messaging-1" type="remote" uname="messaging-1">
+        <instance_attributes id="nodes-messaging-1">
+          <nvpair id="nodes-messaging-1-rabbitmq-role" name="rabbitmq-role" value="true"/>
+          <nvpair id="nodes-messaging-1-rmq-node-attr-last-known-rabbitmq" name="rmq-node-attr-last-known-rabbitmq" value="rabbit@messaging-1"/>
+        </instance_attributes>
+      </node>
+      <node id="messaging-2" type="remote" uname="messaging-2">
+        <instance_attributes id="nodes-messaging-2">
+          <nvpair id="nodes-messaging-2-rabbitmq-role" name="rabbitmq-role" value="true"/>
+          <nvpair id="nodes-messaging-2-rmq-node-attr-last-known-rabbitmq" name="rmq-node-attr-last-known-rabbitmq" value="rabbit@messaging-2"/>
+        </instance_attributes>
+      </node>
+      <node id="database-1" type="remote" uname="database-1">
+        <instance_attributes id="nodes-database-1">
+          <nvpair id="nodes-database-1-galera-role" name="galera-role" value="true"/>
+        </instance_attributes>
+      </node>
+      <node id="database-2" type="remote" uname="database-2">
+        <instance_attributes id="nodes-database-2">
+          <nvpair id="nodes-database-2-galera-role" name="galera-role" value="true"/>
+        </instance_attributes>
+      </node>
+    </nodes>
+    <resources>
+      <primitive class="ocf" id="database-0" provider="pacemaker" type="remote">
+        <instance_attributes id="database-0-instance_attributes">
+          <nvpair id="database-0-instance_attributes-reconnect_interval" name="reconnect_interval" value="60"/>
+        </instance_attributes>
+        <operations>
+          <op id="database-0-monitor-interval-20" interval="20" name="monitor"/>
+          <op id="database-0-start-interval-0s" interval="0s" name="start" timeout="60"/>
+          <op id="database-0-stop-interval-0s" interval="0s" name="stop" timeout="60"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="database-1" provider="pacemaker" type="remote">
+        <instance_attributes id="database-1-instance_attributes">
+          <nvpair id="database-1-instance_attributes-reconnect_interval" name="reconnect_interval" value="60"/>
+        </instance_attributes>
+        <operations>
+          <op id="database-1-monitor-interval-20" interval="20" name="monitor"/>
+          <op id="database-1-start-interval-0s" interval="0s" name="start" timeout="60"/>
+          <op id="database-1-stop-interval-0s" interval="0s" name="stop" timeout="60"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="database-2" provider="pacemaker" type="remote">
+        <instance_attributes id="database-2-instance_attributes">
+          <nvpair id="database-2-instance_attributes-reconnect_interval" name="reconnect_interval" value="60"/>
+        </instance_attributes>
+        <operations>
+          <op id="database-2-monitor-interval-20" interval="20" name="monitor"/>
+          <op id="database-2-start-interval-0s" interval="0s" name="start" timeout="60"/>
+          <op id="database-2-stop-interval-0s" interval="0s" name="stop" timeout="60"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="messaging-0" provider="pacemaker" type="remote">
+        <instance_attributes id="messaging-0-instance_attributes">
+          <nvpair id="messaging-0-instance_attributes-reconnect_interval" name="reconnect_interval" value="60"/>
+        </instance_attributes>
+        <operations>
+          <op id="messaging-0-monitor-interval-20" interval="20" name="monitor"/>
+          <op id="messaging-0-start-interval-0s" interval="0s" name="start" timeout="60"/>
+          <op id="messaging-0-stop-interval-0s" interval="0s" name="stop" timeout="60"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="messaging-1" provider="pacemaker" type="remote">
+        <instance_attributes id="messaging-1-instance_attributes">
+          <nvpair id="messaging-1-instance_attributes-reconnect_interval" name="reconnect_interval" value="60"/>
+        </instance_attributes>
+        <operations>
+          <op id="messaging-1-monitor-interval-20" interval="20" name="monitor"/>
+          <op id="messaging-1-start-interval-0s" interval="0s" name="start" timeout="60"/>
+          <op id="messaging-1-stop-interval-0s" interval="0s" name="stop" timeout="60"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="messaging-2" provider="pacemaker" type="remote">
+        <instance_attributes id="messaging-2-instance_attributes">
+          <nvpair id="messaging-2-instance_attributes-reconnect_interval" name="reconnect_interval" value="60"/>
+        </instance_attributes>
+        <operations>
+          <op id="messaging-2-monitor-interval-20" interval="20" name="monitor"/>
+          <op id="messaging-2-start-interval-0s" interval="0s" name="start" timeout="60"/>
+          <op id="messaging-2-stop-interval-0s" interval="0s" name="stop" timeout="60"/>
+        </operations>
+      </primitive>
+      <bundle id="rabbitmq-bundle">
+        <docker image="192.168.24.1:8787/rhosp12/openstack-rabbitmq-docker:pcmklatest" network="host" options="--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS" replicas="3" run-command="/bin/bash /usr/local/bin/kolla_start"/>
+        <network control-port="3122"/>
+        <storage>
+          <storage-mapping id="rabbitmq-cfg-files" options="ro" source-dir="/var/lib/kolla/config_files/rabbitmq.json" target-dir="/var/lib/kolla/config_files/config.json"/>
+          <storage-mapping id="rabbitmq-cfg-data" options="ro" source-dir="/var/lib/config-data/puppet-generated/rabbitmq/" target-dir="/var/lib/kolla/config_files/src"/>
+          <storage-mapping id="rabbitmq-hosts" options="ro" source-dir="/etc/hosts" target-dir="/etc/hosts"/>
+          <storage-mapping id="rabbitmq-localtime" options="ro" source-dir="/etc/localtime" target-dir="/etc/localtime"/>
+          <storage-mapping id="rabbitmq-lib" options="rw" source-dir="/var/lib/rabbitmq" target-dir="/var/lib/rabbitmq"/>
+          <storage-mapping id="rabbitmq-pki-extracted" options="ro" source-dir="/etc/pki/ca-trust/extracted" target-dir="/etc/pki/ca-trust/extracted"/>
+          <storage-mapping id="rabbitmq-pki-ca-bundle-crt" options="ro" source-dir="/etc/pki/tls/certs/ca-bundle.crt" target-dir="/etc/pki/tls/certs/ca-bundle.crt"/>
+          <storage-mapping id="rabbitmq-pki-ca-bundle-trust-crt" options="ro" source-dir="/etc/pki/tls/certs/ca-bundle.trust.crt" target-dir="/etc/pki/tls/certs/ca-bundle.trust.crt"/>
+          <storage-mapping id="rabbitmq-pki-cert" options="ro" source-dir="/etc/pki/tls/cert.pem" target-dir="/etc/pki/tls/cert.pem"/>
+          <storage-mapping id="rabbitmq-dev-log" options="rw" source-dir="/dev/log" target-dir="/dev/log"/>
+        </storage>
+        <primitive class="ocf" id="rabbitmq" provider="heartbeat" type="rabbitmq-cluster">
+          <instance_attributes id="rabbitmq-instance_attributes">
+            <nvpair id="rabbitmq-instance_attributes-set_policy" name="set_policy" value="ha-all ^(?!amq\.).* {&quot;ha-mode&quot;:&quot;all&quot;}"/>
+          </instance_attributes>
+          <meta_attributes id="rabbitmq-meta_attributes">
+            <nvpair id="rabbitmq-meta_attributes-container-attribute-target" name="container-attribute-target" value="host"/>
+            <nvpair id="rabbitmq-meta_attributes-notify" name="notify" value="true"/>
+          </meta_attributes>
+          <operations>
+            <op id="rabbitmq-monitor-interval-10" interval="10" name="monitor" timeout="40"/>
+            <op id="rabbitmq-start-interval-0s" interval="0s" name="start" timeout="200s"/>
+            <op id="rabbitmq-stop-interval-0s" interval="0s" name="stop" timeout="200s"/>
+          </operations>
+        </primitive>
+      </bundle>
+      <bundle id="galera-bundle">
+        <docker image="192.168.24.1:8787/rhosp12/openstack-mariadb-docker:pcmklatest" masters="3" network="host" options="--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS" replicas="3" run-command="/bin/bash /usr/local/bin/kolla_start"/>
+        <network control-port="3123"/>
+        <storage>
+          <storage-mapping id="mysql-cfg-files" options="ro" source-dir="/var/lib/kolla/config_files/mysql.json" target-dir="/var/lib/kolla/config_files/config.json"/>
+          <storage-mapping id="mysql-cfg-data" options="ro" source-dir="/var/lib/config-data/puppet-generated/mysql/" target-dir="/var/lib/kolla/config_files/src"/>
+          <storage-mapping id="mysql-hosts" options="ro" source-dir="/etc/hosts" target-dir="/etc/hosts"/>
+          <storage-mapping id="mysql-localtime" options="ro" source-dir="/etc/localtime" target-dir="/etc/localtime"/>
+          <storage-mapping id="mysql-lib" options="rw" source-dir="/var/lib/mysql" target-dir="/var/lib/mysql"/>
+          <storage-mapping id="mysql-log-mariadb" options="rw" source-dir="/var/log/mariadb" target-dir="/var/log/mariadb"/>
+          <storage-mapping id="mysql-dev-log" options="rw" source-dir="/dev/log" target-dir="/dev/log"/>
+        </storage>
+        <primitive class="ocf" id="galera" provider="heartbeat" type="galera">
+          <instance_attributes id="galera-instance_attributes">
+            <nvpair id="galera-instance_attributes-additional_parameters" name="additional_parameters" value="--open-files-limit=16384"/>
+            <nvpair id="galera-instance_attributes-cluster_host_map" name="cluster_host_map" value="database-0:database-0.internalapi.localdomain;database-1:database-1.internalapi.localdomain;database-2:database-2.internalapi.localdomain"/>
+            <nvpair id="galera-instance_attributes-enable_creation" name="enable_creation" value="true"/>
+            <nvpair id="galera-instance_attributes-wsrep_cluster_address" name="wsrep_cluster_address" value="gcomm://database-0.internalapi.localdomain,database-1.internalapi.localdomain,database-2.internalapi.localdomain"/>
+          </instance_attributes>
+          <meta_attributes id="galera-meta_attributes">
+            <nvpair id="galera-meta_attributes-container-attribute-target" name="container-attribute-target" value="host"/>
+            <nvpair id="galera-meta_attributes-master-max" name="master-max" value="3"/>
+            <nvpair id="galera-meta_attributes-ordered" name="ordered" value="true"/>
+          </meta_attributes>
+          <operations>
+            <op id="galera-demote-interval-0s" interval="0s" name="demote" timeout="120"/>
+            <op id="galera-monitor-interval-20" interval="20" name="monitor" timeout="30"/>
+            <op id="galera-monitor-interval-10" interval="10" name="monitor" role="Master" timeout="30"/>
+            <op id="galera-monitor-interval-30" interval="30" name="monitor" role="Slave" timeout="30"/>
+            <op id="galera-promote-interval-0s" interval="0s" name="promote" on-fail="block" timeout="300s"/>
+            <op id="galera-start-interval-0s" interval="0s" name="start" timeout="120"/>
+            <op id="galera-stop-interval-0s" interval="0s" name="stop" timeout="120"/>
+          </operations>
+        </primitive>
+      </bundle>
+      <bundle id="redis-bundle">
+        <docker image="192.168.24.1:8787/rhosp12/openstack-redis-docker:pcmklatest" masters="1" network="host" options="--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS" replicas="3" run-command="/bin/bash /usr/local/bin/kolla_start"/>
+        <network control-port="3124"/>
+        <storage>
+          <storage-mapping id="redis-cfg-files" options="ro" source-dir="/var/lib/kolla/config_files/redis.json" target-dir="/var/lib/kolla/config_files/config.json"/>
+          <storage-mapping id="redis-cfg-data-redis" options="ro" source-dir="/var/lib/config-data/puppet-generated/redis/" target-dir="/var/lib/kolla/config_files/src"/>
+          <storage-mapping id="redis-hosts" options="ro" source-dir="/etc/hosts" target-dir="/etc/hosts"/>
+          <storage-mapping id="redis-localtime" options="ro" source-dir="/etc/localtime" target-dir="/etc/localtime"/>
+          <storage-mapping id="redis-lib" options="rw" source-dir="/var/lib/redis" target-dir="/var/lib/redis"/>
+          <storage-mapping id="redis-log" options="rw" source-dir="/var/log/redis" target-dir="/var/log/redis"/>
+          <storage-mapping id="redis-run" options="rw" source-dir="/var/run/redis" target-dir="/var/run/redis"/>
+          <storage-mapping id="redis-pki-extracted" options="ro" source-dir="/etc/pki/ca-trust/extracted" target-dir="/etc/pki/ca-trust/extracted"/>
+          <storage-mapping id="redis-pki-ca-bundle-crt" options="ro" source-dir="/etc/pki/tls/certs/ca-bundle.crt" target-dir="/etc/pki/tls/certs/ca-bundle.crt"/>
+          <storage-mapping id="redis-pki-ca-bundle-trust-crt" options="ro" source-dir="/etc/pki/tls/certs/ca-bundle.trust.crt" target-dir="/etc/pki/tls/certs/ca-bundle.trust.crt"/>
+          <storage-mapping id="redis-pki-cert" options="ro" source-dir="/etc/pki/tls/cert.pem" target-dir="/etc/pki/tls/cert.pem"/>
+          <storage-mapping id="redis-dev-log" options="rw" source-dir="/dev/log" target-dir="/dev/log"/>
+        </storage>
+        <primitive class="ocf" id="redis" provider="heartbeat" type="redis">
+          <instance_attributes id="redis-instance_attributes">
+            <nvpair id="redis-instance_attributes-wait_last_known_master" name="wait_last_known_master" value="true"/>
+          </instance_attributes>
+          <meta_attributes id="redis-meta_attributes">
+            <nvpair id="redis-meta_attributes-container-attribute-target" name="container-attribute-target" value="host"/>
+            <nvpair id="redis-meta_attributes-interleave" name="interleave" value="true"/>
+            <nvpair id="redis-meta_attributes-notify" name="notify" value="true"/>
+            <nvpair id="redis-meta_attributes-ordered" name="ordered" value="true"/>
+          </meta_attributes>
+          <operations>
+            <op id="redis-demote-interval-0s" interval="0s" name="demote" timeout="120"/>
+            <op id="redis-monitor-interval-45" interval="45" name="monitor" timeout="60"/>
+            <op id="redis-monitor-interval-20" interval="20" name="monitor" role="Master" timeout="60"/>
+            <op id="redis-monitor-interval-60" interval="60" name="monitor" role="Slave" timeout="60"/>
+            <op id="redis-promote-interval-0s" interval="0s" name="promote" timeout="120"/>
+            <op id="redis-start-interval-0s" interval="0s" name="start" timeout="200s"/>
+            <op id="redis-stop-interval-0s" interval="0s" name="stop" timeout="200s"/>
+          </operations>
+        </primitive>
+      </bundle>
+      <primitive class="ocf" id="ip-192.168.24.11" provider="heartbeat" type="IPaddr2">
+        <instance_attributes id="ip-192.168.24.11-instance_attributes">
+          <nvpair id="ip-192.168.24.11-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
+          <nvpair id="ip-192.168.24.11-instance_attributes-ip" name="ip" value="192.168.24.11"/>
+        </instance_attributes>
+        <operations>
+          <op id="ip-192.168.24.11-monitor-interval-10s" interval="10s" name="monitor" timeout="20s"/>
+          <op id="ip-192.168.24.11-start-interval-0s" interval="0s" name="start" timeout="20s"/>
+          <op id="ip-192.168.24.11-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="ip-10.0.0.104" provider="heartbeat" type="IPaddr2">
+        <instance_attributes id="ip-10.0.0.104-instance_attributes">
+          <nvpair id="ip-10.0.0.104-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
+          <nvpair id="ip-10.0.0.104-instance_attributes-ip" name="ip" value="10.0.0.104"/>
+        </instance_attributes>
+        <operations>
+          <op id="ip-10.0.0.104-monitor-interval-10s" interval="10s" name="monitor" timeout="20s"/>
+          <op id="ip-10.0.0.104-start-interval-0s" interval="0s" name="start" timeout="20s"/>
+          <op id="ip-10.0.0.104-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="ip-172.17.1.19" provider="heartbeat" type="IPaddr2">
+        <instance_attributes id="ip-172.17.1.19-instance_attributes">
+          <nvpair id="ip-172.17.1.19-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
+          <nvpair id="ip-172.17.1.19-instance_attributes-ip" name="ip" value="172.17.1.19"/>
+        </instance_attributes>
+        <operations>
+          <op id="ip-172.17.1.19-monitor-interval-10s" interval="10s" name="monitor" timeout="20s"/>
+          <op id="ip-172.17.1.19-start-interval-0s" interval="0s" name="start" timeout="20s"/>
+          <op id="ip-172.17.1.19-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="ip-172.17.1.11" provider="heartbeat" type="IPaddr2">
+        <instance_attributes id="ip-172.17.1.11-instance_attributes">
+          <nvpair id="ip-172.17.1.11-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
+          <nvpair id="ip-172.17.1.11-instance_attributes-ip" name="ip" value="172.17.1.11"/>
+        </instance_attributes>
+        <operations>
+          <op id="ip-172.17.1.11-monitor-interval-10s" interval="10s" name="monitor" timeout="20s"/>
+          <op id="ip-172.17.1.11-start-interval-0s" interval="0s" name="start" timeout="20s"/>
+          <op id="ip-172.17.1.11-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="ip-172.17.3.13" provider="heartbeat" type="IPaddr2">
+        <instance_attributes id="ip-172.17.3.13-instance_attributes">
+          <nvpair id="ip-172.17.3.13-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
+          <nvpair id="ip-172.17.3.13-instance_attributes-ip" name="ip" value="172.17.3.13"/>
+        </instance_attributes>
+        <operations>
+          <op id="ip-172.17.3.13-monitor-interval-10s" interval="10s" name="monitor" timeout="20s"/>
+          <op id="ip-172.17.3.13-start-interval-0s" interval="0s" name="start" timeout="20s"/>
+          <op id="ip-172.17.3.13-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
+        </operations>
+      </primitive>
+      <primitive class="ocf" id="ip-172.17.4.19" provider="heartbeat" type="IPaddr2">
+        <instance_attributes id="ip-172.17.4.19-instance_attributes">
+          <nvpair id="ip-172.17.4.19-instance_attributes-cidr_netmask" name="cidr_netmask" value="32"/>
+          <nvpair id="ip-172.17.4.19-instance_attributes-ip" name="ip" value="172.17.4.19"/>
+        </instance_attributes>
+        <operations>
+          <op id="ip-172.17.4.19-monitor-interval-10s" interval="10s" name="monitor" timeout="20s"/>
+          <op id="ip-172.17.4.19-start-interval-0s" interval="0s" name="start" timeout="20s"/>
+          <op id="ip-172.17.4.19-stop-interval-0s" interval="0s" name="stop" timeout="20s"/>
+        </operations>
+      </primitive>
+      <bundle id="haproxy-bundle">
+        <docker image="192.168.24.1:8787/rhosp12/openstack-haproxy-docker:pcmklatest" network="host" options="--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS" replicas="3" run-command="/bin/bash /usr/local/bin/kolla_start"/>
+        <storage>
+          <storage-mapping id="haproxy-cfg-files" options="ro" source-dir="/var/lib/kolla/config_files/haproxy.json" target-dir="/var/lib/kolla/config_files/config.json"/>
+          <storage-mapping id="haproxy-cfg-data" options="ro" source-dir="/var/lib/config-data/puppet-generated/haproxy/" target-dir="/var/lib/kolla/config_files/src"/>
+          <storage-mapping id="haproxy-hosts" options="ro" source-dir="/etc/hosts" target-dir="/etc/hosts"/>
+          <storage-mapping id="haproxy-localtime" options="ro" source-dir="/etc/localtime" target-dir="/etc/localtime"/>
+          <storage-mapping id="haproxy-pki-extracted" options="ro" source-dir="/etc/pki/ca-trust/extracted" target-dir="/etc/pki/ca-trust/extracted"/>
+          <storage-mapping id="haproxy-pki-ca-bundle-crt" options="ro" source-dir="/etc/pki/tls/certs/ca-bundle.crt" target-dir="/etc/pki/tls/certs/ca-bundle.crt"/>
+          <storage-mapping id="haproxy-pki-ca-bundle-trust-crt" options="ro" source-dir="/etc/pki/tls/certs/ca-bundle.trust.crt" target-dir="/etc/pki/tls/certs/ca-bundle.trust.crt"/>
+          <storage-mapping id="haproxy-pki-cert" options="ro" source-dir="/etc/pki/tls/cert.pem" target-dir="/etc/pki/tls/cert.pem"/>
+          <storage-mapping id="haproxy-dev-log" options="rw" source-dir="/dev/log" target-dir="/dev/log"/>
+        </storage>
+      </bundle>
+      <primitive class="systemd" id="openstack-cinder-volume" type="openstack-cinder-volume">
+        <operations>
+          <op id="openstack-cinder-volume-monitor-interval-60" interval="60" name="monitor" timeout="100"/>
+          <op id="openstack-cinder-volume-start-interval-0s" interval="0s" name="start" timeout="200s"/>
+          <op id="openstack-cinder-volume-stop-interval-0s" interval="0s" name="stop" timeout="200s"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400244e09" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400244e09-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-ipport" name="ipport" value="6230"/>
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="messaging-1"/>
+          <nvpair id="stonith-fence_ipmilan-525400244e09-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400244e09-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400cdec10" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400cdec10-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-ipport" name="ipport" value="6239"/>
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="messaging-2"/>
+          <nvpair id="stonith-fence_ipmilan-525400cdec10-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400cdec10-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400c709f7" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400c709f7-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-ipport" name="ipport" value="6240"/>
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="messaging-0"/>
+          <nvpair id="stonith-fence_ipmilan-525400c709f7-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400c709f7-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400a7f9e0" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-ipport" name="ipport" value="6233"/>
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="database-1"/>
+          <nvpair id="stonith-fence_ipmilan-525400a7f9e0-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400a7f9e0-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400a25787" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400a25787-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-ipport" name="ipport" value="6234"/>
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="database-2"/>
+          <nvpair id="stonith-fence_ipmilan-525400a25787-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400a25787-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-5254005ea387" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-5254005ea387-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-ipport" name="ipport" value="6235"/>
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="database-0"/>
+          <nvpair id="stonith-fence_ipmilan-5254005ea387-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-5254005ea387-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400542c06" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400542c06-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-ipport" name="ipport" value="6236"/>
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="controller-2"/>
+          <nvpair id="stonith-fence_ipmilan-525400542c06-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400542c06-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400aac413" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400aac413-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-ipport" name="ipport" value="6232"/>
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="controller-1"/>
+          <nvpair id="stonith-fence_ipmilan-525400aac413-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400aac413-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+      <primitive class="stonith" id="stonith-fence_ipmilan-525400498d34" type="fence_ipmilan">
+        <instance_attributes id="stonith-fence_ipmilan-525400498d34-instance_attributes">
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-ipaddr" name="ipaddr" value="172.16.0.8"/>
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-ipport" name="ipport" value="6231"/>
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-lanplus" name="lanplus" value="true"/>
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-login" name="login" value="admin"/>
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-passwd" name="passwd" value="password"/>
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-pcmk_host_list" name="pcmk_host_list" value="controller-0"/>
+          <nvpair id="stonith-fence_ipmilan-525400498d34-instance_attributes-privlvl" name="privlvl" value="administrator"/>
+        </instance_attributes>
+        <operations>
+          <op id="stonith-fence_ipmilan-525400498d34-monitor-interval-60s" interval="60s" name="monitor"/>
+        </operations>
+      </primitive>
+    </resources>
+    <constraints>
+      <rsc_location id="location-rabbitmq-bundle" resource-discovery="exclusive" rsc="rabbitmq-bundle">
+        <rule id="location-rabbitmq-bundle-rule" score="0">
+          <expression attribute="rabbitmq-role" id="location-rabbitmq-bundle-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-galera-bundle" resource-discovery="exclusive" rsc="galera-bundle">
+        <rule id="location-galera-bundle-rule" score="0">
+          <expression attribute="galera-role" id="location-galera-bundle-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-redis-bundle" resource-discovery="exclusive" rsc="redis-bundle">
+        <rule id="location-redis-bundle-rule" score="0">
+          <expression attribute="redis-role" id="location-redis-bundle-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-ip-192.168.24.11" resource-discovery="exclusive" rsc="ip-192.168.24.11">
+        <rule id="location-ip-192.168.24.11-rule" score="0">
+          <expression attribute="haproxy-role" id="location-ip-192.168.24.11-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-ip-10.0.0.104" resource-discovery="exclusive" rsc="ip-10.0.0.104">
+        <rule id="location-ip-10.0.0.104-rule" score="0">
+          <expression attribute="haproxy-role" id="location-ip-10.0.0.104-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-ip-172.17.1.19" resource-discovery="exclusive" rsc="ip-172.17.1.19">
+        <rule id="location-ip-172.17.1.19-rule" score="0">
+          <expression attribute="haproxy-role" id="location-ip-172.17.1.19-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-ip-172.17.1.11" resource-discovery="exclusive" rsc="ip-172.17.1.11">
+        <rule id="location-ip-172.17.1.11-rule" score="0">
+          <expression attribute="haproxy-role" id="location-ip-172.17.1.11-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-ip-172.17.3.13" resource-discovery="exclusive" rsc="ip-172.17.3.13">
+        <rule id="location-ip-172.17.3.13-rule" score="0">
+          <expression attribute="haproxy-role" id="location-ip-172.17.3.13-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-ip-172.17.4.19" resource-discovery="exclusive" rsc="ip-172.17.4.19">
+        <rule id="location-ip-172.17.4.19-rule" score="0">
+          <expression attribute="haproxy-role" id="location-ip-172.17.4.19-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-haproxy-bundle" resource-discovery="exclusive" rsc="haproxy-bundle">
+        <rule id="location-haproxy-bundle-rule" score="0">
+          <expression attribute="haproxy-role" id="location-haproxy-bundle-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_order first="ip-192.168.24.11" first-action="start" id="order-ip-192.168.24.11-haproxy-bundle-Optional" kind="Optional" then="haproxy-bundle" then-action="start"/>
+      <rsc_colocation id="colocation-ip-192.168.24.11-haproxy-bundle-INFINITY" rsc="ip-192.168.24.11" score="INFINITY" with-rsc="haproxy-bundle"/>
+      <rsc_order first="ip-10.0.0.104" first-action="start" id="order-ip-10.0.0.104-haproxy-bundle-Optional" kind="Optional" then="haproxy-bundle" then-action="start"/>
+      <rsc_colocation id="colocation-ip-10.0.0.104-haproxy-bundle-INFINITY" rsc="ip-10.0.0.104" score="INFINITY" with-rsc="haproxy-bundle"/>
+      <rsc_order first="ip-172.17.1.19" first-action="start" id="order-ip-172.17.1.19-haproxy-bundle-Optional" kind="Optional" then="haproxy-bundle" then-action="start"/>
+      <rsc_colocation id="colocation-ip-172.17.1.19-haproxy-bundle-INFINITY" rsc="ip-172.17.1.19" score="INFINITY" with-rsc="haproxy-bundle"/>
+      <rsc_order first="ip-172.17.1.11" first-action="start" id="order-ip-172.17.1.11-haproxy-bundle-Optional" kind="Optional" then="haproxy-bundle" then-action="start"/>
+      <rsc_colocation id="colocation-ip-172.17.1.11-haproxy-bundle-INFINITY" rsc="ip-172.17.1.11" score="INFINITY" with-rsc="haproxy-bundle"/>
+      <rsc_order first="ip-172.17.3.13" first-action="start" id="order-ip-172.17.3.13-haproxy-bundle-Optional" kind="Optional" then="haproxy-bundle" then-action="start"/>
+      <rsc_colocation id="colocation-ip-172.17.3.13-haproxy-bundle-INFINITY" rsc="ip-172.17.3.13" score="INFINITY" with-rsc="haproxy-bundle"/>
+      <rsc_order first="ip-172.17.4.19" first-action="start" id="order-ip-172.17.4.19-haproxy-bundle-Optional" kind="Optional" then="haproxy-bundle" then-action="start"/>
+      <rsc_colocation id="colocation-ip-172.17.4.19-haproxy-bundle-INFINITY" rsc="ip-172.17.4.19" score="INFINITY" with-rsc="haproxy-bundle"/>
+      <rsc_location id="location-openstack-cinder-volume" resource-discovery="exclusive" rsc="openstack-cinder-volume">
+        <rule id="location-openstack-cinder-volume-rule" score="0">
+          <expression attribute="cinder-volume-role" id="location-openstack-cinder-volume-rule-expr" operation="eq" value="true"/>
+        </rule>
+      </rsc_location>
+      <rsc_location id="location-stonith-fence_ipmilan-525400244e09-messaging-1--INFINITY" node="messaging-1" rsc="stonith-fence_ipmilan-525400244e09" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400cdec10-messaging-2--INFINITY" node="messaging-2" rsc="stonith-fence_ipmilan-525400cdec10" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-5254005ea387-database-0--INFINITY" node="database-0" rsc="stonith-fence_ipmilan-5254005ea387" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400a7f9e0-database-1--INFINITY" node="database-1" rsc="stonith-fence_ipmilan-525400a7f9e0" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400a25787-database-2--INFINITY" node="database-2" rsc="stonith-fence_ipmilan-525400a25787" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400c709f7-messaging-0--INFINITY" node="messaging-0" rsc="stonith-fence_ipmilan-525400c709f7" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400542c06-controller-2--INFINITY" node="controller-2" rsc="stonith-fence_ipmilan-525400542c06" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400aac413-controller-1--INFINITY" node="controller-1" rsc="stonith-fence_ipmilan-525400aac413" score="-INFINITY"/>
+      <rsc_location id="location-stonith-fence_ipmilan-525400498d34-controller-0--INFINITY" node="controller-0" rsc="stonith-fence_ipmilan-525400498d34" score="-INFINITY"/>
+    </constraints>
+    <rsc_defaults>
+      <meta_attributes id="rsc_defaults-options">
+        <nvpair id="rsc_defaults-options-resource-stickiness" name="resource-stickiness" value="INFINITY"/>
+      </meta_attributes>
+    </rsc_defaults>
+  </configuration>
+  <status>
+    <node_state id="2" uname="controller-1" in_ccm="true" crmd="online" crm-debug-origin="do_update_resource" join="member" expected="member">
+      <lrm id="2">
+        <lrm_resources>
+          <lrm_resource id="database-0" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-0_last_0" operation_key="database-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="36:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;36:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="1" rc-code="7" op-status="0" interval="0" last-run="1512341372" last-rc-change="1512341372" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="database-1" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-1_last_0" operation_key="database-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="37:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;37:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="2" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="database-2" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-2_last_0" operation_key="database-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="38:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;38:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="3" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-0" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-0_last_0" operation_key="messaging-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="39:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;39:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="4" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-1" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-1_last_0" operation_key="messaging-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="40:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;40:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="5" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-2" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-2_last_0" operation_key="messaging-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="41:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;41:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="6" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-0" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-0">
+            <lrm_rsc_op id="rabbitmq-bundle-0_last_0" operation_key="rabbitmq-bundle-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="42:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;42:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="7" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="a41ad5f9625676395b163a06987de2d6" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-1" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-1">
+            <lrm_rsc_op id="rabbitmq-bundle-1_last_0" operation_key="rabbitmq-bundle-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="43:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;43:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="8" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="e25f0ff041ed91bee8ee197d0ce2aebd" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-2" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-2">
+            <lrm_rsc_op id="rabbitmq-bundle-2_last_0" operation_key="rabbitmq-bundle-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="44:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;44:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="9" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="593e15353c64e73e2efe61415c7dd44b" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-1" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-1">
+            <lrm_rsc_op id="galera-bundle-1_last_0" operation_key="galera-bundle-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="46:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;46:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="10" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="f6e3b46e18b24f6e1cca9639ec9b7c41" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-0" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-0">
+            <lrm_rsc_op id="redis-bundle-0_last_0" operation_key="redis-bundle-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="49:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;49:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="11" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="dd323696d6c8ed14cb71914c411664c9" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-2" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-2">
+            <lrm_rsc_op id="redis-bundle-2_last_0" operation_key="redis-bundle-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="53:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;53:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="12" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="0" queue-time="0" op-digest="f325849fbffe2e62970eb201a50da9f3" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400244e09" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400244e09_last_0" operation_key="stonith-fence_ipmilan-525400244e09_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="64:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;64:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="69" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="118" queue-time="0" op-digest="4d90b1c5011f28a7f26ea6940c3d6047" op-secure-params=" passwd  password " op-secure-digest="121bce21cad5e00c48a5c51be26c7522"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400cdec10" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400cdec10_last_0" operation_key="stonith-fence_ipmilan-525400cdec10_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="65:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;65:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="73" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="1" queue-time="0" op-digest="1bbfe3c1bf06a468db7656dd7552c4d6" op-secure-params=" passwd  password " op-secure-digest="8d9cf5beca60b2da8b0f7c9a7342a4aa"/>
+          </lrm_resource>
+          <lrm_resource id="openstack-cinder-volume" type="openstack-cinder-volume" class="systemd">
+            <lrm_rsc_op id="openstack-cinder-volume_last_0" operation_key="openstack-cinder-volume_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="63:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;63:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="65" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="155" queue-time="0" op-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-0_last_0" operation_key="redis-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="48:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;48:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="15" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="418" queue-time="0" op-digest="b6bd1e4fa13216f010a5f4ba18d081a3"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.1.19" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.1.19_last_0" operation_key="ip-172.17.1.19_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="56:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;56:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="37" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="408" queue-time="0" op-digest="2c46df7582fe8b55e9dcdeaceb4c84c7"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-2_last_0" operation_key="redis-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="52:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;52:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="24" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="432" queue-time="0" op-digest="cdf5d52dbfd265e497dd1dfb06f2faf1"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-2_last_0" operation_key="haproxy-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="62:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;62:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="61" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="417" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-0_last_0" operation_key="haproxy-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="60:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;60:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="53" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="443" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="ip-192.168.24.11" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-192.168.24.11_last_0" operation_key="ip-192.168.24.11_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="54:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;54:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="29" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="481" queue-time="0" op-digest="d16224b1cc961154d457d259d944b5f9"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.3.13" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.3.13_last_0" operation_key="ip-172.17.3.13_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="58:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;58:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="45" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="486" queue-time="0" op-digest="aabfc88ecfd0ef79b36f8958512b0190"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.1.11" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.1.11_last_0" operation_key="ip-172.17.1.11_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="57:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;57:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="41" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="491" queue-time="0" op-digest="7c6ed186ff8cdf7693b51ee42b4fc6e1"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-1_last_0" operation_key="redis-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="50:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;50:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="20" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="509" queue-time="1" op-digest="d12a03fcf5794843261e2916fbd6c63b"/>
+          </lrm_resource>
+          <lrm_resource id="ip-10.0.0.104" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-10.0.0.104_last_0" operation_key="ip-10.0.0.104_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="55:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;55:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="33" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="507" queue-time="0" op-digest="f1d53d03e6223a0e53558dbf6f3bcbea"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.4.19" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.4.19_last_0" operation_key="ip-172.17.4.19_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="59:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;59:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="49" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="528" queue-time="0" op-digest="aa7c6b227cb7ab3004b79cce131be1b3"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-1_last_0" operation_key="haproxy-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="61:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;61:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="57" rc-code="7" op-status="0" interval="0" last-run="1512341374" last-rc-change="1512341374" exec-time="536" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400c709f7" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400c709f7_last_0" operation_key="stonith-fence_ipmilan-525400c709f7_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="66:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;66:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="77" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="1a536a915526af43ef48909329afb3b2" op-secure-params=" passwd  password " op-secure-digest="79c818a20ab9bdc97f7834f1e78face1"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400a7f9e0" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a7f9e0_last_0" operation_key="stonith-fence_ipmilan-525400a7f9e0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="67:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;67:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="81" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="79027109189cf76473206a064a7297db" op-secure-params=" passwd  password " op-secure-digest="324791a6565e672135bd6e0325f2d7ca"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400a25787" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a25787_last_0" operation_key="stonith-fence_ipmilan-525400a25787_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="68:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;68:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="85" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="3b08cb766486ae213950205853288336" op-secure-params=" passwd  password " op-secure-digest="b0cbf3a6399393106803cb99269abe06"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-5254005ea387" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-5254005ea387_last_0" operation_key="stonith-fence_ipmilan-5254005ea387_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="69:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;69:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="89" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="9c0b8d3466b167eec30455c361939f0e" op-secure-params=" passwd  password " op-secure-digest="14900e2150667678c44f24d73286301c"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400542c06" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400542c06_last_0" operation_key="stonith-fence_ipmilan-525400542c06_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="70:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;70:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="93" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="c29ea7ff58baa575edf9b083d96c8d97" op-secure-params=" passwd  password " op-secure-digest="982bf2fb6d049bf379a72647cb6eab0a"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400aac413" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400aac413_last_0" operation_key="stonith-fence_ipmilan-525400aac413_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="71:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;71:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="97" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="b45737bb0d27199c17d938d131074ee5" op-secure-params=" passwd  password " op-secure-digest="b47e5b47ba419433c479357326c16b79"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400498d34" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400498d34_last_0" operation_key="stonith-fence_ipmilan-525400498d34_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="72:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;72:14:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-1" call-id="101" rc-code="7" op-status="0" interval="0" last-run="1512341375" last-rc-change="1512341375" exec-time="0" queue-time="0" op-digest="91b8661ac13de0e2114690e4149f3bcd" op-secure-params=" passwd  password " op-secure-digest="c9eae91b90ce97ecfdfa17bdee292722"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="2">
+        <instance_attributes id="status-2">
+          <nvpair id="status-2-shutdown" name="shutdown" value="0"/>
+        </instance_attributes>
+      </transient_attributes>
+    </node_state>
+    <node_state id="1" uname="controller-0" in_ccm="true" crmd="online" crm-debug-origin="do_state_transition" join="member" expected="member">
+      <lrm id="1">
+        <lrm_resources>
+          <lrm_resource id="database-0" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-0_last_0" operation_key="database-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="50:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;50:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="1" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="database-1" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-1_last_0" operation_key="database-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="51:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;51:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="2" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="database-2" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-2_last_0" operation_key="database-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="52:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;52:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="3" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-0" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-0_last_0" operation_key="messaging-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="53:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;53:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="4" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-1" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-1_last_0" operation_key="messaging-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="54:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;54:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="5" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-2" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-2_last_0" operation_key="messaging-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="55:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;55:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="6" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-0" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-0">
+            <lrm_rsc_op id="rabbitmq-bundle-0_last_0" operation_key="rabbitmq-bundle-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="56:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;56:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="7" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="a41ad5f9625676395b163a06987de2d6" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-1" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-1">
+            <lrm_rsc_op id="rabbitmq-bundle-1_last_0" operation_key="rabbitmq-bundle-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="57:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;57:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="8" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="e25f0ff041ed91bee8ee197d0ce2aebd" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-2" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-2">
+            <lrm_rsc_op id="rabbitmq-bundle-2_last_0" operation_key="rabbitmq-bundle-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="58:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;58:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="9" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="593e15353c64e73e2efe61415c7dd44b" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-0" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-0">
+            <lrm_rsc_op id="galera-bundle-0_last_0" operation_key="galera-bundle-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="59:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;59:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="10" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="dbc6b52d45a75a0b041af92265b22f9e" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-1" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-1">
+            <lrm_rsc_op id="galera-bundle-1_last_0" operation_key="galera-bundle-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="60:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;60:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="11" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="f6e3b46e18b24f6e1cca9639ec9b7c41" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-2" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-2">
+            <lrm_rsc_op id="galera-bundle-2_last_0" operation_key="galera-bundle-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="61:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;61:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="12" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="bf7cf9acd053cee24dc3401862009e40" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-1" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-1">
+            <lrm_rsc_op id="redis-bundle-1_last_0" operation_key="redis-bundle-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="65:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;65:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="13" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="cd98602d6f977947327050913302f861" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-2" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-2">
+            <lrm_rsc_op id="redis-bundle-2_last_0" operation_key="redis-bundle-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="67:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;67:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="14" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="0" queue-time="0" op-digest="f325849fbffe2e62970eb201a50da9f3" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-2_last_0" operation_key="redis-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="66:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;66:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="26" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="39" queue-time="0" op-digest="cdf5d52dbfd265e497dd1dfb06f2faf1"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-1_last_0" operation_key="redis-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="64:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;64:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="21" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="42" queue-time="0" op-digest="d12a03fcf5794843261e2916fbd6c63b"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-0_last_0" operation_key="redis-bundle-docker-0_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="173:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;173:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="48" rc-code="0" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="422" queue-time="0" op-digest="b6bd1e4fa13216f010a5f4ba18d081a3"/>
+            <lrm_rsc_op id="redis-bundle-docker-0_monitor_60000" operation_key="redis-bundle-docker-0_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="174:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;174:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="98" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340829" exec-time="93" queue-time="0" op-digest="20a4fe5eb550f2b6c20875a81803817e"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.1.19" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.1.19_last_0" operation_key="ip-172.17.1.19_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="70:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;70:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="39" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="47" queue-time="0" op-digest="2c46df7582fe8b55e9dcdeaceb4c84c7"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.1.11" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.1.11_last_0" operation_key="ip-172.17.1.11_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="71:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;71:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="43" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="48" queue-time="0" op-digest="7c6ed186ff8cdf7693b51ee42b4fc6e1"/>
+          </lrm_resource>
+          <lrm_resource id="ip-192.168.24.11" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-192.168.24.11_last_0" operation_key="ip-192.168.24.11_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="68:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;68:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="31" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="56" queue-time="0" op-digest="d16224b1cc961154d457d259d944b5f9"/>
+          </lrm_resource>
+          <lrm_resource id="ip-10.0.0.104" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-10.0.0.104_last_0" operation_key="ip-10.0.0.104_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="69:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;69:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="35" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="58" queue-time="0" op-digest="f1d53d03e6223a0e53558dbf6f3bcbea"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.3.13" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.3.13_last_0" operation_key="ip-172.17.3.13_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="72:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;72:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="47" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="56" queue-time="0" op-digest="aabfc88ecfd0ef79b36f8958512b0190"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400244e09" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400244e09_last_0" operation_key="stonith-fence_ipmilan-525400244e09_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="78:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;78:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="72" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="25" queue-time="0" op-digest="4d90b1c5011f28a7f26ea6940c3d6047" op-secure-params=" passwd  password " op-secure-digest="121bce21cad5e00c48a5c51be26c7522"/>
+          </lrm_resource>
+          <lrm_resource id="openstack-cinder-volume" type="openstack-cinder-volume" class="systemd">
+            <lrm_rsc_op id="openstack-cinder-volume_last_0" operation_key="openstack-cinder-volume_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="77:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;77:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="68" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="31" queue-time="0" op-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.4.19" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.4.19_last_0" operation_key="ip-172.17.4.19_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="73:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;73:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="52" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="43" queue-time="0" op-digest="aa7c6b227cb7ab3004b79cce131be1b3"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-1_last_0" operation_key="haproxy-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="75:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;75:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="60" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="41" queue-time="1" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-0_last_0" operation_key="haproxy-bundle-docker-0_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="239:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;239:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="97" rc-code="0" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="393" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+            <lrm_rsc_op id="haproxy-bundle-docker-0_monitor_60000" operation_key="haproxy-bundle-docker-0_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="240:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;240:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="108" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340829" exec-time="77" queue-time="0" op-digest="02bacde98cfd7c1daceaf2a3bb4f851c"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-2_last_0" operation_key="haproxy-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="76:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;76:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="64" rc-code="7" op-status="0" interval="0" last-run="1512340828" last-rc-change="1512340828" exec-time="42" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400cdec10" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400cdec10_last_0" operation_key="stonith-fence_ipmilan-525400cdec10_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="79:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;79:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="76" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="1bbfe3c1bf06a468db7656dd7552c4d6" op-secure-params=" passwd  password " op-secure-digest="8d9cf5beca60b2da8b0f7c9a7342a4aa"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400c709f7" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400c709f7_last_0" operation_key="stonith-fence_ipmilan-525400c709f7_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="80:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;80:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="80" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="1a536a915526af43ef48909329afb3b2" op-secure-params=" passwd  password " op-secure-digest="79c818a20ab9bdc97f7834f1e78face1"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400a25787" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a25787_last_0" operation_key="stonith-fence_ipmilan-525400a25787_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="82:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;82:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="88" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="3b08cb766486ae213950205853288336" op-secure-params=" passwd  password " op-secure-digest="b0cbf3a6399393106803cb99269abe06"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-5254005ea387" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-5254005ea387_last_0" operation_key="stonith-fence_ipmilan-5254005ea387_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="83:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;83:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="92" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="9c0b8d3466b167eec30455c361939f0e" op-secure-params=" passwd  password " op-secure-digest="14900e2150667678c44f24d73286301c"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400542c06" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400542c06_last_0" operation_key="stonith-fence_ipmilan-525400542c06_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="84:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;84:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="96" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="c29ea7ff58baa575edf9b083d96c8d97" op-secure-params=" passwd  password " op-secure-digest="982bf2fb6d049bf379a72647cb6eab0a"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-0" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-0">
+            <lrm_rsc_op id="redis-bundle-0_last_0" operation_key="redis-bundle-0_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="175:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;175:1:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="16" rc-code="0" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="dd323696d6c8ed14cb71914c411664c9" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="redis-bundle-0_monitor_60000" operation_key="redis-bundle-0_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="143:2:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;143:2:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="17" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340830" exec-time="0" queue-time="0" op-digest="e3ae7972e4989b9b928f3ff082c5ac23"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400aac413" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400aac413_last_0" operation_key="stonith-fence_ipmilan-525400aac413_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="85:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;85:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="103" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="b45737bb0d27199c17d938d131074ee5" op-secure-params=" passwd  password " op-secure-digest="b47e5b47ba419433c479357326c16b79"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400498d34" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400498d34_last_0" operation_key="stonith-fence_ipmilan-525400498d34_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="86:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;86:1:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="107" rc-code="7" op-status="0" interval="0" last-run="1512340829" last-rc-change="1512340829" exec-time="0" queue-time="0" op-digest="91b8661ac13de0e2114690e4149f3bcd" op-secure-params=" passwd  password " op-secure-digest="c9eae91b90ce97ecfdfa17bdee292722"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400a7f9e0" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a7f9e0_last_0" operation_key="stonith-fence_ipmilan-525400a7f9e0_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="226:6:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;226:6:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="114" rc-code="0" op-status="0" interval="0" last-run="1512340954" last-rc-change="1512340954" exec-time="2204" queue-time="0" op-digest="79027109189cf76473206a064a7297db" op-secure-params=" passwd  password " op-secure-digest="324791a6565e672135bd6e0325f2d7ca"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a7f9e0_monitor_60000" operation_key="stonith-fence_ipmilan-525400a7f9e0_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="227:6:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;227:6:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="115" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340957" exec-time="2187" queue-time="0" op-digest="8c611b4348c55f057229c740e92e759c" op-secure-params=" passwd  password " op-secure-digest="324791a6565e672135bd6e0325f2d7ca"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="1">
+        <instance_attributes id="status-1">
+          <nvpair id="status-1-shutdown" name="shutdown" value="0"/>
+          <nvpair id="status-1-master-redis" name="master-redis" value="1"/>
+        </instance_attributes>
+      </transient_attributes>
+    </node_state>
+    <node_state id="3" uname="controller-2" in_ccm="true" crmd="online" crm-debug-origin="do_update_resource" join="member" expected="member">
+      <transient_attributes id="3">
+        <instance_attributes id="status-3">
+          <nvpair id="status-3-shutdown" name="shutdown" value="0"/>
+          <nvpair id="status-3-last-failure-stonith-fence_ipmilan-525400a7f9e0" name="last-failure-stonith-fence_ipmilan-525400a7f9e0" value="1512340455"/>
+          <nvpair id="status-3-master-redis" name="master-redis" value="1"/>
+          <nvpair id="status-3-fail-count-stonith-fence_ipmilan-525400498d34" name="fail-count-stonith-fence_ipmilan-525400498d34" value="1"/>
+          <nvpair id="status-3-last-failure-stonith-fence_ipmilan-525400498d34" name="last-failure-stonith-fence_ipmilan-525400498d34" value="1512409184"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="3">
+        <lrm_resources>
+          <lrm_resource id="stonith-fence_ipmilan-525400244e09" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400244e09_last_0" operation_key="stonith-fence_ipmilan-525400244e09_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="231:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;231:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="111" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="2160" queue-time="0" op-digest="4d90b1c5011f28a7f26ea6940c3d6047" op-secure-params=" passwd  password " op-secure-digest="121bce21cad5e00c48a5c51be26c7522"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400244e09_monitor_60000" operation_key="stonith-fence_ipmilan-525400244e09_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="208:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;208:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="119" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="1095" queue-time="0" op-digest="b6c8a4e65b9d2660ce533a17530ab254" op-secure-params=" passwd  password " op-secure-digest="121bce21cad5e00c48a5c51be26c7522"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-5254005ea387" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-5254005ea387_last_0" operation_key="stonith-fence_ipmilan-5254005ea387_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="82:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;82:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="91" rc-code="7" op-status="0" interval="0" last-run="1512340434" last-rc-change="1512340434" exec-time="0" queue-time="0" op-digest="9c0b8d3466b167eec30455c361939f0e" op-secure-params=" passwd  password " op-secure-digest="14900e2150667678c44f24d73286301c"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.4.19" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.4.19_last_0" operation_key="ip-172.17.4.19_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="217:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;217:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="116" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="4070" queue-time="0" op-digest="aa7c6b227cb7ab3004b79cce131be1b3"/>
+            <lrm_rsc_op id="ip-172.17.4.19_monitor_10000" operation_key="ip-172.17.4.19_monitor_10000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="195:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;195:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="118" rc-code="0" op-status="0" interval="10000" last-rc-change="1512340635" exec-time="63" queue-time="0" op-digest="16f17a7b0b49bf2b2abee9fb1c2c1be2"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-2" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-2">
+            <lrm_rsc_op id="redis-bundle-2_last_0" operation_key="redis-bundle-2_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="182:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;182:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="16" rc-code="0" op-status="0" interval="0" last-run="1512340435" last-rc-change="1512340435" exec-time="0" queue-time="0" op-digest="f325849fbffe2e62970eb201a50da9f3" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="redis-bundle-2_monitor_60000" operation_key="redis-bundle-2_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="151:16355:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;151:16355:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="17" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340456" exec-time="0" queue-time="0" op-digest="1c97595acf862a2449ada08e9770bdf5"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400cdec10" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400cdec10_last_0" operation_key="stonith-fence_ipmilan-525400cdec10_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="234:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;234:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="112" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="1095" queue-time="0" op-digest="1bbfe3c1bf06a468db7656dd7552c4d6" op-secure-params=" passwd  password " op-secure-digest="8d9cf5beca60b2da8b0f7c9a7342a4aa"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400cdec10_monitor_60000" operation_key="stonith-fence_ipmilan-525400cdec10_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="211:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;211:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="120" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="1080" queue-time="0" op-digest="7402ab63140561169c7e6bd9e3de52d7" op-secure-params=" passwd  password " op-secure-digest="8d9cf5beca60b2da8b0f7c9a7342a4aa"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400498d34" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400498d34_last_0" operation_key="stonith-fence_ipmilan-525400498d34_stop_0" operation="stop" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="10:1130:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;10:1130:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-2" call-id="131" rc-code="0" op-status="0" interval="0" last-run="1512409184" last-rc-change="1512409184" exec-time="0" queue-time="0" op-digest="91b8661ac13de0e2114690e4149f3bcd" op-secure-params=" passwd  password " op-secure-digest="c9eae91b90ce97ecfdfa17bdee292722"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400498d34_monitor_60000" operation_key="stonith-fence_ipmilan-525400498d34_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="227:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;227:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="122" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="1102" queue-time="0" op-digest="7c2d201fd7b35d63223b518e4ec37f5a" op-secure-params=" passwd  password " op-secure-digest="c9eae91b90ce97ecfdfa17bdee292722"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400498d34_last_failure_0" operation_key="stonith-fence_ipmilan-525400498d34_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="227:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="4:1;227:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="122" rc-code="1" op-status="4" interval="60000" last-rc-change="1512409168" exec-time="15218" queue-time="0" op-digest="7c2d201fd7b35d63223b518e4ec37f5a" op-secure-params=" passwd  password " op-secure-digest="c9eae91b90ce97ecfdfa17bdee292722"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400aac413" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400aac413_last_0" operation_key="stonith-fence_ipmilan-525400aac413_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="252:16366:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;252:16366:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="123" rc-code="0" op-status="0" interval="0" last-run="1512340746" last-rc-change="1512340746" exec-time="2135" queue-time="0" op-digest="b45737bb0d27199c17d938d131074ee5" op-secure-params=" passwd  password " op-secure-digest="b47e5b47ba419433c479357326c16b79"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400aac413_monitor_60000" operation_key="stonith-fence_ipmilan-525400aac413_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="233:16367:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;233:16367:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="124" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340778" exec-time="2135" queue-time="1" op-digest="519d5717cf4b9586e958e89620a86288" op-secure-params=" passwd  password " op-secure-digest="b47e5b47ba419433c479357326c16b79"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-0" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-0">
+            <lrm_rsc_op id="redis-bundle-0_last_0" operation_key="redis-bundle-0_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="62:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;62:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="13" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="0" queue-time="0" op-digest="dd323696d6c8ed14cb71914c411664c9" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-1" type="remote" class="ocf" provider="pacemaker" container="redis-bundle-docker-1">
+            <lrm_rsc_op id="redis-bundle-1_last_0" operation_key="redis-bundle-1_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="64:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;64:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="14" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="0" queue-time="0" op-digest="cd98602d6f977947327050913302f861" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-0" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-0">
+            <lrm_rsc_op id="rabbitmq-bundle-0_last_0" operation_key="rabbitmq-bundle-0_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="80:16366:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;80:16366:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="31" rc-code="0" op-status="0" interval="0" last-run="1512340746" last-rc-change="1512340746" exec-time="0" queue-time="0" op-digest="a41ad5f9625676395b163a06987de2d6" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="rabbitmq-bundle-0_monitor_60000" operation_key="rabbitmq-bundle-0_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="65:16367:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;65:16367:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="33" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340778" exec-time="0" queue-time="0" op-digest="f09b3fbf8a04a3ab4bdb3fed5870adae"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-1" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-1">
+            <lrm_rsc_op id="rabbitmq-bundle-1_last_0" operation_key="rabbitmq-bundle-1_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="83:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;83:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="21" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="0" queue-time="0" op-digest="e25f0ff041ed91bee8ee197d0ce2aebd" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="rabbitmq-bundle-1_monitor_60000" operation_key="rabbitmq-bundle-1_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="61:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;61:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="27" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="0" queue-time="0" op-digest="006c72e63b78b05f1a9175b74f27325a"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-2" type="remote" class="ocf" provider="pacemaker" container="rabbitmq-bundle-docker-2">
+            <lrm_rsc_op id="rabbitmq-bundle-2_last_0" operation_key="rabbitmq-bundle-2_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="88:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;88:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="22" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="0" queue-time="0" op-digest="593e15353c64e73e2efe61415c7dd44b" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="rabbitmq-bundle-2_monitor_60000" operation_key="rabbitmq-bundle-2_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="66:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;66:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="28" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="0" queue-time="0" op-digest="79276e73b8cca5be7d8bcb4332451faf"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-0" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-0_last_0" operation_key="messaging-0_migrate_from_0" operation="migrate_from" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="72:16366:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;72:16366:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="30" rc-code="0" op-status="0" interval="0" last-run="1512340746" last-rc-change="1512340746" exec-time="0" queue-time="0" migrate_source="controller-0" migrate_target="controller-2" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="messaging-0_monitor_20000" operation_key="messaging-0_monitor_20000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="56:16367:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;56:16367:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="32" rc-code="0" op-status="0" interval="20000" last-rc-change="1512340778" exec-time="0" queue-time="0" op-digest="6e5bb737f46c381d8a46fb4162afd9e0"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-1" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-1_last_0" operation_key="messaging-1_migrate_from_0" operation="migrate_from" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="70:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;70:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="19" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="0" queue-time="0" migrate_source="controller-1" migrate_target="controller-2" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="messaging-1_monitor_20000" operation_key="messaging-1_monitor_20000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="68:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;68:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="25" rc-code="0" op-status="0" interval="20000" last-rc-change="1512340630" exec-time="0" queue-time="0" op-digest="6e5bb737f46c381d8a46fb4162afd9e0"/>
+          </lrm_resource>
+          <lrm_resource id="messaging-2" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="messaging-2_last_0" operation_key="messaging-2_migrate_from_0" operation="migrate_from" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="75:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;75:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="20" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="0" queue-time="0" migrate_source="controller-1" migrate_target="controller-2" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="messaging-2_monitor_20000" operation_key="messaging-2_monitor_20000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="73:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;73:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="26" rc-code="0" op-status="0" interval="20000" last-rc-change="1512340630" exec-time="0" queue-time="0" op-digest="6e5bb737f46c381d8a46fb4162afd9e0"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-0_last_0" operation_key="haproxy-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="73:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;73:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="55" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="59" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-1_last_0" operation_key="haproxy-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="74:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;74:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="59" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="59" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+          </lrm_resource>
+          <lrm_resource id="haproxy-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="haproxy-bundle-docker-2_last_0" operation_key="haproxy-bundle-docker-2_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="242:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;242:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="105" rc-code="0" op-status="0" interval="0" last-run="1512340434" last-rc-change="1512340434" exec-time="467" queue-time="0" op-digest="083d0ea9c147277510859fd504bf65e4"/>
+            <lrm_rsc_op id="haproxy-bundle-docker-2_monitor_60000" operation_key="haproxy-bundle-docker-2_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="243:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;243:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="107" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340435" exec-time="88" queue-time="0" op-digest="02bacde98cfd7c1daceaf2a3bb4f851c"/>
+          </lrm_resource>
+          <lrm_resource id="ip-10.0.0.104" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-10.0.0.104_last_0" operation_key="ip-10.0.0.104_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="68:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;68:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="35" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="89" queue-time="0" op-digest="f1d53d03e6223a0e53558dbf6f3bcbea"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.3.13" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.3.13_last_0" operation_key="ip-172.17.3.13_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="71:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;71:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="47" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="83" queue-time="1" op-digest="aabfc88ecfd0ef79b36f8958512b0190"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400c709f7" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400c709f7_last_0" operation_key="stonith-fence_ipmilan-525400c709f7_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="79:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;79:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="79" rc-code="7" op-status="0" interval="0" last-run="1512340434" last-rc-change="1512340434" exec-time="0" queue-time="0" op-digest="1a536a915526af43ef48909329afb3b2" op-secure-params=" passwd  password " op-secure-digest="79c818a20ab9bdc97f7834f1e78face1"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400a25787" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a25787_last_0" operation_key="stonith-fence_ipmilan-525400a25787_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="240:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;240:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="113" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="1095" queue-time="0" op-digest="3b08cb766486ae213950205853288336" op-secure-params=" passwd  password " op-secure-digest="b0cbf3a6399393106803cb99269abe06"/>
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a25787_monitor_60000" operation_key="stonith-fence_ipmilan-525400a25787_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="217:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;217:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="121" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="1103" queue-time="0" op-digest="1cadaa04d411d74a4e55ea3f387d0a3b" op-secure-params=" passwd  password " op-secure-digest="b0cbf3a6399393106803cb99269abe06"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400a7f9e0" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400a7f9e0_last_0" operation_key="stonith-fence_ipmilan-525400a7f9e0_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="57:6:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:7;57:6:7:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-2" call-id="129" rc-code="7" op-status="0" interval="0" last-run="1512340954" last-rc-change="1512340954" exec-time="0" queue-time="0" op-digest="79027109189cf76473206a064a7297db" op-secure-params=" passwd  password " op-secure-digest="324791a6565e672135bd6e0325f2d7ca"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-0" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-0">
+            <lrm_rsc_op id="galera-bundle-0_last_0" operation_key="galera-bundle-0_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="58:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;58:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="10" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="0" queue-time="0" op-digest="dbc6b52d45a75a0b041af92265b22f9e" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-1" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-1">
+            <lrm_rsc_op id="galera-bundle-1_last_0" operation_key="galera-bundle-1_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="119:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;119:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="23" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="0" queue-time="0" op-digest="f6e3b46e18b24f6e1cca9639ec9b7c41" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="galera-bundle-1_monitor_60000" operation_key="galera-bundle-1_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="97:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;97:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="29" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340635" exec-time="0" queue-time="0" op-digest="ae45df88a5aa8e68160cbb0faee9cc78"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-2" type="remote" class="ocf" provider="pacemaker" container="galera-bundle-docker-2">
+            <lrm_rsc_op id="galera-bundle-2_last_0" operation_key="galera-bundle-2_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="60:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;60:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="12" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="0" queue-time="0" op-digest="bf7cf9acd053cee24dc3401862009e40" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="stonith-fence_ipmilan-525400542c06" type="fence_ipmilan" class="stonith">
+            <lrm_rsc_op id="stonith-fence_ipmilan-525400542c06_last_0" operation_key="stonith-fence_ipmilan-525400542c06_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="83:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;83:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="96" rc-code="7" op-status="0" interval="0" last-run="1512340434" last-rc-change="1512340434" exec-time="0" queue-time="0" op-digest="c29ea7ff58baa575edf9b083d96c8d97" op-secure-params=" passwd  password " op-secure-digest="982bf2fb6d049bf379a72647cb6eab0a"/>
+          </lrm_resource>
+          <lrm_resource id="ip-192.168.24.11" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-192.168.24.11_last_0" operation_key="ip-192.168.24.11_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="67:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;67:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="31" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="90" queue-time="0" op-digest="d16224b1cc961154d457d259d944b5f9"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-0_last_0" operation_key="redis-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="61:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;61:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="17" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="35" queue-time="0" op-digest="b6bd1e4fa13216f010a5f4ba18d081a3"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.1.11" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.1.11_last_0" operation_key="ip-172.17.1.11_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="70:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;70:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="43" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="86" queue-time="0" op-digest="7c6ed186ff8cdf7693b51ee42b4fc6e1"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-2_last_0" operation_key="redis-bundle-docker-2_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="180:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;180:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="92" rc-code="0" op-status="0" interval="0" last-run="1512340434" last-rc-change="1512340434" exec-time="486" queue-time="0" op-digest="cdf5d52dbfd265e497dd1dfb06f2faf1"/>
+            <lrm_rsc_op id="redis-bundle-docker-2_monitor_60000" operation_key="redis-bundle-docker-2_monitor_60000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="181:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;181:16353:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="108" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340435" exec-time="85" queue-time="0" op-digest="4482b2a3082df72156f22666721ee018"/>
+          </lrm_resource>
+          <lrm_resource id="redis-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis-bundle-docker-1_last_0" operation_key="redis-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="63:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;63:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="22" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="44" queue-time="0" op-digest="d12a03fcf5794843261e2916fbd6c63b"/>
+          </lrm_resource>
+          <lrm_resource id="database-0" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-0_last_0" operation_key="database-0_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="49:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;49:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="1" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="database-1" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-1_last_0" operation_key="database-1_migrate_from_0" operation="migrate_from" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="61:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;61:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="18" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="0" queue-time="0" migrate_source="controller-1" migrate_target="controller-2" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+            <lrm_rsc_op id="database-1_monitor_20000" operation_key="database-1_monitor_20000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="59:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;59:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="24" rc-code="0" op-status="0" interval="20000" last-rc-change="1512340630" exec-time="0" queue-time="0" op-digest="6e5bb737f46c381d8a46fb4162afd9e0"/>
+          </lrm_resource>
+          <lrm_resource id="database-2" type="remote" class="ocf" provider="pacemaker">
+            <lrm_rsc_op id="database-2_last_0" operation_key="database-2_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="51:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;51:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="3" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="0" queue-time="0" op-digest="a48beba1b11f09d6b1c15da8db5bb0a2" op-force-restart=" server " op-restart-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="openstack-cinder-volume" type="openstack-cinder-volume" class="systemd">
+            <lrm_rsc_op id="openstack-cinder-volume_last_0" operation_key="openstack-cinder-volume_monitor_0" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="76:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;76:16353:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="67" rc-code="7" op-status="0" interval="0" last-run="1512340433" last-rc-change="1512340433" exec-time="60" queue-time="0" op-digest="f2317cad3d54cec5d7d7aa7d0bf35cf8"/>
+          </lrm_resource>
+          <lrm_resource id="ip-172.17.1.19" type="IPaddr2" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="ip-172.17.1.19_last_0" operation_key="ip-172.17.1.19_start_0" operation="start" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="210:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;210:16359:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="115" rc-code="0" op-status="0" interval="0" last-run="1512340629" last-rc-change="1512340629" exec-time="4074" queue-time="0" op-digest="2c46df7582fe8b55e9dcdeaceb4c84c7"/>
+            <lrm_rsc_op id="ip-172.17.1.19_monitor_10000" operation_key="ip-172.17.1.19_monitor_10000" operation="monitor" crm-debug-origin="build_active_RAs" crm_feature_set="3.0.12" transition-key="188:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;188:16360:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="117" rc-code="0" op-status="0" interval="10000" last-rc-change="1512340635" exec-time="42" queue-time="0" op-digest="1aa0805e76d86953238cd18a51b57487"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="database-0" uname="database-0" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <transient_attributes id="database-0">
+        <instance_attributes id="status-database-0">
+          <nvpair id="status-database-0-master-galera" name="master-galera" value="100"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="database-0">
+        <lrm_resources>
+          <lrm_resource id="galera-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-0_last_failure_0" operation_key="galera-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="50:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;50:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13110" rc-code="0" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="80" queue-time="0" op-digest="ed7e84d41c6aedf055e8c2d9ca23355d"/>
+            <lrm_rsc_op id="galera-bundle-docker-0_last_0" operation_key="galera-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="50:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;50:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13110" rc-code="0" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="80" queue-time="0" op-digest="ed7e84d41c6aedf055e8c2d9ca23355d"/>
+            <lrm_rsc_op id="galera-bundle-docker-0_monitor_60000" operation_key="galera-bundle-docker-0_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="117:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;117:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13120" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340233" exec-time="84" queue-time="1" op-digest="47d23461e235e733db55f81b8b33a5c5"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-1_last_0" operation_key="galera-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="51:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;51:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13114" rc-code="7" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="31" queue-time="0" op-digest="14385e7ff7b4fcd7e4d11755b3ad0c94"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-2_last_0" operation_key="galera-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="52:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;52:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13118" rc-code="7" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="29" queue-time="0" op-digest="b338eb1889737523521461347b98b88a"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="messaging-0" uname="messaging-0" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <transient_attributes id="messaging-0">
+        <instance_attributes id="status-messaging-0">
+          <nvpair id="status-messaging-0-rmq-node-attr-rabbitmq" name="rmq-node-attr-rabbitmq" value="rabbit@messaging-0"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="messaging-0">
+        <lrm_resources>
+          <lrm_resource id="rabbitmq-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-0_last_failure_0" operation_key="rabbitmq-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="59:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;59:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13141" rc-code="0" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="92" queue-time="1" op-digest="91337b9335bcb7351857d25c1cf3d392"/>
+            <lrm_rsc_op id="rabbitmq-bundle-docker-0_last_0" operation_key="rabbitmq-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="59:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;59:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13141" rc-code="0" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="92" queue-time="1" op-digest="91337b9335bcb7351857d25c1cf3d392"/>
+            <lrm_rsc_op id="rabbitmq-bundle-docker-0_monitor_60000" operation_key="rabbitmq-bundle-docker-0_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="80:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;80:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13151" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340233" exec-time="83" queue-time="0" op-digest="761356432321d7bc8da634ff67896f4a"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-1_last_0" operation_key="rabbitmq-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="60:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;60:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13145" rc-code="7" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="35" queue-time="0" op-digest="b59f3520d7d5f770ece284f4ab68291b"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-2_last_0" operation_key="rabbitmq-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="61:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;61:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-0" call-id="13149" rc-code="7" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="34" queue-time="0" op-digest="7f41de83a371741e06e17d6c96a008a7"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="database-1" uname="database-1" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <transient_attributes id="database-1">
+        <instance_attributes id="status-database-1">
+          <nvpair id="status-database-1-master-galera" name="master-galera" value="100"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="database-1">
+        <lrm_resources>
+          <lrm_resource id="galera-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-0_last_0" operation_key="galera-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="53:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;53:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13942" rc-code="7" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="39" queue-time="0" op-digest="ed7e84d41c6aedf055e8c2d9ca23355d"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-1_last_failure_0" operation_key="galera-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="54:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;54:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13946" rc-code="0" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="82" queue-time="0" op-digest="14385e7ff7b4fcd7e4d11755b3ad0c94"/>
+            <lrm_rsc_op id="galera-bundle-docker-1_last_0" operation_key="galera-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="54:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;54:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13946" rc-code="0" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="82" queue-time="0" op-digest="14385e7ff7b4fcd7e4d11755b3ad0c94"/>
+            <lrm_rsc_op id="galera-bundle-docker-1_monitor_60000" operation_key="galera-bundle-docker-1_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="122:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;122:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13951" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340233" exec-time="86" queue-time="0" op-digest="59fb532a17dc4de0d7c6984a4a9fbce7"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-2_last_0" operation_key="galera-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="55:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;55:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13950" rc-code="7" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="29" queue-time="0" op-digest="b338eb1889737523521461347b98b88a"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="database-2" uname="database-2" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <transient_attributes id="database-2">
+        <instance_attributes id="status-database-2">
+          <nvpair id="status-database-2-master-galera" name="master-galera" value="100"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="database-2">
+        <lrm_resources>
+          <lrm_resource id="galera-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-0_last_0" operation_key="galera-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="56:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;56:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="9925" rc-code="7" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="32" queue-time="1" op-digest="ed7e84d41c6aedf055e8c2d9ca23355d"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-1_last_0" operation_key="galera-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="57:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;57:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="9929" rc-code="7" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="29" queue-time="0" op-digest="14385e7ff7b4fcd7e4d11755b3ad0c94"/>
+          </lrm_resource>
+          <lrm_resource id="galera-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera-bundle-docker-2_last_failure_0" operation_key="galera-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="58:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;58:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="9933" rc-code="0" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="91" queue-time="0" op-digest="b338eb1889737523521461347b98b88a"/>
+            <lrm_rsc_op id="galera-bundle-docker-2_last_0" operation_key="galera-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="58:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;58:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="9933" rc-code="0" op-status="0" interval="0" last-run="1512340229" last-rc-change="1512340229" exec-time="91" queue-time="0" op-digest="b338eb1889737523521461347b98b88a"/>
+            <lrm_rsc_op id="galera-bundle-docker-2_monitor_60000" operation_key="galera-bundle-docker-2_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="127:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;127:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="9934" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340233" exec-time="82" queue-time="0" op-digest="d69e833791e20b938e2c63f2e2e57ed2"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="messaging-2" uname="messaging-2" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <transient_attributes id="messaging-2">
+        <instance_attributes id="status-messaging-2">
+          <nvpair id="status-messaging-2-rmq-node-attr-rabbitmq" name="rmq-node-attr-rabbitmq" value="rabbit@messaging-2"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="messaging-2">
+        <lrm_resources>
+          <lrm_resource id="rabbitmq-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-0_last_0" operation_key="rabbitmq-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="65:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;65:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="13666" rc-code="7" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="33" queue-time="0" op-digest="91337b9335bcb7351857d25c1cf3d392"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-1_last_0" operation_key="rabbitmq-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="66:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;66:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="13670" rc-code="7" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="31" queue-time="0" op-digest="b59f3520d7d5f770ece284f4ab68291b"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-2_last_failure_0" operation_key="rabbitmq-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="67:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;67:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="13674" rc-code="0" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="78" queue-time="0" op-digest="7f41de83a371741e06e17d6c96a008a7"/>
+            <lrm_rsc_op id="rabbitmq-bundle-docker-2_last_0" operation_key="rabbitmq-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="67:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;67:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="13674" rc-code="0" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="78" queue-time="0" op-digest="7f41de83a371741e06e17d6c96a008a7"/>
+            <lrm_rsc_op id="rabbitmq-bundle-docker-2_monitor_60000" operation_key="rabbitmq-bundle-docker-2_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="90:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;90:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="13675" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340233" exec-time="91" queue-time="0" op-digest="5319266a2fe53465b1122352efb6aa5c"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="messaging-1" uname="messaging-1" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <transient_attributes id="messaging-1">
+        <instance_attributes id="status-messaging-1">
+          <nvpair id="status-messaging-1-rmq-node-attr-rabbitmq" name="rmq-node-attr-rabbitmq" value="rabbit@messaging-1"/>
+        </instance_attributes>
+      </transient_attributes>
+      <lrm id="messaging-1">
+        <lrm_resources>
+          <lrm_resource id="rabbitmq-bundle-docker-0" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-0_last_0" operation_key="rabbitmq-bundle-docker-0_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="62:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;62:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13935" rc-code="7" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="36" queue-time="0" op-digest="91337b9335bcb7351857d25c1cf3d392"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-docker-1" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-1_last_failure_0" operation_key="rabbitmq-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="63:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;63:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13939" rc-code="0" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="82" queue-time="0" op-digest="b59f3520d7d5f770ece284f4ab68291b"/>
+            <lrm_rsc_op id="rabbitmq-bundle-docker-1_last_0" operation_key="rabbitmq-bundle-docker-1_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="63:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;63:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13939" rc-code="0" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="82" queue-time="0" op-digest="b59f3520d7d5f770ece284f4ab68291b"/>
+            <lrm_rsc_op id="rabbitmq-bundle-docker-1_monitor_60000" operation_key="rabbitmq-bundle-docker-1_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="85:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;85:16342:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13944" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340233" exec-time="88" queue-time="0" op-digest="f8c3faf3117dbe6901f69d517a8a7f78"/>
+          </lrm_resource>
+          <lrm_resource id="rabbitmq-bundle-docker-2" type="docker" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq-bundle-docker-2_last_0" operation_key="rabbitmq-bundle-docker-2_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="64:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:7;64:16341:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="13943" rc-code="7" op-status="0" interval="0" last-run="1512340228" last-rc-change="1512340228" exec-time="32" queue-time="0" op-digest="7f41de83a371741e06e17d6c96a008a7"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+    </node_state>
+    <node_state remote_node="true" id="redis-bundle-0" uname="redis-bundle-0" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="redis-bundle-0">
+        <lrm_resources>
+          <lrm_resource id="redis" type="redis" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis_last_0" operation_key="redis_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="163:2:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" transition-magic="0:0;163:2:0:eb31bf05-9ee9-4a86-a2a2-c9729b835413" on_node="controller-0" call-id="8" rc-code="0" op-status="0" interval="0" last-run="1512340830" last-rc-change="1512340830" exec-time="4400" queue-time="0" op-digest="a5b2a4f5c557278af14d6cbffc5a229d" op-secure-params=" user " op-secure-digest="a5b2a4f5c557278af14d6cbffc5a229d"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="redis-bundle-0">
+        <instance_attributes id="status-redis-bundle-0"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="redis-bundle-2" uname="redis-bundle-2" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="redis-bundle-2">
+        <lrm_resources>
+          <lrm_resource id="redis" type="redis" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="redis_last_0" operation_key="redis_start_0" operation="start" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="163:16355:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;163:16355:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="8" rc-code="0" op-status="0" interval="0" last-run="1512340456" last-rc-change="1512340456" exec-time="4408" queue-time="0" op-digest="a5b2a4f5c557278af14d6cbffc5a229d" op-secure-params=" user " op-secure-digest="a5b2a4f5c557278af14d6cbffc5a229d"/>
+            <lrm_rsc_op id="redis_monitor_60000" operation_key="redis_monitor_60000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="164:16356:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;164:16356:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="52" rc-code="0" op-status="0" interval="60000" last-rc-change="1512340461" exec-time="573" queue-time="0" op-digest="992feffd37882eb5ce9bfc847b2fa75e" op-secure-params=" user " op-secure-digest="a5b2a4f5c557278af14d6cbffc5a229d"/>
+            <lrm_rsc_op id="redis_monitor_45000" operation_key="redis_monitor_45000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="163:16356:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;163:16356:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="53" rc-code="0" op-status="0" interval="45000" last-rc-change="1512340462" exec-time="931" queue-time="533" op-digest="992feffd37882eb5ce9bfc847b2fa75e" op-secure-params=" user " op-secure-digest="a5b2a4f5c557278af14d6cbffc5a229d"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="redis-bundle-2">
+        <instance_attributes id="status-redis-bundle-2"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="redis-bundle-1" uname="redis-bundle-1" in_ccm="false" crm-debug-origin="do_state_transition" node_fenced="0"/>
+    <node_state remote_node="true" id="rabbitmq-bundle-0" uname="rabbitmq-bundle-0" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="rabbitmq-bundle-0">
+        <lrm_resources>
+          <lrm_resource id="rabbitmq" type="rabbitmq-cluster" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq_last_failure_0" operation_key="rabbitmq_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="42:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;42:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="248695" rc-code="0" op-status="0" interval="0" last-run="1512340778" last-rc-change="1512340778" exec-time="3589" queue-time="0" op-digest="780d433233eb4f94c1a151623d002e84"/>
+            <lrm_rsc_op id="rabbitmq_last_0" operation_key="rabbitmq_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="42:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;42:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="248695" rc-code="0" op-status="0" interval="0" last-run="1512340778" last-rc-change="1512340778" exec-time="3589" queue-time="0" op-digest="780d433233eb4f94c1a151623d002e84"/>
+            <lrm_rsc_op id="rabbitmq_monitor_10000" operation_key="rabbitmq_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="80:16368:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;80:16368:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="248714" rc-code="0" op-status="0" interval="10000" last-rc-change="1512340787" exec-time="3644" queue-time="0" op-digest="6b46cdf9111345cbd0460b2540d3b2c7"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="rabbitmq-bundle-0">
+        <instance_attributes id="status-rabbitmq-bundle-0"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="rabbitmq-bundle-1" uname="rabbitmq-bundle-1" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="rabbitmq-bundle-1">
+        <lrm_resources>
+          <lrm_resource id="rabbitmq" type="rabbitmq-cluster" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq_last_failure_0" operation_key="rabbitmq_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="39:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;39:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="328610" rc-code="0" op-status="0" interval="0" last-run="1512340634" last-rc-change="1512340634" exec-time="3669" queue-time="0" op-digest="780d433233eb4f94c1a151623d002e84"/>
+            <lrm_rsc_op id="rabbitmq_last_0" operation_key="rabbitmq_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="39:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;39:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="328610" rc-code="0" op-status="0" interval="0" last-run="1512340634" last-rc-change="1512340634" exec-time="3669" queue-time="0" op-digest="780d433233eb4f94c1a151623d002e84"/>
+            <lrm_rsc_op id="rabbitmq_monitor_10000" operation_key="rabbitmq_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="79:16361:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;79:16361:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="328629" rc-code="0" op-status="0" interval="10000" last-rc-change="1512340645" exec-time="3890" queue-time="0" op-digest="6b46cdf9111345cbd0460b2540d3b2c7"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="rabbitmq-bundle-1">
+        <instance_attributes id="status-rabbitmq-bundle-1"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="rabbitmq-bundle-2" uname="rabbitmq-bundle-2" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="rabbitmq-bundle-2">
+        <lrm_resources>
+          <lrm_resource id="rabbitmq" type="rabbitmq-cluster" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="rabbitmq_last_failure_0" operation_key="rabbitmq_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="40:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;40:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="260210" rc-code="0" op-status="0" interval="0" last-run="1512340635" last-rc-change="1512340635" exec-time="3732" queue-time="0" op-digest="780d433233eb4f94c1a151623d002e84"/>
+            <lrm_rsc_op id="rabbitmq_last_0" operation_key="rabbitmq_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="40:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;40:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="260210" rc-code="0" op-status="0" interval="0" last-run="1512340635" last-rc-change="1512340635" exec-time="3732" queue-time="0" op-digest="780d433233eb4f94c1a151623d002e84"/>
+            <lrm_rsc_op id="rabbitmq_monitor_10000" operation_key="rabbitmq_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="82:16361:0:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:0;82:16361:0:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="260229" rc-code="0" op-status="0" interval="10000" last-rc-change="1512340645" exec-time="3859" queue-time="0" op-digest="6b46cdf9111345cbd0460b2540d3b2c7"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="rabbitmq-bundle-2">
+        <instance_attributes id="status-rabbitmq-bundle-2"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="galera-bundle-0" uname="galera-bundle-0" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="galera-bundle-0">
+        <lrm_resources>
+          <lrm_resource id="galera" type="galera" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera_last_failure_0" operation_key="galera_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="40:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;40:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="4040" rc-code="8" op-status="0" interval="0" last-run="1512340778" last-rc-change="1512340778" exec-time="667" queue-time="0" op-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+            <lrm_rsc_op id="galera_last_0" operation_key="galera_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="40:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;40:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="4040" rc-code="8" op-status="0" interval="0" last-run="1512340778" last-rc-change="1512340778" exec-time="667" queue-time="0" op-digest="54ae66ac8c91c3dc2b73e1ea256393e1" op-secure-params=" user " op-secure-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+            <lrm_rsc_op id="galera_monitor_10000" operation_key="galera_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="117:16368:8:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;117:16368:8:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="4051" rc-code="8" op-status="0" interval="10000" last-rc-change="1512340787" exec-time="338" queue-time="0" op-digest="1698dd48f1fe54ed898160a0139cf835" op-secure-params=" user " op-secure-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="galera-bundle-0">
+        <instance_attributes id="status-galera-bundle-0"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="galera-bundle-1" uname="galera-bundle-1" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="galera-bundle-1">
+        <lrm_resources>
+          <lrm_resource id="galera" type="galera" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera_last_failure_0" operation_key="galera_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="38:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;38:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="3858" rc-code="8" op-status="0" interval="0" last-run="1512340635" last-rc-change="1512340635" exec-time="1231" queue-time="0" op-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+            <lrm_rsc_op id="galera_last_0" operation_key="galera_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="38:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;38:16360:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="3858" rc-code="8" op-status="0" interval="0" last-run="1512340635" last-rc-change="1512340635" exec-time="1231" queue-time="0" op-digest="54ae66ac8c91c3dc2b73e1ea256393e1" op-secure-params=" user " op-secure-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+            <lrm_rsc_op id="galera_monitor_10000" operation_key="galera_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="119:16361:8:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;119:16361:8:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-2" call-id="3869" rc-code="8" op-status="0" interval="10000" last-rc-change="1512340646" exec-time="343" queue-time="0" op-digest="1698dd48f1fe54ed898160a0139cf835" op-secure-params=" user " op-secure-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="galera-bundle-1">
+        <instance_attributes id="status-galera-bundle-1"/>
+      </transient_attributes>
+    </node_state>
+    <node_state remote_node="true" id="galera-bundle-2" uname="galera-bundle-2" in_ccm="true" crm-debug-origin="do_state_transition" node_fenced="0">
+      <lrm id="galera-bundle-2">
+        <lrm_resources>
+          <lrm_resource id="galera" type="galera" class="ocf" provider="heartbeat">
+            <lrm_rsc_op id="galera_last_failure_0" operation_key="galera_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="41:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;41:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="3480" rc-code="8" op-status="0" interval="0" last-run="1512340778" last-rc-change="1512340778" exec-time="1060" queue-time="0" op-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+            <lrm_rsc_op id="galera_last_0" operation_key="galera_monitor_0" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="41:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;41:16367:7:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="3480" rc-code="8" op-status="0" interval="0" last-run="1512340778" last-rc-change="1512340778" exec-time="1060" queue-time="0" op-digest="54ae66ac8c91c3dc2b73e1ea256393e1" op-secure-params=" user " op-secure-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+            <lrm_rsc_op id="galera_monitor_10000" operation_key="galera_monitor_10000" operation="monitor" crm-debug-origin="do_update_resource" crm_feature_set="3.0.12" transition-key="126:16368:8:e146b395-5d9c-4cf5-9590-12e56c48a012" transition-magic="0:8;126:16368:8:e146b395-5d9c-4cf5-9590-12e56c48a012" on_node="controller-1" call-id="3491" rc-code="8" op-status="0" interval="10000" last-rc-change="1512340787" exec-time="329" queue-time="1" op-digest="1698dd48f1fe54ed898160a0139cf835" op-secure-params=" user " op-secure-digest="54ae66ac8c91c3dc2b73e1ea256393e1"/>
+          </lrm_resource>
+        </lrm_resources>
+      </lrm>
+      <transient_attributes id="galera-bundle-2">
+        <instance_attributes id="status-galera-bundle-2"/>
+      </transient_attributes>
+    </node_state>
+  </status>
+</cib>
-- 
1.8.3.1

